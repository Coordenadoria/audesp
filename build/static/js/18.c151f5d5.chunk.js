"use strict";(self.webpackChunkaudesp_connect_phase_v=self.webpackChunkaudesp_connect_phase_v||[]).push([[18],{2750(e,t,o){o.d(t,{D0:()=>d,MG:()=>c,T6:()=>l,VR:()=>r,X3:()=>i});var s=o(9379),a=(o(5043),o(3519)),n=o(579);const r={INPUT:"w-full h-10 px-3 rounded-md border border-slate-300 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-all placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-500",CHECKBOX:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-colors",LABEL:"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",SECTION:"bg-white p-6 rounded-lg shadow-sm border border-slate-200 mb-6 animate-in fade-in slide-in-from-bottom-2 duration-500",BTN_ADD:"h-9 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium shadow-sm transition-colors flex items-center gap-2 cursor-pointer",BTN_REMOVE:"text-red-500 hover:text-red-700 text-xs font-bold uppercase tracking-wide transition-colors px-2 py-1 rounded hover:bg-red-50 cursor-pointer",BTN_SUB:"h-7 px-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded text-xs font-bold",HEADER_TITLE:"text-xl font-bold text-slate-800",HEADER_DIVIDER:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",GRID_CONTAINER:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",FLEX_ROW_CENTER:"flex items-center gap-3"},i=e=>{let{title:t,children:o}=e;return(0,n.jsxs)("div",{className:r.HEADER_DIVIDER,children:[(0,n.jsx)("h2",{className:r.HEADER_TITLE,children:t}),(0,n.jsx)("div",{className:"flex gap-2",children:o})]})},c=e=>{let{label:t,error:o,children:s}=e;return(0,n.jsxs)("div",{className:"mb-1",children:[(0,n.jsx)("label",{className:r.LABEL,children:t}),s,o&&(0,n.jsx)("div",{className:"text-red-600 text-[10px] font-bold uppercase mt-1 animate-pulse",children:o})]})};function l(e){let{title:t,items:o,newItemTemplate:c,onAdd:l,onRemove:d,onUpdate:p,renderItem:u,ocrSection:m,onOcrData:x}=e;return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)(i,{title:t,children:(0,n.jsx)("button",{onClick:()=>l(c),className:r.BTN_ADD,children:"+ Adicionar Item"})}),m&&(0,n.jsx)(a.O,{section:m,onDataExtracted:e=>{e&&("relacao_empregados"===m&&e.empregados&&Array.isArray(e.empregados)?e.empregados.forEach(e=>l(e)):x?x(e):l((0,s.A)((0,s.A)({},c),e)))}}),o&&o.length>0?o.map((e,t)=>(0,n.jsxs)("div",{className:r.SECTION+" relative border-l-4 border-l-slate-400",children:[(0,n.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,n.jsx)("button",{onClick:()=>d(t),className:r.BTN_REMOVE,children:"\ud83d\uddd1 Remover"})}),(0,n.jsx)("div",{className:"pt-2",children:u(e,t,(e,o)=>p(t,e,o))})]},t)):(0,n.jsx)("div",{className:"text-center p-8 border-2 border-dashed border-slate-200 rounded-lg bg-slate-50",children:(0,n.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Nenhum registro adicionado."})})]})}const d=e=>{let{label:t,value:o,onChange:s,type:a="text",error:i,options:l}=e;return(0,n.jsx)(c,{label:t,error:i,children:l?(0,n.jsx)("select",{className:r.INPUT,value:o,onChange:e=>s(e.target.value),children:l.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,n.jsx)("input",{type:a,className:r.INPUT,value:o,onChange:e=>s("number"===a?Number(e.target.value):e.target.value),step:"number"===a?"0.01":void 0})})}},3519(e,t,o){o.d(t,{O:()=>u});var s=o(5043),a=o(2332),n=o(1257),r=o.n(n);function i(e){return e.replace(/\D/g,"")}function c(e){try{if(e.match(/\d{4}[\/\-]\d{2}[\/\-]\d{2}/)){const[t,o,s]=e.replace(/\//g,"-").split("-");return"".concat(t,"-").concat(o,"-").concat(s)}const[t,o,s]=e.replace(/\//g,"-").split("-");if(parseInt(s)>1900&&parseInt(o)>0&&parseInt(o)<=12&&parseInt(t)>0&&parseInt(t)<=31)return"".concat(s,"-").concat(o.padStart(2,"0"),"-").concat(t.padStart(2,"0"))}catch(t){return null}return null}async function l(e){try{console.log("[OCR] Iniciando processamento de:",e.name);const t=await async function(e){console.log("[OCR] Iniciando extra\xe7\xe3o de PDF:",e.name);const t=await e.arrayBuffer(),o=await a.YE({data:t}).promise;let s="";for(let a=1;a<=Math.min(o.numPages,10);a++){const e=await o.getPage(a),t=e.getViewport({scale:2}),n=document.createElement("canvas"),i=n.getContext("2d");i&&(n.width=t.width,n.height=t.height,await e.render({canvasContext:i,viewport:t}).promise,console.log("[OCR] Processando p\xe1gina ".concat(a,"/").concat(o.numPages,"...")),s+=(await r().recognize(n,"por+eng",{logger:e=>{"recognizing"===e.status&&console.log("[OCR] P\xe1gina ".concat(a,": ").concat(Math.round(100*e.progress),"%"))}})).data.text+"\n")}return console.log("[OCR] Extra\xe7\xe3o completa, tamanho:",s.length),s}(e),o=function(e){var t;const o={confidence:.5,rawText:e,valores:{},responsaveis:[],cpfs:[],datas:[],documentos_fiscais:[],contratos:[]},s=e.match(/(\d{2}\.?\d{3}\.?\d{3}\/?\d{4}-?\d{2})/);s&&(o.cnpj=s[1].replace(/\D/g,""),console.log("[OCR] CNPJ detectado:",o.cnpj));const a=e.matchAll(/(\d{3}\.?\d{3}\.?\d{3}-?\d{2})/g);for(const c of a){const e=i(c[1]);o.cpfs.includes(e)||o.cpfs.push(e)}console.log("[OCR] CPFs detectados:",o.cpfs);const n=e.matchAll(/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{4}|\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2})/g);for(const i of n){const e=c(i[1]);e&&!o.datas.includes(e)&&o.datas.push(e)}console.log("[OCR] Datas detectadas:",o.datas);const r=e.match(/R\$[\s]*([\d.,]+)/gi);if(r){const e=r.map(e=>parseFloat(e.replace(/[^\d,]/g,"").replace(",",".")));e.length>0&&(o.valores.despesas=e.reduce((e,t)=>e+t,0)/e.length,console.log("[OCR] Valores detectados:",e))}const l=e.match(/(\d{4})/);l&&(o.ano=parseInt(l[1]),console.log("[OCR] Ano detectado:",o.ano));const d=["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"];for(let i=0;i<d.length;i++)if(e.toLowerCase().includes(d[i])){o.mes=i+1,console.log("[OCR] M\xeas detectado:",o.mes,d[i]);break}(e.toLowerCase().includes("presta\xe7\xe3o")||e.toLowerCase().includes("contas"))&&(o.mes=12,console.log("[OCR] Detectado presta\xe7\xe3o de contas - for\xe7ando m\xeas 12"));const p=e.match(/(35\d{5})/);p&&(o.municipio=parseInt(p[1]),console.log("[OCR] Munic\xedpio detectado:",o.municipio));const u={responsaveis:["respons\xe1vel","diretor","presidente","gestor","ordenador"],documentos:["nf","nota fiscal","recibo","comprovante","fatura"],contratos:["contrato","termo","acordo","licita\xe7\xe3o"]},m=e.split("\n");for(const i of m)for(const[e,t]of Object.entries(u))t.some(e=>i.toLowerCase().includes(e))&&("responsaveis"!==e||o.responsaveis.includes(i.trim())?"documentos"!==e||o.documentos_fiscais.includes(i.trim())?"contratos"!==e||o.contratos.includes(i.trim())||o.contratos.push(i.trim()):o.documentos_fiscais.push(i.trim()):o.responsaveis.push(i.trim()));const x=[o.cnpj,o.ano,o.mes,o.cpfs&&o.cpfs.length>0,o.datas&&o.datas.length>0,null===(t=o.valores)||void 0===t?void 0:t.despesas].filter(Boolean).length;return o.confidence=Math.min(.95,x/6),console.log("[OCR] Confian\xe7a da extra\xe7\xe3o:",Math.round(100*o.confidence)+"%"),o}(t);return o}catch(t){throw console.error("[OCR] Erro ao processar PDF:",t),new Error("Erro ao processar PDF: ".concat(t instanceof Error?t.message:"Desconhecido"))}}async function d(e,t,o){if(console.log("[OCR] Extracting block data for section: ".concat(o)),console.log("[OCR] Mime type: ".concat(t)),"application/pdf"===t){const s=atob(e),a=new Uint8Array(s.length);for(let e=0;e<s.length;e++)a[e]=s.charCodeAt(e);const n=new Blob([a],{type:t}),r=new File([n],"document.pdf",{type:t}),i=await l(r),c=function(e){var t,o;return{descritor:{municipio:e.municipio,entidade:e.entidade||1,ano:e.ano,mes:e.mes||12},dados_gerais_entidade_beneficiaria:{cnpj:e.cnpj,razao_social:e.razao_social},receitas:{repasses_recebidos:(null===(t=e.valores)||void 0===t?void 0:t.repasses)||0},disponibilidades:{saldos:[{saldo_bancario:(null===(o=e.valores)||void 0===o?void 0:o.disponibilidades)||0}]},extraction_metadata:{source:"PDF_OCR",confidence:e.confidence,timestamp:(new Date).toISOString(),extracted_cpfs:e.cpfs,extracted_datas:e.datas,raw_text_preview:e.rawText.substring(0,500)}}}(i);return{success:!0,source:"PDF_OCR",confidence:i.confidence,data:c,section:o}}throw new Error("Tipo de documento n\xe3o suportado: ".concat(t))}"undefined"!==typeof window&&(a.EA.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(a.rE,"/pdf.worker.min.js"));var p=o(579);const u=e=>{let{section:t,onDataExtracted:o}=e;const[a,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(null);return(0,p.jsxs)("div",{className:"mb-6 p-4 bg-indigo-50 border border-indigo-200 rounded-lg shadow-sm",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{className:"text-sm font-bold text-indigo-800 flex items-center gap-2",children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"OCR Inteligente (Gemini 2.0)"]}),(0,p.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:["Extra\xe7\xe3o autom\xe1tica para se\xe7\xe3o: ",(0,p.jsx)("strong",{children:t})]})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("input",{type:"file",accept:"image/*,application/pdf",onChange:async e=>{if(e.target.files&&e.target.files[0]){const s=e.target.files[0];n(!0),i(null);const a=new FileReader;a.onloadend=async()=>{try{const e=a.result.split(",")[1],n=s.type,r=await d(e,n,t);r?o(r):i("OCR: N\xe3o foi poss\xedvel identificar dados estruturados neste documento.")}catch(e){i("Erro no processamento IA. Verifique conex\xe3o ou tente outro arquivo."),console.error(e)}finally{n(!1)}},a.readAsDataURL(s)}},disabled:a,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,p.jsx)("button",{disabled:a,className:"px-4 py-2 rounded text-sm font-medium shadow transition-colors ".concat(a?"bg-indigo-300":"bg-indigo-600 hover:bg-indigo-700"," text-white"),children:a?"Lendo Documento...":"Upload PDF/Imagem"})]})]}),r&&(0,p.jsx)("p",{className:"text-red-600 text-xs mt-2 font-medium",children:r})]})}},5018(e,t,o){o.d(t,{FullReportImporter:()=>b});var s=o(5043),a=o(7756);const n=e=>{if(!e)return"";return String(e).replace(/\D/g,"")},r=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(t){const e=t[1].padStart(2,"0"),o=t[2].padStart(2,"0"),s=t[3];return"".concat(s,"-").concat(o,"-").concat(e)}return e},i=e=>{if("number"===typeof e)return e;if(!e)return 0;let t=String(e);t.includes(",")&&!t.includes("US")&&(t=t.replace(/\./g,"").replace(",",".")),t=t.replace(/[^\d.-]/g,"");const o=parseFloat(t);return isNaN(o)?0:o};function c(e){if(Array.isArray(e))return e.map(e=>c(e));if("object"===typeof e&&null!==e){const t={};for(const o in e){const s=e[o];o.includes("cpf")||o.includes("cnpj")||o.includes("documento_numero")?t[o]=n(s):o.includes("data")||"vigencia_data_inicial"===o||"vigencia_data_final"===o?t[o]=r(s):o.includes("valor")||o.includes("saldo")||o.includes("remuneracao")||o.includes("montante")?t[o]=i(s):t[o]="object"===typeof s?c(s):s}return t}return e}let l=null;"undefined"===typeof window&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY&&(l=new a.M4({apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY}));const d={type:a.ZU.OBJECT,properties:{documento_numero:{type:a.ZU.STRING,description:"CNPJ or CPF numbers only"},nome:{type:a.ZU.STRING},documento_tipo:{type:a.ZU.NUMBER,description:"2 for CNPJ, 1 for CPF"}}},p={type:a.ZU.OBJECT,properties:{numero:{type:a.ZU.STRING},data_emissao:{type:a.ZU.STRING,description:"YYYY-MM-DD"},valor_bruto:{type:a.ZU.NUMBER},credor:d,descricao:{type:a.ZU.STRING},categoria_despesas_tipo:{type:a.ZU.NUMBER}}},u={type:a.ZU.OBJECT,properties:{cpf:{type:a.ZU.STRING},data_admissao:{type:a.ZU.STRING},salario_contratual:{type:a.ZU.NUMBER},cbo:{type:a.ZU.STRING},periodos_remuneracao:{type:a.ZU.ARRAY,items:{type:a.ZU.OBJECT,properties:{mes:{type:a.ZU.NUMBER},carga_horaria:{type:a.ZU.NUMBER},remuneracao_bruta:{type:a.ZU.NUMBER}}}}}},m={type:a.ZU.OBJECT,properties:{numero:{type:a.ZU.STRING},objeto:{type:a.ZU.STRING},data_assinatura:{type:a.ZU.STRING},valor_montante:{type:a.ZU.NUMBER},vigencia_data_inicial:{type:a.ZU.STRING},credor:d}},x={type:a.ZU.OBJECT,properties:{pagamento_data:{type:a.ZU.STRING},pagamento_valor:{type:a.ZU.NUMBER},numero_transacao:{type:a.ZU.STRING},identificacao_documento_fiscal:{type:a.ZU.OBJECT,properties:{numero:{type:a.ZU.STRING}}},meio_pagamento_tipo:{type:a.ZU.NUMBER}}};a.ZU.OBJECT,a.ZU.STRING,a.ZU.STRING,a.ZU.STRING,a.ZU.NUMBER,a.ZU.OBJECT,a.ZU.NUMBER,a.ZU.NUMBER,a.ZU.STRING,a.ZU.NUMBER,a.ZU.NUMBER,a.ZU.OBJECT,a.ZU.STRING,a.ZU.NUMBER,a.ZU.STRING,a.ZU.OBJECT,a.ZU.STRING,a.ZU.STRING,a.ZU.STRING,a.ZU.NUMBER;async function h(e,t){const o={type:a.ZU.OBJECT,properties:{descritor:{type:a.ZU.OBJECT,properties:{ano:{type:a.ZU.NUMBER},mes:{type:a.ZU.NUMBER},entidade:{type:a.ZU.NUMBER},municipio:{type:a.ZU.NUMBER}}},relacao_empregados:{type:a.ZU.ARRAY,items:u},contratos:{type:a.ZU.ARRAY,items:m},documentos_fiscais:{type:a.ZU.ARRAY,items:p},pagamentos:{type:a.ZU.ARRAY,items:x},empenhos:{type:a.ZU.ARRAY,items:{type:a.ZU.OBJECT,properties:{numero:{type:a.ZU.STRING},data_emissao:{type:a.ZU.STRING},valor:{type:a.ZU.NUMBER},historico:{type:a.ZU.STRING}}}},repasses:{type:a.ZU.ARRAY,items:{type:a.ZU.OBJECT,properties:{data_repasse:{type:a.ZU.STRING},valor_repasse:{type:a.ZU.NUMBER},numero_documento:{type:a.ZU.STRING}}}}}};try{const s=await l.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}},{text:"\n    You are an expert accountant and auditor for TCESP Audesp Phase V.\n    Analyze this ENTIRE document (Accountability Report / Presta\xe7\xe3o de Contas).\n    \n    Your task is to identify and extract ALL relevant sections into a single JSON structure.\n    \n    1. Identify the 'Descritor' (Year, Month, Entity, City).\n    2. Identify 'Empregados' (Payroll).\n    3. Identify 'Contratos' (Contracts).\n    4. Identify 'Documentos Fiscais' (Invoices, Receipts).\n    5. Identify 'Pagamentos' (Bank transfers, checks).\n    6. Identify 'Empenhos' (Commitments).\n    7. Identify 'Repasses' (Transfers received).\n    \n    If a section is not found, return an empty array for it.\n    Normalize all dates to YYYY-MM-DD.\n    Normalize all values to float (e.g. 1250.50).\n    Clean CPF/CNPJ (numbers only).\n    "}]},config:{responseMimeType:"application/json",responseSchema:o}});if(s.text){return c(JSON.parse(s.text))}return null}catch(s){throw console.error("Full Report Extraction Error:",s),s}}var f=o(2750),g=o(579);const b=e=>{let{onDataMerge:t,onCancel:o}=e;const[a,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),[c,l]=(0,s.useState)(null),d=()=>{c&&t(c)};var p,u,m,x;return c?(0,g.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 z-50 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-lg shadow-2xl flex flex-col",children:[(0,g.jsxs)("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Revis\xe3o da Importa\xe7\xe3o Inteligente"}),(0,g.jsx)("p",{className:"text-sm text-slate-500",children:"O OCR identificou os seguintes registros no seu documento."})]}),(0,g.jsxs)("div",{className:"flex gap-3",children:[(0,g.jsx)("button",{onClick:o,className:"text-slate-500 hover:text-slate-800 font-bold text-sm px-4",children:"Cancelar"}),(0,g.jsx)("button",{onClick:d,className:f.VR.BTN_ADD,children:"Confirmar e Importar Tudo"})]})]}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-100 space-y-6",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,g.jsx)(N,{label:"Empregados",count:(null===(p=c.relacao_empregados)||void 0===p?void 0:p.length)||0}),(0,g.jsx)(N,{label:"Contratos",count:(null===(u=c.contratos)||void 0===u?void 0:u.length)||0}),(0,g.jsx)(N,{label:"Notas Fiscais",count:(null===(m=c.documentos_fiscais)||void 0===m?void 0:m.length)||0}),(0,g.jsx)(N,{label:"Pagamentos",count:(null===(x=c.pagamentos)||void 0===x?void 0:x.length)||0})]}),(0,g.jsxs)("div",{className:"bg-white p-4 rounded border border-slate-200",children:[(0,g.jsx)("h3",{className:"font-bold text-sm mb-2 text-slate-700",children:"Pr\xe9-visualiza\xe7\xe3o dos Dados Estruturados"}),(0,g.jsx)("pre",{className:"text-xs font-mono bg-slate-900 text-green-400 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(c,null,2)})]})]})]})}):(0,g.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 z-50 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-2xl p-8 text-center",children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 011.414.586l4.414 4.414a1 1 0 01.586 1.414V19a2 2 0 01-2 2z"})})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Importar Presta\xe7\xe3o Completa"}),(0,g.jsx)("p",{className:"text-slate-500 mt-2 text-sm",children:"Fa\xe7a upload de um PDF contendo m\xfaltiplos documentos (Notas, Extratos, Folha). A IA ir\xe1 separar e classificar tudo automaticamente."})]}),(0,g.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 hover:bg-slate-50 transition-colors relative cursor-pointer",children:[(0,g.jsx)("input",{type:"file",accept:"application/pdf",onChange:async e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];n(!0),i("Lendo arquivo (Isso pode levar alguns segundos)...");const o=new FileReader;o.onloadend=async()=>{try{const e=o.result.split(",")[1];i("Enviando para IA (Gemini 2.0)...");const s=await h(e,t.type);s?(l(s),i("An\xe1lise conclu\xedda. Revise os dados abaixo.")):i("Falha: Nenhum dado estruturado encontrado.")}catch(e){i("Erro: ".concat(e.message))}finally{n(!1)}},o.readAsDataURL(t)}},disabled:a,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a?(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,g.jsx)("p",{className:"text-sm font-bold text-blue-600",children:r})]}):(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-bold text-slate-700",children:"Clique ou arraste o PDF aqui"}),(0,g.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Suporta arquivos PDF digitalizados (OCR via Gemini)"})]})]}),(0,g.jsx)("button",{onClick:o,className:"mt-6 text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Cancelar"})]})})},N=e=>{let{label:t,count:o}=e;return(0,g.jsxs)("div",{className:"bg-white p-4 rounded border border-slate-200 shadow-sm text-center",children:[(0,g.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o}),(0,g.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold",children:t})]})}}}]);
//# sourceMappingURL=18.c151f5d5.chunk.js.map