/*! For license information please see main.4f867a92.js.LICENSE.txt */
(()=>{var e={122(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!==r--;){var s=a[r];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},138(e,t,n){"use strict";var o,r,a,s,i=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const l=n(8584),c=n(9207),u=n(1762),d=n(9550),p=n(8396),f={keyword:"discriminator",type:"object",schemaType:"object",error:{message:e=>{let{params:{discrError:t,tagName:n}}=e;return t===c.DiscrError.Tag?'tag "'.concat(n,'" must be string'):'value of tag "'.concat(n,'" must be in oneOf')},params:e=>{let{params:{discrError:t,tag:n,tagName:r}}=e;return(0,l._)(o||(o=i(["{error: ",", tag: ",", tagValue: ","}"])),t,r,n)}},code(e){const{gen:t,data:n,schema:o,parentSchema:f,it:m}=e,{oneOf:h}=f;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=o.propertyName;if("string"!=typeof g)throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const v=t.let("valid",!1),y=t.const("tag",(0,l._)(r||(r=i(["","",""])),n,(0,l.getProperty)(g)));function b(n){const o=t.name("valid"),r=e.subschema({keyword:"oneOf",schemaProp:n},o);return e.mergeEvaluated(r,l.Name),o}t.if((0,l._)(a||(a=i(["typeof ",' == "string"'])),y),()=>function(){const n=function(){var e;const t={},n=r(f);let o=!0;for(let i=0;i<h.length;i++){let t=h[i];if((null===t||void 0===t?void 0:t.$ref)&&!(0,p.schemaHasRulesButRef)(t,m.self.RULES)){const e=t.$ref;if(t=u.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,e),t instanceof u.SchemaEnv&&(t=t.schema),void 0===t)throw new d.default(m.opts.uriResolver,m.baseId,e)}const s=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[g];if("object"!=typeof s)throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(g,'"'));o=o&&(n||r(t)),a(s,i)}if(!o)throw new Error('discriminator: "'.concat(g,'" must be required'));return t;function r(e){let{required:t}=e;return Array.isArray(t)&&t.includes(g)}function a(e,t){if(e.const)s(e.const,t);else{if(!e.enum)throw new Error('discriminator: "properties/'.concat(g,'" must have "const" or "enum"'));for(const n of e.enum)s(n,t)}}function s(e,n){if("string"!=typeof e||e in t)throw new Error('discriminator: "'.concat(g,'" values must be unique strings'));t[e]=n}}();t.if(!1);for(const e in n)t.elseIf((0,l._)(s||(s=i([""," === ",""])),y,e)),t.assign(v,b(n[e]));t.else(),e.error(!1,{discrError:c.DiscrError.Mapping,tag:y,tagName:g}),t.endIf()}(),()=>e.error(!1,{discrError:c.DiscrError.Tag,tag:y,tagName:g})),e.ok(v)}};t.default=f},166(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},266(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8584),r={data:new o.Name("data"),valCxt:new o.Name("valCxt"),instancePath:new o.Name("instancePath"),parentData:new o.Name("parentData"),parentDataProperty:new o.Name("parentDataProperty"),rootData:new o.Name("rootData"),dynamicAnchors:new o.Name("dynamicAnchors"),vErrors:new o.Name("vErrors"),errors:new o.Name("errors"),this:new o.Name("this"),self:new o.Name("self"),scope:new o.Name("scope"),json:new o.Name("json"),jsonPos:new o.Name("jsonPos"),jsonLen:new o.Name("jsonLen"),jsonPart:new o.Name("jsonPart")};t.default=r},463(e,t,n){"use strict";var o,r,a,s,i=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const l=n(8584),c=n(8396);function u(e,t,n){const{gen:u,compositeRule:d,data:p,opts:f}=e;if(void 0===n)return;const m=(0,l._)(o||(o=i(["","",""])),p,(0,l.getProperty)(t));if(d)return void(0,c.checkStrictMode)(e,"default is ignored for: ".concat(m));let h=(0,l._)(r||(r=i([""," === undefined"])),m);"empty"===f.useDefaults&&(h=(0,l._)(a||(a=i([""," || "," === null || ",' === ""'])),h,m,m)),u.if(h,(0,l._)(s||(s=i([""," = ",""])),m,(0,l.stringify)(n)))}t.assignDefaults=function(e,t){const{properties:n,items:o}=e.schema;if("object"===t&&n)for(const r in n)u(e,r,n[r].default);else"array"===t&&Array.isArray(o)&&o.forEach((t,n)=>u(e,n,t.default))}},483(e,t,n){"use strict";var o,r=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const a=n(2215),s=n(7864),i=n(8584),l=new i.Name("fullFormats"),c=new i.Name("fastFormats"),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keywords:!0};if(Array.isArray(t))return d(e,t,a.fullFormats,l),e;const[n,o]="fast"===t.mode?[a.fastFormats,c]:[a.fullFormats,l];return d(e,t.formats||a.formatNames,n,o),t.keywords&&s.default(e),e};function d(e,t,n,a){var s,l;null!==(s=(l=e.opts.code).formats)&&void 0!==s||(l.formats=i._(o||(o=r(['require("ajv-formats/dist/formats").',""])),a));for(const o of t)e.addFormat(o,n[o])}u.get=function(e){const t=("fast"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full")?a.fastFormats:a.fullFormats)[e];if(!t)throw new Error('Unknown format "'.concat(e,'"'));return t},e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},579(e,t,n){"use strict";e.exports=n(1153)},656(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const b=n(8584),_=n(8396),E=n(266),x=n(8396);function w(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,b._)(a||(a=y(["Object.prototype.hasOwnProperty"])))})}function S(e,t,n){return(0,b._)(s||(s=y(["",".call(",", ",")"])),w(e),t,n)}function C(e,t,n,o){const r=(0,b._)(c||(c=y(["",""," === undefined"])),t,(0,b.getProperty)(n));return o?(0,b.or)(r,(0,b.not)(S(e,t,n))):r}function N(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:a}=e;n.if(C(n,r,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,b._)(o||(o=y(["",""])),t)},!0),e.error()})},t.checkMissingProp=function(e,t,n){let{gen:o,data:a,it:{opts:s}}=e;return(0,b.or)(...t.map(e=>(0,b.and)(C(o,a,e,s.ownProperties),(0,b._)(r||(r=y([""," = ",""])),n,e))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=w,t.isOwnProperty=S,t.propertyInData=function(e,t,n,o){const r=(0,b._)(i||(i=y(["",""," !== undefined"])),t,(0,b.getProperty)(n));return o?(0,b._)(l||(l=y([""," && ",""])),r,S(e,t,n)):r},t.noPropertyInData=C,t.allSchemaProperties=N,t.schemaProperties=function(e,t){return N(t).filter(n=>!(0,_.alwaysValidSchema)(e,t[n]))},t.callValidateCode=function(e,t,n,o){let{schemaCode:r,data:a,it:{gen:s,topSchemaRef:i,schemaPath:l,errorPath:c},it:m}=e;const h=o?(0,b._)(u||(u=y(["",", ",", ","",""])),r,a,i,l):a,g=[[E.default.instancePath,(0,b.strConcat)(E.default.instancePath,c)],[E.default.parentData,m.parentData],[E.default.parentDataProperty,m.parentDataProperty],[E.default.rootData,E.default.rootData]];m.opts.dynamicRef&&g.push([E.default.dynamicAnchors,E.default.dynamicAnchors]);const v=(0,b._)(d||(d=y(["",", ",""])),h,s.object(...g));return n!==b.nil?(0,b._)(p||(p=y(["",".call(",", ",")"])),t,n,v):(0,b._)(f||(f=y(["","(",")"])),t,v)};const I=(0,b._)(m||(m=y(["new RegExp"])));t.usePattern=function(e,t){let{gen:n,it:{opts:o}}=e;const r=o.unicodeRegExp?"u":"",{regExp:a}=o.code,s=a(t,r);return n.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,b._)(h||(h=y(["","(",", ",")"])),"new RegExp"===a.code?I:(0,x.useFunc)(n,a),t,r)})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:r}=e,a=t.name("valid");if(r.allErrors){const e=t.let("valid",!0);return s(()=>t.assign(e,!1)),e}return t.var(a,!0),s(()=>t.break()),a;function s(r){const s=t.const("len",(0,b._)(g||(g=y(["",".length"])),n));t.forRange("i",0,s,n=>{e.subschema({keyword:o,dataProp:n,dataPropType:_.Type.Num},a),t.if((0,b.not)(a),r)})}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(e=>(0,_.alwaysValidSchema)(r,e))&&!r.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>n.forEach((n,r)=>{const i=e.subschema({keyword:o,schemaProp:r,compositeRule:!0},s);t.assign(a,(0,b._)(v||(v=y([""," || ",""])),a,s));e.mergeValidEvaluated(i,s)||t.if((0,b.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}},667(e){"use strict";var t=e.exports=function(e,t,o){"function"==typeof t&&(o=t,t={}),n(t,"function"==typeof(o=t.cb||o)?o:o.pre||function(){},o.post||function(){},e,"",e)};function n(e,r,a,s,i,l,c,u,d,p){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var f in r(s,i,l,c,u,d,p),s){var m=s[f];if(Array.isArray(m)){if(f in t.arrayKeywords)for(var h=0;h<m.length;h++)n(e,r,a,m[h],i+"/"+f+"/"+h,l,i,f,s,h)}else if(f in t.propsKeywords){if(m&&"object"==typeof m)for(var g in m)n(e,r,a,m[g],i+"/"+f+"/"+o(g),l,i,f,s,g)}else(f in t.keywords||e.allKeys&&!(f in t.skipKeywords))&&n(e,r,a,m,i+"/"+f,l,i,f,s)}a(s,i,l,c,u,d,p)}}function o(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},1011(e,t,n){"use strict";var o,r,a,s,i=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const l=n(656),c=n(8584),u={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return(0,c.str)(o||(o=i(['must match pattern "','"'])),t)},params:e=>{let{schemaCode:t}=e;return(0,c._)(r||(r=i(["{pattern: ","}"])),t)}},code(e){const{data:t,$data:n,schema:o,schemaCode:r,it:u}=e,d=u.opts.unicodeRegExp?"u":"",p=n?(0,c._)(a||(a=i(["(new RegExp(",", ","))"])),r,d):(0,l.usePattern)(e,o);e.fail$data((0,c._)(s||(s=i(["!",".test(",")"])),p,t))}};t.default=u},1153(e,t,n){"use strict";var o=n(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,a={},c=null,u=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!l.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:i.current}}t.jsx=c,t.jsxs=c},1156(e,t,n){"use strict";var o,r,a,s,i,l=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const c=n(8584),u=n(8396),d={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:e=>{let{params:{len:t}}=e;return(0,c.str)(o||(o=l(["must NOT have more than "," items"])),t)},params:e=>{let{params:{len:t}}=e;return(0,c._)(r||(r=l(["{limit: ","}"])),t)}},code(e){const{parentSchema:t,it:n}=e,{items:o}=t;Array.isArray(o)?p(e,o):(0,u.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function p(e,t){const{gen:n,schema:o,data:r,keyword:d,it:p}=e;p.items=!0;const f=n.const("len",(0,c._)(a||(a=l(["",".length"])),r));if(!1===o)e.setParams({len:t.length}),e.pass((0,c._)(s||(s=l([""," <= ",""])),f,t.length));else if("object"==typeof o&&!(0,u.alwaysValidSchema)(p,o)){const o=n.var("valid",(0,c._)(i||(i=l([""," <= ",""])),f,t.length));n.if((0,c.not)(o),()=>function(o){n.forRange("i",t.length,f,t=>{e.subschema({keyword:d,dataProp:t,dataPropType:u.Type.Num},o),p.allErrors||n.if((0,c.not)(o),()=>n.break())})}(o)),e.ok(o)}}t.validateAdditionalItems=p,t.default=d},1289(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l=n(8396),c={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:e=>{let{params:t}=e;return(0,i._)(o||(o=s(["{passingSchemas: ","}"])),t.passing)}},code(e){const{gen:t,schema:n,parentSchema:o,it:c}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const u=n,d=t.let("valid",!1),p=t.let("passing",null),f=t.name("_valid");e.setParams({passing:p}),t.block(function(){u.forEach((n,o)=>{let u;(0,l.alwaysValidSchema)(c,n)?t.var(f,!0):u=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},f),o>0&&t.if((0,i._)(r||(r=s([""," && ",""])),f,d)).assign(d,!1).assign(p,(0,i._)(a||(a=s(["[",", ","]"])),p,o)).else(),t.if(f,()=>{t.assign(d,!0),t.assign(p,o),u&&e.mergeEvaluated(u,i.Name)})})}),e.result(d,()=>e.reset(),()=>e.error(!0))}};t.default=c},1518(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l=n(8396),c=n(2979),u={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:e=>{let{schemaCode:t}=e;return(0,i._)(o||(o=s(["{allowedValue: ","}"])),t)}},code(e){const{gen:t,data:n,$data:o,schemaCode:u,schema:d}=e;o||d&&"object"==typeof d?e.fail$data((0,i._)(r||(r=s(["!","(",", ",")"])),(0,l.useFunc)(t,c.default),n,u)):e.fail((0,i._)(a||(a=s([""," !== ",""])),d,n))}};t.default=u},1578(e,t,n){"use strict";const{isUUID:o}=n(6099),r=/([0-9a-z\u017F\u212A][\x2D0-9a-z\u017F\u212A]{0,31}):((?:[!\$'-\.0-;=@-Z_a-z\u017F\u212A]|%[0-9a-f]{2})+)/i,a=["http","https","ws","wss","urn","urn:uuid"];function s(e){return!0===e.secure||!1!==e.secure&&(!!e.scheme&&(3===e.scheme.length&&("w"===e.scheme[0]||"W"===e.scheme[0])&&("s"===e.scheme[1]||"S"===e.scheme[1])&&("s"===e.scheme[2]||"S"===e.scheme[2])))}function i(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function l(e){const t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}const c={scheme:"http",domainHost:!0,parse:i,serialize:l},u={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=s(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if(e.port!==(s(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}},d={http:c,https:{scheme:"https",domainHost:c.domainHost,parse:i,serialize:l},ws:u,wss:{scheme:"wss",domainHost:u.domainHost,parse:u.parse,serialize:u.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const n=e.path.match(r);if(n){const o=t.scheme||e.scheme||"urn";e.nid=n[1].toLowerCase(),e.nss=n[2];const r=p("".concat(o,":").concat(t.nid||e.nid));e.path=void 0,r&&(e=r.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){if(void 0===e.nid)throw new Error("URN without nid cannot be serialized");const n=t.scheme||e.scheme||"urn",o=e.nid.toLowerCase(),r=p("".concat(n,":").concat(t.nid||o));r&&(e=r.serialize(e,t));const a=e,s=e.nss;return a.path="".concat(o||t.nid,":").concat(s),t.skipEscape=!0,a},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,t){const n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&o(n.uuid)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};function p(e){return e&&(d[e]||d[e.toLowerCase()])||void 0}Object.setPrototypeOf(d,null),e.exports={wsIsSecure:s,SCHEMES:d,isValidSchemeName:function(e){return-1!==a.indexOf(e)},getSchemeHandler:p}},1598(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const i=n(8584),l=n(8396),c=n(656);t.error={message:e=>{let{params:{property:t,depsCount:n,deps:r}}=e;const a=1===n?"property":"properties";return(0,i.str)(o||(o=s(["must have "," "," when property "," is present"])),a,r,t)},params:e=>{let{params:{property:t,depsCount:n,deps:o,missingProperty:a}}=e;return(0,i._)(r||(r=s(["{property: ",",\n    missingProperty: ",",\n    depsCount: ",",\n    deps: ","}"])),t,a,n,o)}};const u={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function(e){let{schema:t}=e;const n={},o={};for(const r in t){if("__proto__"===r)continue;(Array.isArray(t[r])?n:o)[r]=t[r]}return[n,o]}(e);d(e,t),p(e,n)}};function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:o,it:r}=e;if(0===Object.keys(t).length)return;const l=n.let("missing");for(const u in t){const d=t[u];if(0===d.length)continue;const p=(0,c.propertyInData)(n,o,u,r.opts.ownProperties);e.setParams({property:u,depsCount:d.length,deps:d.join(", ")}),r.allErrors?n.if(p,()=>{for(const t of d)(0,c.checkReportMissingProp)(e,t)}):(n.if((0,i._)(a||(a=s([""," && (",")"])),p,(0,c.checkMissingProp)(e,d,l))),(0,c.reportMissingProp)(e,l),n.else())}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:o,keyword:r,it:a}=e,s=n.name("valid");for(const i in t)(0,l.alwaysValidSchema)(a,t[i])||(n.if((0,c.propertyInData)(n,o,i,a.opts.ownProperties),()=>{const t=e.subschema({keyword:r,schemaProp:i},s);e.mergeValidEvaluated(t,s)},()=>n.var(s,!0)),e.ok(s))}t.validatePropertyDeps=d,t.validateSchemaDeps=p,t.default=u},1762(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const s=n(8584),i=n(6817),l=n(266),c=n(2302),u=n(8396),d=n(5413);class p{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,c.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function f(e){const t=h.call(this,e);if(t)return t;const n=(0,c.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:p}=this.opts.code,{ownProperties:f}=this.opts,m=new s.CodeGen(this.scope,{es5:u,lines:p,ownProperties:f});let g;e.$async&&(g=m.scopeValue("Error",{ref:i.default,code:(0,s._)(o||(o=a(['require("ajv/dist/runtime/validation_error").default'])))}));const v=m.scopeName("validate");e.validateName=v;const y={gen:m,allErrors:this.opts.allErrors,data:l.default.data,parentData:l.default.parentData,parentDataProperty:l.default.parentDataProperty,dataNames:[l.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:m.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,s.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:g,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:s.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,s._)(r||(r=a(['""']))),opts:this.opts,self:this};let b;try{this._compilations.add(e),(0,d.validateFunctionCode)(y),m.optimize(this.opts.code.optimize);const t=m.toString();b="".concat(m.scopeRefs(l.default.scope),"return ").concat(t),this.opts.code.process&&(b=this.opts.code.process(b,e));const n=new Function("".concat(l.default.self),"".concat(l.default.scope),b)(this,this.scope.get());if(this.scope.value(v,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:v,validateCode:t,scopeValues:m._values}),this.opts.unevaluated){const{props:e,items:t}=y;n.evaluated={props:e instanceof s.Name?void 0:e,items:t instanceof s.Name?void 0:t,dynamicProps:e instanceof s.Name,dynamicItems:t instanceof s.Name},n.source&&(n.source.evaluated=(0,s.stringify)(n.evaluated))}return e.validate=n,e}catch(_){throw delete e.validate,delete e.validateName,b&&this.logger.error("Error compiling schema, function code:",b),_}finally{this._compilations.delete(e)}}function m(e){return(0,c.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:f.call(this,e)}function h(e){for(const t of this._compilations)if(g(t,e))return t}function g(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function v(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||y.call(this,e,t)}function y(e,t){const n=this.opts.uriResolver.parse(t),o=(0,c._getFullPath)(this.opts.uriResolver,n);let r=(0,c.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===r)return _.call(this,n,e);const a=(0,c.normalizeId)(o),s=this.refs[a]||this.schemas[a];if("string"==typeof s){const t=y.call(this,e,s);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return _.call(this,n,t)}if("object"===typeof(null===s||void 0===s?void 0:s.schema)){if(s.validate||f.call(this,s),a===(0,c.normalizeId)(t)){const{schema:t}=s,{schemaId:n}=this.opts,o=t[n];return o&&(r=(0,c.resolveUrl)(this.opts.uriResolver,r,o)),new p({schema:t,schemaId:n,root:e,baseId:r})}return _.call(this,n,s)}}t.SchemaEnv=p,t.compileSchema=f,t.resolveRef=function(e,t,n){var o;n=(0,c.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let a=v.call(this,e,n);if(void 0===a){const r=null===(o=e.localRefs)||void 0===o?void 0:o[n],{schemaId:s}=this.opts;r&&(a=new p({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==a?e.refs[n]=m.call(this,a):void 0},t.getCompilingSchema=h,t.resolveSchema=y;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(e,t){let{baseId:n,schema:o,root:r}=t;var a;if("/"!==(null===(a=e.fragment)||void 0===a?void 0:a[0]))return;for(const l of e.fragment.slice(1).split("/")){if("boolean"===typeof o)return;const e=o[(0,u.unescapeFragment)(l)];if(void 0===e)return;o=e;const t="object"===typeof o&&o[this.opts.schemaId];!b.has(l)&&t&&(n=(0,c.resolveUrl)(this.opts.uriResolver,n,t))}let s;if("boolean"!=typeof o&&o.$ref&&!(0,u.schemaHasRulesButRef)(o,this.RULES)){const e=(0,c.resolveUrl)(this.opts.uriResolver,n,o.$ref);s=y.call(this,r,e)}const{schemaId:i}=this.opts;return s=s||new p({schema:o,schemaId:i,root:r,baseId:n}),s.schema!==s.root.schema?s:void 0}},2075(e,t,n){"use strict";var o,r,a,s,i,l=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const c=n(656),u=n(8584),d=n(266),p=n(8396),f={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:e=>{let{params:t}=e;return(0,u._)(o||(o=l(["{additionalProperty: ","}"])),t.additionalProperty)}},code(e){const{gen:t,schema:n,parentSchema:o,data:f,errsCount:m,it:h}=e;if(!m)throw new Error("ajv implementation error");const{allErrors:g,opts:v}=h;if(h.props=!0,"all"!==v.removeAdditional&&(0,p.alwaysValidSchema)(h,n))return;const y=(0,c.allSchemaProperties)(o.properties),b=(0,c.allSchemaProperties)(o.patternProperties);function _(e){t.code((0,u._)(i||(i=l(["delete ","[","]"])),f,e))}function E(o){if("all"===v.removeAdditional||v.removeAdditional&&!1===n)_(o);else{if(!1===n)return e.setParams({additionalProperty:o}),e.error(),void(g||t.break());if("object"==typeof n&&!(0,p.alwaysValidSchema)(h,n)){const n=t.name("valid");"failing"===v.removeAdditional?(x(o,n,!1),t.if((0,u.not)(n),()=>{e.reset(),_(o)})):(x(o,n),g||t.if((0,u.not)(n),()=>t.break()))}}}function x(t,n,o){const r={keyword:"additionalProperties",dataProp:t,dataPropType:p.Type.Str};!1===o&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}t.forIn("key",f,n=>{y.length||b.length?t.if(function(n){let r;if(y.length>8){const e=(0,p.schemaRefOrVal)(h,o.properties,"properties");r=(0,c.isOwnProperty)(t,e,n)}else r=y.length?(0,u.or)(...y.map(e=>(0,u._)(a||(a=l([""," === ",""])),n,e))):u.nil;return b.length&&(r=(0,u.or)(r,...b.map(t=>(0,u._)(s||(s=l(["",".test(",")"])),(0,c.usePattern)(e,t),n)))),(0,u.not)(r)}(n),()=>E(n)):E(n)}),e.ok((0,u._)(r||(r=l([""," === ",""])),m,d.default.errors))}};t.default=f},2079(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},2141(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(6623),r=n(7352),a=n(9294),s=n(1011),i=n(8211),l=n(4796),c=n(4700),u=n(6480),d=n(1518),p=n(6740),f=[o.default,r.default,a.default,s.default,i.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,p.default];t.default=f},2215(e,t,n){"use strict";var o=n(2897).default;function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(i,l),time:r(u,d),"date-time":r(function(e){const t=e.split(p);return 2===t.length&&i(t[0])&&u(t[1],!0)},f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return m.test(e)&&h.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:http[s\u017F]?|ftp):\/\/(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!(?:10|127)(?:\.[0-9]{1,3}){3})(?!(?:169\.254|192\.168)(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:[0-9KSa-z\xA1-\uFFFF]+-)*[0-9KSa-z\xA1-\uFFFF]+)(?:\.(?:[0-9KSa-z\xA1-\uFFFF]+-)*[0-9KSa-z\xA1-\uFFFF]+)*(?:\.(?:[KSa-z\xA1-\uFFFF]{2,})))(?::[0-9]{2,5})?(?:\/(?:(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*)?$/i,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return g.lastIndex=0,g.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=2147483647&&e>=-2147483648}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:v},double:{type:"number",validate:v},password:!0,binary:!0},t.fastFormats=o(o({},t.fullFormats),{},{date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),t.formatNames=Object.keys(t.fullFormats);const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){const t=a.exec(e);if(!t)return!1;const n=+t[1],o=+t[2],r=+t[3];return o>=1&&o<=12&&r>=1&&r<=(2===o&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:s[o])}function l(e,t){if(e&&t)return e>t?1:e<t?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(e,t){const n=c.exec(e);if(!n)return!1;const o=+n[1],r=+n[2],a=+n[3],s=n[5];return(o<=23&&r<=59&&a<=59||23===o&&59===r&&60===a)&&(!t||""!==s)}function d(e,t){if(!e||!t)return;const n=c.exec(e),o=c.exec(t);return n&&o?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=o[1]+o[2]+o[3]+(o[4]||""))?1:e<t?-1:0:void 0}const p=/t|\s/i;function f(e,t){if(!e||!t)return;const[n,o]=e.split(p),[r,a]=t.split(p),s=l(n,r);return void 0!==s?s||d(o,a):void 0}const m=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const g=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function v(){return!0}const y=/[^\\]\\Z/},2262(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const E=n(8584),x={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return(0,E.str)(o||(o=_(['must match format "','"'])),t)},params:e=>{let{schemaCode:t}=e;return(0,E._)(r||(r=_(["{format: ","}"])),t)}},code(e,t){const{gen:n,data:o,$data:r,schema:x,schemaCode:w,it:S}=e,{opts:C,errSchemaPath:N,schemaEnv:I,self:T}=S;C.validateFormats&&(r?function(){const r=n.scopeValue("formats",{ref:T.formats,code:C.code.formats}),h=n.const("fDef",(0,E._)(a||(a=_(["","[","]"])),r,w)),g=n.let("fType"),v=n.let("format");n.if((0,E._)(s||(s=_(["typeof ",' == "object" && !('," instanceof RegExp)"])),h,h),()=>n.assign(g,(0,E._)(i||(i=_(["",'.type || "string"'])),h)).assign(v,(0,E._)(l||(l=_(["",".validate"])),h)),()=>n.assign(g,(0,E._)(c||(c=_(['"string"'])))).assign(v,h)),e.fail$data((0,E.or)(!1===C.strictSchema?E.nil:(0,E._)(u||(u=_([""," && !",""])),w,v),function(){const e=I.$async?(0,E._)(d||(d=_(["(",".async ? await ","(",") : ","(","))"])),h,v,o,v,o):(0,E._)(p||(p=_(["","(",")"])),v,o),n=(0,E._)(f||(f=_(["(typeof ",' == "function" ? '," : ",".test(","))"])),v,e,v,o);return(0,E._)(m||(m=_([""," && "," !== true && "," === "," && !",""])),v,v,g,t,n)}()))}():function(){const r=T.formats[x];if(!r)return void function(){if(!1===C.strictSchema)return void T.logger.warn(e());throw new Error(e());function e(){return'unknown format "'.concat(x,'" ignored in schema at path "').concat(N,'"')}}();if(!0===r)return;const[a,s,i]=function(e){const t=e instanceof RegExp?(0,E.regexpCode)(e):C.code.formats?(0,E._)(h||(h=_(["","",""])),C.code.formats,(0,E.getProperty)(x)):void 0,o=n.scopeValue("formats",{key:x,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,(0,E._)(g||(g=_(["",".validate"])),o)];return["string",e,o]}(r);a===t&&e.pass(function(){if("object"==typeof r&&!(r instanceof RegExp)&&r.async){if(!I.$async)throw new Error("async format in sync schema");return(0,E._)(v||(v=_(["await ","(",")"])),i,o)}return"function"==typeof s?(0,E._)(y||(y=_(["","(",")"])),i,o):(0,E._)(b||(b=_(["",".test(",")"])),i,o)}())}())}};t.default=x},2302(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const o=n(8396),r=n(122),a=n(667),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(i.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,o.eachItem)(e[n],e=>t+=c(e)),t===1/0))return 1/0}return t}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=f(t));const n=e.parse(t);return d(e,n)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const p=/#\/?$/;function f(e){return e?e.replace(p,""):""}t.normalizeId=f,t.resolveUrl=function(e,t,n){return n=f(n),e.resolve(t,n)};const m=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:o}=this.opts,s=f(e[n]||t),i={"":s},l=u(o,s,!1),c={},d=new Set;return a(e,{allKeys:!0},(e,t,o,r)=>{if(void 0===r)return;const a=l+t;let s=i[r];function u(t){const n=this.opts.uriResolver.resolve;if(t=f(s?n(s,t):t),d.has(t))throw h(t);d.add(t);let o=this.refs[t];return"string"==typeof o&&(o=this.refs[o]),"object"==typeof o?p(e,o.schema,t):t!==f(a)&&("#"===t[0]?(p(e,c[t],t),c[t]=e):this.refs[t]=a),t}function g(e){if("string"==typeof e){if(!m.test(e))throw new Error('invalid anchor "'.concat(e,'"'));u.call(this,"#".concat(e))}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),i[t]=s}),c;function p(e,t,n){if(void 0!==t&&!r(e,t))throw h(n)}function h(e){return new Error('reference "'.concat(e,'" resolves to more than one schema'))}}},2392(e,t){"use strict";function n(e,t){return t.rules.some(t=>o(e,t))}function o(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){let{schema:o,self:r}=e;const a=r.RULES.types[t];return a&&!0!==a&&n(o,a)},t.shouldUseGroup=n,t.shouldUseRule=o},2730(e,t,n){"use strict";var o=n(5043),r=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function h(e,t,n,o,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,o){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:o||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,o){if(null===t||"undefined"===typeof t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,o)&&(n=null),o||null===r?function(e){return!!d.call(m,e)||!d.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,o=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var L=!1;function q(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var o=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){o=c}e.call(t.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=o.stack.split("\n"),s=r.length-1,i=a.length-1;1<=s&&0<=i&&r[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(r[s]!==a[i]){if(1!==s||1!==i)do{if(s--,0>--i||r[s]!==a[i]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=B(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=z(t.value),o=t.type;if(null!=n)"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!("submit"!==o&&"reset"!==o||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),o=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=o&&(e.defaultValue=""+o)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=he(n,t[n],o);"float"===n&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,we=null,Se=null;function Ce(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=xr(t),xe(e.stateNode,e.type,t))}}function Ne(e){we?Se?Se.push(e):Se=[e]:we=e}function Ie(){if(we){var e=we,t=Se;if(Se=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Oe(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==we||null!==Se)&&(Oe(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var o=xr(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ke=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){ke=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){ke=!1}function De(e,t,n,o,r,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,Le=null,qe={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,o,r,a,s,i,l){Me=!1,Fe=null,De.apply(qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ge(e)!==e)throw Error(a(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(o=r.return)){n=o;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ze(r),e;if(s===o)return ze(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==o.return)n=r,o=s;else{for(var i=!1,l=r.child;l;){if(l===n){i=!0,n=r,o=s;break}if(l===o){i=!0,o=r,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,o=r;break}if(l===o){i=!0,o=s,n=r;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==o)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Je=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,We=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Qe=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,ot=r.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~r;0!==i?o=dt(i):0!==(a&=s)&&(o=dt(a))}else 0!==(s=n&~r)?o=dt(s):0!==a&&(o=dt(a));if(0===o)return 0;if(0!==t&&t!==o&&0===(t&r)&&((r=o&-o)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&o)&&(o|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=o;0<t;)r=1<<(n=31-st(t)),o|=e[n],t&=~r;return o}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-st(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,xt,wt,St,Ct,Nt=!1,It=[],Tt=null,Ot=null,At=null,Rt=new Map,Pt=new Map,kt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,o,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=br(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);_e=o,n.target.dispatchEvent(o),_e=null,t.shift()}return!0}function Lt(e,t,n){Ut(e)&&n.delete(t)}function qt(){Nt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ot&&Ut(Ot)&&(Ot=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(Lt),Pt.forEach(Lt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function Gt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var o=It[n];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Ot&&Vt(Ot,e),null!==At&&Vt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<kt.length;n++)(o=kt[n]).blockedOn===e&&(o.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Ft(n),null===n.blockedOn&&kt.shift()}var Ht=_.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,o){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Jt(e,t,n,o)}finally{bt=r,Ht.transition=a}}function $t(e,t,n,o){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Jt(e,t,n,o)}finally{bt=r,Ht.transition=a}}function Jt(e,t,n,o){if(zt){var r=Wt(e,t,n,o);if(null===r)Bo(e,t,o,Kt,n),Dt(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,o,r),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,o,r),!0;case"mouseover":return At=Mt(At,e,t,n,o,r),!0;case"pointerover":var a=r.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,o,r)),!0;case"gotpointercapture":return a=r.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(Dt(e,o),4&t&&-1<jt.indexOf(e)){for(;null!==r;){var a=_r(r);if(null!==a&&Et(a),null===(a=Wt(e,t,n,o))&&Bo(e,t,o,Kt,n),a===r)break;r=a}null!==r&&o.stopPropagation()}else Bo(e,t,o,null,n)}}var Kt=null;function Wt(e,t,n,o){if(Kt=null,null!==(e=br(e=Ee(o))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,o=n.length,r="value"in Qt?Qt.value:Qt.textContent,a=r.length;for(e=0;e<o&&n[e]===r[e];e++);var s=o-e;for(t=1;t<=s&&n[o-t]===r[a-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,o,r,a){for(var s in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=F({},cn,{view:0,detail:0}),pn=rn(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=rn(fn),hn=rn(F({},fn,{dataTransfer:0})),gn=rn(F({},dn,{relatedTarget:0})),vn=rn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),_n=rn(F({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return Sn}var Nn=F({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(Nn),Tn=rn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=rn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=rn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(Rn),kn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,Fn=u&&(!jn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Bn(e,t,n,o){Ne(o),0<(t=Jo(t,"onChange")).length&&(n=new un("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var $n=null,Jn=null;function Kn(e){Lo(e,0)}function Wn(e){if(J(Er(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Zn="function"===typeof eo.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function to(){$n&&($n.detachEvent("onpropertychange",no),Jn=$n=null)}function no(e){if("value"===e.propertyName&&Wn(Jn)){var t=[];Bn(t,Jn,e,Ee(e)),Re(Kn,t)}}function oo(e,t,n){"focusin"===e?(to(),Jn=n,($n=t).attachEvent("onpropertychange",no)):"focusout"===e&&to()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Jn)}function ao(e,t){if("click"===e)return Wn(t)}function so(e,t){if("input"===e||"change"===e)return Wn(t)}var io="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lo(e,t){if(io(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!d.call(t,r)||!io(e[r],t[r]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uo(e,t){var n,o=co(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=co(o)}}function po(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?po(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fo(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ho(e){var t=fo(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&po(n.ownerDocument.documentElement,n)){if(null!==o&&mo(n))if(t=o.start,void 0===(e=o.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(o.start,r);o=void 0===o.end?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=uo(n,a);var s=uo(n,o);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var go=u&&"documentMode"in document&&11>=document.documentMode,vo=null,yo=null,bo=null,_o=!1;function Eo(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_o||null==vo||vo!==K(o)||("selectionStart"in(o=vo)&&mo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&lo(bo,o)||(bo=o,0<(o=Jo(yo,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=vo)))}function xo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wo={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},So={},Co={};function No(e){if(So[e])return So[e];if(!wo[e])return e;var t,n=wo[e];for(t in n)if(n.hasOwnProperty(t)&&t in Co)return So[e]=n[t];return e}u&&(Co=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);var Io=No("animationend"),To=No("animationiteration"),Oo=No("animationstart"),Ao=No("transitionend"),Ro=new Map,Po="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,t){Ro.set(e,t),l(t,[e])}for(var jo=0;jo<Po.length;jo++){var Do=Po[jo];ko(Do.toLowerCase(),"on"+(Do[0].toUpperCase()+Do.slice(1)))}ko(Io,"onAnimationEnd"),ko(To,"onAnimationIteration"),ko(Oo,"onAnimationStart"),ko("dblclick","onDoubleClick"),ko("focusin","onFocus"),ko("focusout","onBlur"),ko(Ao,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function Uo(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,o,r,s,i,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Le=u)}}(o,t,void 0,e),e.currentTarget=null}function Lo(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var a=void 0;if(t)for(var s=o.length-1;0<=s;s--){var i=o[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&r.isPropagationStopped())break e;Uo(r,i,c),a=l}else for(s=0;s<o.length;s++){if(l=(i=o[s]).instance,c=i.currentTarget,i=i.listener,l!==a&&r.isPropagationStopped())break e;Uo(r,i,c),a=l}}}if(Ue)throw e=Le,Ue=!1,Le=null,e}function qo(e,t){var n=t[gr];void 0===n&&(n=t[gr]=new Set);var o=e+"__bubble";n.has(o)||(zo(t,e,2,!1),n.add(o))}function Vo(e,t,n){var o=0;t&&(o|=4),zo(n,e,o,t)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[Go]){e[Go]=!0,s.forEach(function(t){"selectionchange"!==t&&(Fo.has(t)||Vo(t,!1,e),Vo(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Go]||(t[Go]=!0,Vo("selectionchange",!1,t))}}function zo(e,t,n,o){switch(Yt(t)){case 1:var r=Bt;break;case 4:r=$t;break;default:r=Jt}n=r.bind(null,t,n,e),r=void 0,!ke||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Bo(e,t,n,o,r){var a=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var s=o.tag;if(3===s||4===s){var i=o.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===s)for(s=o.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==i;){if(null===(s=br(i)))return;if(5===(l=s.tag)||6===l){o=a=s;continue e}i=i.parentNode}}o=o.return}Re(function(){var o=a,r=Ee(n),s=[];e:{var i=Ro.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Io:case To:case Oo:l=vn;break;case Ao:l=An;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==i?i+"Capture":null:i;u=[];for(var f,m=o;null!==m;){var h=(f=m).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==p&&(null!=(h=Pe(m,p))&&u.push($o(m,h,f)))),d)break;m=m.return}0<u.length&&(i=new l(i,c,null,n,r),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[hr])&&(l||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=o,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=o),l!==c)){if(u=mn,h="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,h="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==l?i:Er(l),f=null==c?i:Er(c),(i=new u(h,m+"leave",l,n,r)).target=d,i.relatedTarget=f,h=null,br(r)===o&&((u=new u(p,m+"enter",c,n,r)).target=f,u.relatedTarget=d,h=u),d=h,l&&c)e:{for(p=c,m=0,f=u=l;f;f=Ko(f))m++;for(f=0,h=p;h;h=Ko(h))f++;for(;0<m-f;)u=Ko(u),m--;for(;0<f-m;)p=Ko(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break e;u=Ko(u),p=Ko(p)}u=null}else u=null;null!==l&&Wo(s,i,l,u,!1),null!==c&&null!==d&&Wo(s,d,c,u,!0)}if("select"===(l=(i=o?Er(o):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Yn;else if(zn(i))if(Qn)g=so;else{g=ro;var v=oo}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ao);switch(g&&(g=g(e,o))?Bn(s,g,n,r):(v&&v(e,i,o),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=o?Er(o):window,e){case"focusin":(zn(v)||"true"===v.contentEditable)&&(vo=v,yo=o,bo=null);break;case"focusout":bo=yo=vo=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Eo(s,n,r);break;case"selectionchange":if(go)break;case"keydown":case"keyup":Eo(s,n,r)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Xt="value"in(Qt=r)?Qt.value:Qt.textContent,Gn=!0)),0<(v=Jo(o,b)).length&&(b=new _n(b,e,null,n,r),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Un);case"textInput":return(e=t.data)===Un&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!jn&&qn(e,t)?(e=en(),Zt=Xt=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(o=Jo(o,"onBeforeInput")).length&&(r=new _n("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:o}),r.data=y))}Lo(s,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Pe(e,n))&&o.unshift($o(e,a,r)),null!=(a=Pe(e,t))&&o.push($o(e,a,r))),e=e.return}return o}function Ko(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wo(e,t,n,o,r){for(var a=t._reactName,s=[];null!==n&&n!==o;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===o)break;5===i.tag&&null!==c&&(i=c,r?null!=(l=Pe(n,a))&&s.unshift($o(n,l,i)):r||null!=(l=Pe(n,a))&&s.push($o(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yo=/\r\n?/g,Qo=/\u0000|\uFFFD/g;function Xo(e){return("string"===typeof e?e:""+e).replace(Yo,"\n").replace(Qo,"")}function Zo(e,t,n){if(t=Xo(t),Xo(e)!==t&&n)throw Error(a(425))}function er(){}var tr=null,nr=null;function or(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ar="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(lr)}:rr;function lr(e){setTimeout(function(){throw e})}function cr(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return e.removeChild(r),void Gt(t);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Gt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),fr="__reactFiber$"+pr,mr="__reactProps$"+pr,hr="__reactContainer$"+pr,gr="__reactEvents$"+pr,vr="__reactListeners$"+pr,yr="__reactHandles$"+pr;function br(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[fr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[fr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[fr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xr(e){return e[mr]||null}var wr=[],Sr=-1;function Cr(e){return{current:e}}function Nr(e){0>Sr||(e.current=wr[Sr],wr[Sr]=null,Sr--)}function Ir(e,t){Sr++,wr[Sr]=e.current,e.current=t}var Tr={},Or=Cr(Tr),Ar=Cr(!1),Rr=Tr;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jr(){Nr(Ar),Nr(Or)}function Dr(e,t,n){if(Or.current!==Tr)throw Error(a(168));Ir(Or,t),Ir(Ar,n)}function Mr(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in t))throw Error(a(108,H(e)||"Unknown",r));return F({},n,o)}function Fr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,Rr=Or.current,Ir(Or,e),Ir(Ar,Ar.current),!0}function Ur(e,t,n){var o=e.stateNode;if(!o)throw Error(a(169));n?(e=Mr(e,t,Rr),o.__reactInternalMemoizedMergedChildContext=e,Nr(Ar),Nr(Or),Ir(Or,e)):Nr(Ar),Ir(Ar,n)}var Lr=null,qr=!1,Vr=!1;function Gr(e){null===Lr?Lr=[e]:Lr.push(e)}function Hr(){if(!Vr&&null!==Lr){Vr=!0;var e=0,t=bt;try{var n=Lr;for(bt=1;e<n.length;e++){var o=n[e];do{o=o(!0)}while(null!==o)}Lr=null,qr=!1}catch(r){throw null!==Lr&&(Lr=Lr.slice(e+1)),Je(Ze,Hr),r}finally{bt=t,Vr=!1}}return null}var zr=[],Br=0,$r=null,Jr=0,Kr=[],Wr=0,Yr=null,Qr=1,Xr="";function Zr(e,t){zr[Br++]=Jr,zr[Br++]=$r,$r=e,Jr=t}function ea(e,t,n){Kr[Wr++]=Qr,Kr[Wr++]=Xr,Kr[Wr++]=Yr,Yr=e;var o=Qr;e=Xr;var r=32-st(o)-1;o&=~(1<<r),n+=1;var a=32-st(t)+r;if(30<a){var s=r-r%5;a=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Qr=1<<32-st(t)+r|n<<r|o,Xr=a+e}else Qr=1<<a|n<<r|o,Xr=e}function ta(e){null!==e.return&&(Zr(e,1),ea(e,1,0))}function na(e){for(;e===$r;)$r=zr[--Br],zr[Br]=null,Jr=zr[--Br],zr[Br]=null;for(;e===Yr;)Yr=Kr[--Wr],Kr[Wr]=null,Xr=Kr[--Wr],Kr[Wr]=null,Qr=Kr[--Wr],Kr[Wr]=null}var oa=null,ra=null,aa=!1,sa=null;function ia(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,oa=e,ra=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,oa=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,oa=e,ra=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=ra;if(t){var n=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=ur(n.nextSibling);var o=oa;t&&la(e,t)?ia(o,n):(e.flags=-4097&e.flags|2,aa=!1,oa=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,oa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oa=e}function pa(e){if(e!==oa)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!or(e.type,e.memoizedProps)),t&&(t=ra)){if(ca(e))throw fa(),Error(a(418));for(;t;)ia(e,t),t=ur(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=oa?ur(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ur(e.nextSibling)}function ma(){ra=oa=null,aa=!1}function ha(e){null===sa?sa=[e]:sa.push(e)}var ga=_.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var o=n.stateNode}if(!o)throw Error(a(147,e));var r=o,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function _a(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function s(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=2,n):o:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,o){return null===t||6!==t.tag?((t=Mc(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,o){var a=n.type;return a===w?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ba(a)===t.type)?((o=r(t,n.props)).ref=va(e,t,n),o.return=e,o):((o=kc(n.type,n.key,n.props,null,e.mode,o)).ref=va(e,t,n),o.return=e,o)}function u(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,a){return null===t||7!==t.tag?((t=jc(n,e.mode,o,a)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=jc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===r?c(e,t,n,o):null;case x:return n.key===r?u(e,t,n,o):null;case P:return f(e,t,(r=n._init)(n._payload),o)}if(te(n)||D(n))return null!==r?null:d(e,t,n,o,null);ya(e,n)}return null}function m(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return l(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case E:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case x:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case P:return m(e,t,n,(0,o._init)(o._payload),r)}if(te(o)||D(o))return d(t,e=e.get(n)||null,o,r,null);ya(t,o)}return null}function h(r,a,i,l){for(var c=null,u=null,d=a,h=a=0,g=null;null!==d&&h<i.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var v=f(r,d,i[h],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(r,d),a=s(v,a,h),null===u?c=v:u.sibling=v,u=v,d=g}if(h===i.length)return n(r,d),aa&&Zr(r,h),c;if(null===d){for(;h<i.length;h++)null!==(d=p(r,i[h],l))&&(a=s(d,a,h),null===u?c=d:u.sibling=d,u=d);return aa&&Zr(r,h),c}for(d=o(r,d);h<i.length;h++)null!==(g=m(d,r,h,i[h],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=s(g,a,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),aa&&Zr(r,h),c}function g(r,i,l,c){var u=D(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,h=i,g=i=0,v=null,y=l.next();null!==h&&!y.done;g++,y=l.next()){h.index>g?(v=h,h=null):v=h.sibling;var b=f(r,h,y.value,c);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(r,h),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b,h=v}if(y.done)return n(r,h),aa&&Zr(r,g),u;if(null===h){for(;!y.done;g++,y=l.next())null!==(y=p(r,y.value,c))&&(i=s(y,i,g),null===d?u=y:d.sibling=y,d=y);return aa&&Zr(r,g),u}for(h=o(r,h);!y.done;g++,y=l.next())null!==(y=m(h,r,g,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),i=s(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(r,e)}),aa&&Zr(r,g),u}return function e(o,a,s,l){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===w){if(7===u.tag){n(o,u.sibling),(a=r(u,s.props.children)).return=o,o=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ba(c)===u.type){n(o,u.sibling),(a=r(u,s.props)).ref=va(o,u,s),a.return=o,o=a;break e}n(o,u);break}t(o,u),u=u.sibling}s.type===w?((a=jc(s.props.children,o.mode,l,s.key)).return=o,o=a):((l=kc(s.type,s.key,s.props,null,o.mode,l)).ref=va(o,a,s),l.return=o,o=l)}return i(o);case x:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(o,a.sibling),(a=r(a,s.children||[])).return=o,o=a;break e}n(o,a);break}t(o,a),a=a.sibling}(a=Fc(s,o.mode,l)).return=o,o=a}return i(o);case P:return e(o,a,(u=s._init)(s._payload),l)}if(te(s))return h(o,a,s,l);if(D(s))return g(o,a,s,l);ya(o,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(o,a.sibling),(a=r(a,s)).return=o,o=a):(n(o,a),(a=Mc(s,o.mode,l)).return=o,o=a),i(o)):n(o,a)}}var Ea=_a(!0),xa=_a(!1),wa=Cr(null),Sa=null,Ca=null,Na=null;function Ia(){Na=Ca=Sa=null}function Ta(e){var t=wa.current;Nr(wa),e._currentValue=t}function Oa(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){Sa=e,Na=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Sa)throw Error(a(308));Ca=e,Sa.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Pa=null;function ka(e){null===Pa?Pa=[e]:Pa.push(e)}function ja(e,t,n,o){var r=t.interleaved;return null===r?(n.next=n,ka(t)):(n.next=r.next,r.next=n),t.interleaved=n,Da(e,o)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Il)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,Da(e,n)}return null===(r=o.interleaved)?(t.next=t,ka(o)):(t.next=r.next,r.next=t),o.interleaved=t,Da(e,n)}function Va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ga(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,o){var r=e.updateQueue;Ma=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=r.baseState;for(s=0,u=c=l=null,i=a;;){var p=i.lane,f=i.eventTime;if((o&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,h=i;switch(p=t,f=n,h.tag){case 1:if("function"===typeof(m=h.payload)){d=m.call(f,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=h.payload)?m.call(f,d,p):m)||void 0===p)break e;d=F({},d,p);break e;case 2:Ma=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[i]:p.push(i))}else f={eventTime:f,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(p=i).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(a(191,r));r.call(o)}}}var Ba={},$a=Cr(Ba),Ja=Cr(Ba),Ka=Cr(Ba);function Wa(e){if(e===Ba)throw Error(a(174));return e}function Ya(e,t){switch(Ir(Ka,t),Ir(Ja,e),Ir($a,Ba),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Nr($a),Ir($a,t)}function Qa(){Nr($a),Nr(Ja),Nr(Ka)}function Xa(e){Wa(Ka.current);var t=Wa($a.current),n=le(t,e.type);t!==n&&(Ir(Ja,e),Ir($a,n))}function Za(e){Ja.current===e&&(Nr($a),Nr(Ja))}var es=Cr(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function os(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var rs=_.ReactCurrentDispatcher,as=_.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,us=!1,ds=!1,ps=0,fs=0;function ms(){throw Error(a(321))}function hs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!io(e[n],t[n]))return!1;return!0}function gs(e,t,n,o,r,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Zs:ei,e=n(o,r),ds){s=0;do{if(ds=!1,ps=0,25<=s)throw Error(a(301));s+=1,cs=ls=null,t.updateQueue=null,rs.current=ti,e=n(o,r)}while(ds)}if(rs.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,us=!1,t)throw Error(a(300));return e}function vs(){var e=0!==ps;return ps=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function _s(e,t){return"function"===typeof t?t(e):t}function Es(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=ls,r=o.baseQueue,s=n.pending;if(null!==s){if(null!==r){var i=r.next;r.next=s.next,s.next=i}o.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,o=o.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,i=o):c=c.next=p,is.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?i=o:c.next=l,io(o,t.memoizedState)||(bi=!0),t.memoizedState=o,t.baseState=i,t.baseQueue=c,n.lastRenderedState=o}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,is.lanes|=s,Dl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{s=e(s,i.action),i=i.next}while(i!==r);io(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function ws(){}function Ss(e,t){var n=is,o=bs(),r=t(),s=!io(o.memoizedState,r);if(s&&(o.memoizedState=r,bi=!0),o=o.queue,Ms(Is.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Rs(9,Ns.bind(null,n,o,r,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ss)||Cs(n,t,r)}return r}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ns(e,t,n,o){t.value=n,t.getSnapshot=o,Ts(t)&&Os(e)}function Is(e,t,n){return n(function(){Ts(t)&&Os(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!io(e,n)}catch(o){return!0}}function Os(e){var t=Da(e,1);null!==t&&tc(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,is,e),[t.memoizedState,e]}function Rs(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function ks(e,t,n,o){var r=ys();is.flags|=e,r.memoizedState=Rs(1|t,n,void 0,void 0===o?null:o)}function js(e,t,n,o){var r=bs();o=void 0===o?null:o;var a=void 0;if(null!==ls){var s=ls.memoizedState;if(a=s.destroy,null!==o&&hs(o,s.deps))return void(r.memoizedState=Rs(t,n,a,o))}is.flags|=e,r.memoizedState=Rs(1|t,n,a,o)}function Ds(e,t){return ks(8390656,8,e,t)}function Ms(e,t){return js(2048,8,e,t)}function Fs(e,t){return js(4,2,e,t)}function Us(e,t){return js(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Ls.bind(null,t,e),n)}function Vs(){}function Gs(e,t){var n=bs();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&hs(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var o=n.memoizedState;return null!==o&&null!==t&&hs(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function zs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(io(n,t)||(n=ht(),is.lanes|=n,Dl|=n,e.baseState=!0),t)}function Bs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var o=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=o}}function $s(){return bs().memoizedState}function Js(e,t,n){var o=ec(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ws(e))Ys(t,n);else if(null!==(n=ja(e,t,n,o))){tc(n,e,o,Zl()),Qs(n,t,o)}}function Ks(e,t,n){var o=ec(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))Ys(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=a(s,n);if(r.hasEagerState=!0,r.eagerState=i,io(i,s)){var l=t.interleaved;return null===l?(r.next=r,ka(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=ja(e,t,r,o))&&(tc(n,e,o,r=Zl()),Qs(n,t,o))}}function Ws(e){var t=e.alternate;return e===is||null!==t&&t===is}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Ra,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Zs={readContext:Ra,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ks(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ys();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Js.bind(null,is,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Bs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=is,r=ys();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&ss)||Cs(o,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ds(Is.bind(null,o,s,e),[e]),o.flags|=2048,Rs(9,Ns.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Tl.identifierPrefix;if(aa){var n=Xr;t=":"+t+"R"+(n=(Qr&~(1<<32-st(Qr)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ra,useCallback:Gs,useContext:Ra,useEffect:Ms,useImperativeHandle:qs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Hs,useReducer:Es,useRef:Ps,useState:function(){return Es(_s)},useDebugValue:Vs,useDeferredValue:function(e){return zs(bs(),ls.memoizedState,e)},useTransition:function(){return[Es(_s)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1},ti={readContext:Ra,useCallback:Gs,useContext:Ra,useEffect:Ms,useImperativeHandle:qs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:Hs,useReducer:xs,useRef:Ps,useState:function(){return xs(_s)},useDebugValue:Vs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:zs(t,ls.memoizedState,e)},useTransition:function(){return[xs(_s)[0],bs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function oi(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Zl(),r=ec(e),a=La(o,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,r))&&(tc(t,e,r,o),Va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Zl(),r=ec(e),a=La(o,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,r))&&(tc(t,e,r,o),Va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),o=ec(e),r=La(n,o);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=qa(e,r,o))&&(tc(t,e,o,n),Va(t,e,o))}};function ai(e,t,n,o,r,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lo(n,o)||!lo(r,a))}function si(e,t,n){var o=!1,r=Tr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ra(a):(r=kr(t)?Rr:Or.current,a=(o=null!==(o=t.contextTypes)&&void 0!==o)?Pr(e,r):Tr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function li(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ra(a):(a=kr(t)?Rr:Or.current,r.context=Pr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(oi(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ri.enqueueReplaceState(r,r.state,null),Ha(e,n,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",o=t;do{n+=V(o),o=o.return}while(o);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ui(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Hl||(Hl=!0,zl=o),di(0,t)},n}function mi(e,t,n){(n=La(-1,n)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof o&&(null===Bl?Bl=new Set([this]):Bl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new pi;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,n,o,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,qa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var yi=_.ReactCurrentOwner,bi=!1;function _i(e,t,n,o){t.child=null===e?xa(t,null,n,o):Ea(t,e.child,n,o)}function Ei(e,t,n,o,r){n=n.render;var a=t.ref;return Aa(t,r),o=gs(e,t,n,o,a,r),n=vs(),null===e||bi?(aa&&n&&ta(t),t.flags|=1,_i(e,t,o,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hi(e,t,r))}function xi(e,t,n,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wi(e,t,a,o,r))}if(a=e.child,0===(e.lanes&r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lo)(s,o)&&e.ref===t.ref)return Hi(e,t,r)}return t.flags|=1,(e=Pc(a,o)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,n,o,r){if(null!==e){var a=e.memoizedProps;if(lo(a,o)&&e.ref===t.ref){if(bi=!1,t.pendingProps=o=a,0===(e.lanes&r))return t.lanes=e.lanes,Hi(e,t,r);0!==(131072&e.flags)&&(bi=!0)}}return Ni(e,t,n,o,r)}function Si(e,t,n){var o=t.pendingProps,r=o.children,a=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ir(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==a?a.baseLanes:n,Ir(Pl,Rl),Rl|=o}else null!==a?(o=a.baseLanes|n,t.memoizedState=null):o=n,Ir(Pl,Rl),Rl|=o;return _i(e,t,r,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ni(e,t,n,o,r){var a=kr(n)?Rr:Or.current;return a=Pr(t,a),Aa(t,r),n=gs(e,t,n,o,a,r),o=vs(),null===e||bi?(aa&&o&&ta(t),t.flags|=1,_i(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hi(e,t,r))}function Ii(e,t,n,o,r){if(kr(n)){var a=!0;Fr(t)}else a=!1;if(Aa(t,r),null===t.stateNode)Gi(e,t),si(t,n,o),li(t,n,o,r),o=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ra(c):c=Pr(t,c=kr(n)?Rr:Or.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==o||l!==c)&&ii(t,s,o,c),Ma=!1;var p=t.memoizedState;s.state=p,Ha(t,o,s,r),l=t.memoizedState,i!==o||p!==l||Ar.current||Ma?("function"===typeof u&&(oi(t,n,u,o),l=t.memoizedState),(i=Ma||ai(t,n,i,o,p,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=l),s.props=o,s.state=l,s.context=c,o=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),o=!1)}else{s=t.stateNode,Ua(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ra(l):l=Pr(t,l=kr(n)?Rr:Or.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||p!==l)&&ii(t,s,o,l),Ma=!1,p=t.memoizedState,s.state=p,Ha(t,o,s,r);var m=t.memoizedState;i!==d||p!==m||Ar.current||Ma?("function"===typeof f&&(oi(t,n,f,o),m=t.memoizedState),(c=Ma||ai(t,n,c,o,p,m,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(o,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=m),s.props=o,s.state=m,s.context=l,o=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Ti(e,t,n,o,a,r)}function Ti(e,t,n,o,r,a){Ci(e,t);var s=0!==(128&t.flags);if(!o&&!s)return r&&Ur(t,n,!1),Hi(e,t,a);o=t.stateNode,yi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return t.flags|=1,null!==e&&s?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,i,a)):_i(e,t,i,a),t.memoizedState=o.state,r&&Ur(t,n,!0),t.child}function Oi(e){var t=e.stateNode;t.pendingContext?Dr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Dr(0,t.context,!1),Ya(e,t.containerInfo)}function Ai(e,t,n,o,r){return ma(),ha(r),t.flags|=256,_i(e,t,n,o),t.child}var Ri,Pi,ki,ji={dehydrated:null,treeContext:null,retryLane:0};function Di(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,n){var o,r=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((o=l)||(o=(null===e||null!==e.memoizedState)&&0!==(2&s)),o?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ir(es,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Dc(l,r,0,null),e=jc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Di(n),t.memoizedState=ji,e):Fi(t,l));if(null!==(s=e.memoizedState)&&null!==(o=s.dehydrated))return function(e,t,n,o,r,s,i){if(n)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,o=ui(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=o.fallback,r=t.mode,o=Dc({mode:"visible",children:o.children},r,0,null),(s=jc(s,r,i,null)).flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,0!==(1&t.mode)&&Ea(t,e.child,null,i),t.child.memoizedState=Di(i),t.memoizedState=ji,s);if(0===(1&t.mode))return Ui(e,t,i,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var l=o.dgst;return o=l,Ui(e,t,i,o=ui(s=Error(a(419)),o,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(o=Tl)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|i))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Da(e,r),tc(o,e,r,-1))}return mc(),Ui(e,t,i,o=ui(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ra=ur(r.nextSibling),oa=t,aa=!0,sa=null,null!==e&&(Kr[Wr++]=Qr,Kr[Wr++]=Xr,Kr[Wr++]=Yr,Qr=e.id,Xr=e.overflow,Yr=t),t=Fi(t,o.children),t.flags|=4096,t)}(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,o=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Pc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==o?i=Pc(o,i):(i=jc(i,l,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=null===(l=e.child.memoizedState)?Di(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=ji,r}return e=(i=e.child).sibling,r=Pc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fi(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,n,o){return null!==o&&ha(o),Ea(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Li(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Oa(e.return,t,n)}function qi(e,t,n,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailMode=r)}function Vi(e,t,n){var o=t.pendingProps,r=o.revealOrder,a=o.tail;if(_i(e,t,o.children,n),0!==(2&(o=es.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Li(e,n,t);else if(19===e.tag)Li(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ir(es,o),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qi(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ts(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qi(t,!0,n,null,a);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zi(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Bi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function $i(e,t,n){var o=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(t),null;case 1:case 17:return kr(t.type)&&jr(),Bi(t),null;case 3:return o=t.stateNode,Qa(),Nr(Ar),Nr(Or),os(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(ac(sa),sa=null))),Bi(t),null;case 5:Za(t);var r=Wa(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Pi(e,t,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(a(166));return Bi(t),null}if(e=Wa($a.current),pa(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[fr]=t,o[mr]=s,e=0!==(1&t.mode),n){case"dialog":qo("cancel",o),qo("close",o);break;case"iframe":case"object":case"embed":qo("load",o);break;case"video":case"audio":for(r=0;r<Mo.length;r++)qo(Mo[r],o);break;case"source":qo("error",o);break;case"img":case"image":case"link":qo("error",o),qo("load",o);break;case"details":qo("toggle",o);break;case"input":Y(o,s),qo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},qo("invalid",o);break;case"textarea":re(o,s),qo("invalid",o)}for(var l in ye(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?o.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zo(o.textContent,c,e),r=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zo(o.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qo("scroll",o)}switch(n){case"input":$(o),Z(o,s,!0);break;case"textarea":$(o),se(o);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(o.onclick=er)}o=r,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),"select"===n&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[fr]=t,e[mr]=o,Ri(e,t),t.stateNode=e;e:{switch(l=be(n,o),n){case"dialog":qo("cancel",e),qo("close",e),r=o;break;case"iframe":case"object":case"embed":qo("load",e),r=o;break;case"video":case"audio":for(r=0;r<Mo.length;r++)qo(Mo[r],e);r=o;break;case"source":qo("error",e),r=o;break;case"img":case"image":case"link":qo("error",e),qo("load",e),r=o;break;case"details":qo("toggle",e),r=o;break;case"input":Y(e,o),r=W(e,o),qo("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=F({},o,{value:void 0}),qo("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),qo("invalid",e)}for(s in ye(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&qo("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":$(e),Z(e,o,!1);break;case"textarea":$(e),se(e);break;case"option":null!=o.value&&e.setAttribute("value",""+z(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?ne(e,!!o.multiple,s,!1):null!=o.defaultValue&&ne(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Bi(t),null;case 6:if(e&&null!=t.stateNode)ki(0,t,e.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));if(n=Wa(Ka.current),Wa($a.current),pa(t)){if(o=t.stateNode,n=t.memoizedProps,o[fr]=t,(s=o.nodeValue!==n)&&null!==(e=oa))switch(e.tag){case 3:Zo(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zo(o.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[fr]=t,t.stateNode=o}return Bi(t),null;case 13:if(Nr(es),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ma(),t.flags|=98560,s=!1;else if(s=pa(t),null!==o&&null!==o.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[fr]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Bi(t),s=!1}else null!==sa&&(ac(sa),sa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===kl&&(kl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Bi(t),null);case 4:return Qa(),null===e&&Ho(t.stateNode.containerInfo),Bi(t),null;case 10:return Ta(t.type._context),Bi(t),null;case 19:if(Nr(es),null===(s=t.memoizedState))return Bi(t),null;if(o=0!==(128&t.flags),null===(l=s.rendering))if(o)zi(s,!1);else{if(0!==kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,zi(s,!1),null!==(o=l.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)e=o,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ir(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Vl&&(t.flags|=128,o=!0,zi(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ts(l))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!aa)return Bi(t),null}else 2*Qe()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,o=!0,zi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=es.current,Ir(es,o?1&n|2:1&n),t):(Bi(t),null);case 22:case 23:return uc(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Bi(t),6&t.subtreeFlags&&(t.flags|=8192)):Bi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ji(e,t){switch(na(t),t.tag){case 1:return kr(t.type)&&jr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Nr(Ar),Nr(Or),os(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Nr(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Nr(es),null;case 4:return Qa(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ri=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pi=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Wa($a.current);var a,s=null;switch(n){case"input":r=W(e,r),o=W(e,o),s=[];break;case"select":r=F({},r,{value:void 0}),o=F({},o,{value:void 0}),s=[];break;case"textarea":r=oe(e,r),o=oe(e,o),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(u in ye(n,o),n=null,r)if(!o.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in o){var c=o[u];if(l=null!=r?r[u]:void 0,o.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qo("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},ki=function(e,t,n,o){n!==o&&(t.flags|=4)};var Ki=!1,Wi=!1,Yi="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){wc(e,t,o)}else n.current=null}function Zi(e,t,n){try{n()}catch(o){wc(e,t,o)}}var el=!1;function tl(e,t,n){var o=t.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&Zi(t,n,a)}r=r.next}while(r!==o)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fr],delete t[mr],delete t[gr],delete t[vr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==o&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function ll(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Wi||Xi(n,t);case 6:var o=cl,r=ul;cl=null,dl(e,t,n),ul=r,null!==(cl=o)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Gt(e)):cr(cl,n.stateNode));break;case 4:o=cl,r=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=o,ul=r;break;case 0:case 11:case 14:case 15:if(!Wi&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var a=r,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&Zi(n,t,s),r=r.next}while(r!==o)}dl(e,t,n);break;case 1:if(!Wi&&(Xi(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(i){wc(n,t,i)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Wi=(o=Wi)||null!==n.memoizedState,dl(e,t,n),Wi=o):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yi),t.forEach(function(t){var o=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(a(160));pl(s,i,r),cl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){wc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hl(t,e),t=t.sibling}function hl(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&o){try{tl(3,e,e.return),nl(3,e)}catch(g){wc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:ml(t,e),gl(e),512&o&&null!==n&&Xi(n,n.return);break;case 5:if(ml(t,e),gl(e),512&o&&null!==n&&Xi(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){wc(e,e.return,g)}}if(4&o&&null!=(r=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(r,s),be(l,i);var u=be(l,s);for(i=0;i<c.length;i+=2){var d=c[i],p=c[i+1];"style"===d?ge(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):b(r,d,p,u)}switch(l){case"input":X(r,s);break;case"textarea":ae(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(r,!!s.multiple,m,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[mr]=s}catch(g){wc(e,e.return,g)}}break;case 6:if(ml(t,e),gl(e),4&o){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){wc(e,e.return,g)}}break;case 3:if(ml(t,e),gl(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(ql=Qe())),4&o&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Wi=(u=Wi)||d,ml(t,e),Wi=u):ml(t,e),gl(e),8192&o){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qi=e,d=e.child;null!==d;){for(p=Qi=d;null!==Qi;){switch(m=(f=Qi).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xi(f,f.return);var h=f.stateNode;if("function"===typeof h.componentWillUnmount){o=f,n=f.return;try{t=o,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){wc(o,n,g)}}break;case 5:Xi(f,f.return);break;case 22:if(null!==f.memoizedState){_l(p);continue}}null!==m?(m.return=f,Qi=m):_l(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",i))}catch(g){wc(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),gl(e),4&o&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var o=n;break e}n=n.return}throw Error(a(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(pe(r,""),o.flags&=-33),ll(e,sl(e),r);break;case 3:case 4:var s=o.stateNode.containerInfo;il(e,sl(e),s);break;default:throw Error(a(161))}}catch(i){wc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qi=e,yl(e,t,n)}function yl(e,t,n){for(var o=0!==(1&e.mode);null!==Qi;){var r=Qi,a=r.child;if(22===r.tag&&o){var s=null!==r.memoizedState||Ki;if(!s){var i=r.alternate,l=null!==i&&null!==i.memoizedState||Wi;i=Ki;var c=Wi;if(Ki=s,(Wi=l)&&!c)for(Qi=r;null!==Qi;)l=(s=Qi).child,22===s.tag&&null!==s.memoizedState?El(r):null!==l?(l.return=s,Qi=l):El(r);for(;null!==a;)Qi=a,yl(a,t,n),a=a.sibling;Qi=r,Ki=i,Wi=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Qi=a):bl(e)}}function bl(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Wi||nl(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Wi)if(null===n)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&za(t,s,o);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Gt(p)}}}break;default:throw Error(a(163))}Wi||512&t.flags&&ol(t)}catch(f){wc(t,t.return,f)}}if(t===e){Qi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qi=n;break}Qi=t.return}}function _l(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qi=n;break}Qi=t.return}}function El(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){wc(t,n,l)}break;case 1:var o=t.stateNode;if("function"===typeof o.componentDidMount){var r=t.return;try{o.componentDidMount()}catch(l){wc(t,r,l)}}var a=t.return;try{ol(t)}catch(l){wc(t,a,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){wc(t,s,l)}}}catch(l){wc(t,t.return,l)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var xl,wl=Math.ceil,Sl=_.ReactCurrentDispatcher,Cl=_.ReactCurrentOwner,Nl=_.ReactCurrentBatchConfig,Il=0,Tl=null,Ol=null,Al=0,Rl=0,Pl=Cr(0),kl=0,jl=null,Dl=0,Ml=0,Fl=0,Ul=null,Ll=null,ql=0,Vl=1/0,Gl=null,Hl=!1,zl=null,Bl=null,$l=!1,Jl=null,Kl=0,Wl=0,Yl=null,Ql=-1,Xl=0;function Zl(){return 0!==(6&Il)?Qe():-1!==Ql?Ql:Ql=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Al?Al&-Al:null!==ga.transition?(0===Xl&&(Xl=ht()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,o){if(50<Wl)throw Wl=0,Yl=null,Error(a(185));vt(e,n,o),0!==(2&Il)&&e===Tl||(e===Tl&&(0===(2&Il)&&(Ml|=n),4===kl&&sc(e,Al)),nc(e,o),1===n&&0===Il&&0===(1&t.mode)&&(Vl=Qe()+500,qr&&Hr()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),i=1<<s,l=r[s];-1===l?0!==(i&n)&&0===(i&o)||(r[s]=ft(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var o=pt(e,e===Tl?Al:0);if(0===o)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){qr=!0,Gr(e)}(ic.bind(null,e)):Gr(ic.bind(null,e)),ir(function(){0===(6&Il)&&Hr()}),n=null;else{switch(_t(o)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ot}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Ql=-1,Xl=0,0!==(6&Il))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var o=pt(e,e===Tl?Al:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=hc(e,o);else{t=o;var r=Il;Il|=2;var s=fc();for(Tl===e&&Al===t||(Gl=null,Vl=Qe()+500,dc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ia(),Sl.current=s,Il=r,null!==Ol?t=0:(Tl=null,Al=0,t=kl)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(o=r,t=rc(e,r))),1===t)throw n=jl,dc(e,0),sc(e,o),nc(e,Qe()),n;if(6===t)sc(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],a=r.getSnapshot;r=r.value;try{if(!io(a(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=hc(e,o))&&(0!==(s=mt(e))&&(o=s,t=rc(e,s))),1===t))throw n=jl,dc(e,0),sc(e,o),nc(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Ll,Gl);break;case 3:if(sc(e,o),(130023424&o)===o&&10<(t=ql+500-Qe())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&o)!==o){Zl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(_c.bind(null,e,Ll,Gl),t);break}_c(e,Ll,Gl);break;case 4:if(sc(e,o),(4194240&o)===o)break;for(t=e.eventTimes,r=-1;0<o;){var i=31-st(o);s=1<<i,(i=t[i])>r&&(r=i),o&=~s}if(o=r,10<(o=(120>(o=Qe()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*wl(o/1960))-o)){e.timeoutHandle=rr(_c.bind(null,e,Ll,Gl),o);break}_c(e,Ll,Gl);break;default:throw Error(a(329))}}}return nc(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function rc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=hc(e,t))&&(t=Ll,Ll=n,null!==t&&ac(t)),e}function ac(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function sc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),o=1<<n;e[n]=-1,t&=~o}}function ic(e){if(0!==(6&Il))throw Error(a(327));Ec();var t=pt(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=hc(e,t);if(0!==e.tag&&2===n){var o=mt(e);0!==o&&(t=o,n=rc(e,o))}if(1===n)throw n=jl,dc(e,0),sc(e,t),nc(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Ll,Gl),nc(e,Qe()),null}function lc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Vl=Qe()+500,qr&&Hr())}}function cc(e){null!==Jl&&0===Jl.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Nl.transition,o=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=o,Nl.transition=n,0===(6&(Il=t))&&Hr()}}function uc(){Rl=Pl.current,Nr(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ar(n)),null!==Ol)for(n=Ol.return;null!==n;){var o=n;switch(na(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&jr();break;case 3:Qa(),Nr(Ar),Nr(Or),os();break;case 5:Za(o);break;case 4:Qa();break;case 13:case 19:Nr(es);break;case 10:Ta(o.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Ol=e=Pc(e.current,null),Al=Rl=t,kl=0,jl=null,Fl=Ml=Dl=0,Ll=Ul=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(o=(n=Pa[t]).interleaved)){n.interleaved=null;var r=o.next,a=n.pending;if(null!==a){var s=a.next;a.next=r,o.next=s}n.pending=o}Pa=null}return e}function pc(e,t){for(;;){var n=Ol;try{if(Ia(),rs.current=Xs,us){for(var o=is.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}us=!1}if(ss=0,cs=ls=is=null,ds=!1,ps=0,Cl.current=null,null===n||null===n.return){kl=1,jl=t,Ol=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gi(i);if(null!==m){m.flags&=-257,vi(m,i,l,0,t),1&m.mode&&hi(s,u,t),c=u;var h=(t=m).updateQueue;if(null===h){var g=new Set;g.add(c),t.updateQueue=g}else h.add(c);break e}if(0===(1&t)){hi(s,u,t),mc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var v=gi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vi(v,i,l,0,t),ha(ci(c,l));break e}}s=c=ci(c,l),4!==kl&&(kl=2),null===Ul?Ul=[s]:Ul.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ga(s,fi(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Bl||!Bl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Ga(s,mi(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(_){t=_,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Xs,null===e?Xs:e}function mc(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ml)||sc(Tl,Al)}function hc(e,t){var n=Il;Il|=2;var o=fc();for(Tl===e&&Al===t||(Gl=null,dc(e,t));;)try{gc();break}catch(r){pc(e,r)}if(Ia(),Il=n,Sl.current=o,null!==Ol)throw Error(a(261));return Tl=null,Al=0,kl}function gc(){for(;null!==Ol;)yc(Ol)}function vc(){for(;null!==Ol&&!We();)yc(Ol)}function yc(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$i(n,t,Rl)))return void(Ol=n)}else{if(null!==(n=Ji(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return kl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===kl&&(kl=5)}function _c(e,t,n){var o=bt,r=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,o){do{Ec()}while(null!==Jl);if(0!==(6&Il))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),a=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~a}}(e,s),e===Tl&&(Ol=Tl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Tc(tt,function(){return Ec(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var i=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(tr=zt,mo(e=fo())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==r&&3!==p.nodeType||(l=i+r),p!==s||0!==o&&3!==p.nodeType||(c=i+o),3===p.nodeType&&(i+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===r&&(l=i),f===s&&++d===o&&(c=i),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},zt=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,v=h.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(E){wc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}h=el,el=!1}(e,n),hl(n,e),ho(nr),zt=!!tr,nr=tr=null,e.current=n,vl(n,e,r),Ye(),Il=l,bt=i,Nl.transition=s}else e.current=n;if($l&&($l=!1,Jl=e,Kl=r),s=e.pendingLanes,0===s&&(Bl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=zl,zl=null,e;0!==(1&Kl)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Yl?Wl++:(Wl=0,Yl=e):Wl=0,Hr()}(e,t,n,o)}finally{Nl.transition=r,bt=o}return null}function Ec(){if(null!==Jl){var e=_t(Kl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Jl)var o=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&Il))throw Error(a(331));var r=Il;for(Il|=4,Qi=e.current;null!==Qi;){var s=Qi,i=s.child;if(0!==(16&Qi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qi=u;null!==Qi;){var d=Qi;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Qi=p;else for(;null!==Qi;){var f=(d=Qi).sibling,m=d.return;if(rl(d),d===u){Qi=null;break}if(null!==f){f.return=m,Qi=f;break}Qi=m}}}var h=s.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(s=Qi).flags))switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qi=y;break e}Qi=s.return}}var b=e.current;for(Qi=b;null!==Qi;){var _=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==_)_.return=i,Qi=_;else e:for(i=b;null!==Qi;){if(0!==(2048&(l=Qi).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(x){wc(l,l.return,x)}if(l===i){Qi=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Qi=E;break e}Qi=l.return}}if(Il=r,Hr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(x){}o=!0}return o}finally{bt=n,Nl.transition=t}}return!1}function xc(e,t,n){e=qa(e,t=fi(0,t=ci(n,t),1),1),t=Zl(),null!==e&&(vt(e,1,t),nc(e,t))}function wc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Bl||!Bl.has(o))){t=qa(t,e=mi(t,e=ci(n,e),1),1),e=Zl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===kl||3===kl&&(130023424&Al)===Al&&500>Qe()-ql?dc(e,0):Fl|=n),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Da(e,t))&&(vt(e,t,n),nc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(a(314))}null!==o&&o.delete(t),Cc(e,n)}function Tc(e,t){return Je(e,t)}function Oc(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,o){return new Oc(e,t,n,o)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,o,r,s){var i=2;if(o=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return jc(n.children,r,s,t);case S:i=8,r|=8;break;case C:return(e=Ac(12,n,t,2|r)).elementType=C,e.lanes=s,e;case O:return(e=Ac(13,n,t,r)).elementType=O,e.lanes=s,e;case A:return(e=Ac(19,n,t,r)).elementType=A,e.lanes=s,e;case k:return Dc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case I:i=9;break e;case T:i=11;break e;case R:i=14;break e;case P:i=16,o=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(i,n,t,r)).elementType=e,t.type=o,t.lanes=s,t}function jc(e,t,n,o){return(e=Ac(7,e,o,t)).lanes=n,e}function Dc(e,t,n,o){return(e=Ac(22,e,o,t)).elementType=k,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,o,r,a,s,i,l){return e=new Uc(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function qc(e){if(!e)return Tr;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(kr(n))return Mr(e,n,t)}return t}function Vc(e,t,n,o,r,a,s,i,l){return(e=Lc(n,o,!0,e,0,a,0,i,l)).context=qc(null),n=e.current,(a=La(o=Zl(),r=ec(n))).callback=void 0!==t&&null!==t?t:null,qa(n,a,r),e.current.lanes=r,vt(e,r,o),nc(e,o),e}function Gc(e,t,n,o){var r=t.current,a=Zl(),s=ec(r);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,s)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),null!==(e=qa(r,t,s))&&(tc(e,r,s,a),Va(e,r,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Oi(t),ma();break;case 5:Xa(t);break;case 1:kr(t.type)&&Fr(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;Ir(wa,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=t.memoizedState))return null!==o.dehydrated?(Ir(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mi(e,t,n):(Ir(es,1&es.current),null!==(e=Hi(e,t,n))?e.sibling:null);Ir(es,1&es.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(128&e.flags)){if(o)return Vi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ir(es,es.current),o)break;return null;case 22:case 23:return t.lanes=0,Si(e,t,n)}return Hi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,aa&&0!==(1048576&t.flags)&&ea(t,Jr,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Gi(e,t),e=t.pendingProps;var r=Pr(t,Or.current);Aa(t,n),r=gs(null,t,o,e,r,n);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(o)?(s=!0,Fr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Fa(t),r.updater=ri,t.stateNode=r,r._reactInternals=t,li(t,o,e,n),t=Ti(null,t,o,!0,s,n)):(t.tag=0,aa&&s&&ta(t),_i(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Gi(e,t),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(o),e=ni(o,e),r){case 0:t=Ni(null,t,o,e,n);break e;case 1:t=Ii(null,t,o,e,n);break e;case 11:t=Ei(null,t,o,e,n);break e;case 14:t=xi(null,t,o,ni(o.type,e),n);break e}throw Error(a(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,Ni(e,t,o,r=t.elementType===o?r:ni(o,r),n);case 1:return o=t.type,r=t.pendingProps,Ii(e,t,o,r=t.elementType===o?r:ni(o,r),n);case 3:e:{if(Oi(t),null===e)throw Error(a(387));o=t.pendingProps,r=(s=t.memoizedState).element,Ua(e,t),Ha(t,o,null,n);var i=t.memoizedState;if(o=i.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ai(e,t,o,n,r=ci(Error(a(423)),t));break e}if(o!==r){t=Ai(e,t,o,n,r=ci(Error(a(424)),t));break e}for(ra=ur(t.stateNode.containerInfo.firstChild),oa=t,aa=!0,sa=null,n=xa(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),o===r){t=Hi(e,t,n);break e}_i(e,t,o,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),o=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,or(o,r)?i=null:null!==s&&or(o,s)&&(t.flags|=32),Ci(e,t),_i(e,t,i,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Mi(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=Ea(t,null,o,n):_i(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,Ei(e,t,o,r=t.elementType===o?r:ni(o,r),n);case 7:return _i(e,t,t.pendingProps,n),t.child;case 8:case 12:return _i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,Ir(wa,o._currentValue),o._currentValue=i,null!==s)if(io(s.value,i)){if(s.children===r.children&&!Ar.current){t=Hi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===o){if(1===s.tag){(c=La(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Oa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Oa(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}_i(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Aa(t,n),o=o(r=Ra(r)),t.flags|=1,_i(e,t,o,n),t.child;case 14:return r=ni(o=t.type,t.pendingProps),xi(e,t,o,r=ni(o.type,r),n);case 15:return wi(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:ni(o,r),Gi(e,t),t.tag=1,kr(o)?(e=!0,Fr(t)):e=!1,Aa(t,n),si(t,o,r),li(t,o,r,n),Ti(null,t,o,!0,e,n);case 19:return Vi(e,t,n);case 22:return Si(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Wc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,o,r){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}Gc(t,s,e,r)}else s=function(e,t,n,o,r){if(r){if("function"===typeof o){var a=o;o=function(){var e=Hc(s);a.call(e)}}var s=Vc(t,o,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[hr]=s.current,Ho(8===e.nodeType?e.parentNode:e),cc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var i=o;o=function(){var e=Hc(l);i.call(e)}}var l=Lc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[hr]=l.current,Ho(8===e.nodeType?e.parentNode:e),cc(function(){Gc(t,l,n,o)}),l}(n,t,e,r,o);return Hc(s)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Gc(null,e,null,null)}),t[hr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kt.length&&0!==t&&t<kt[n].priority;n++);kt.splice(n,0,e),0===n&&Ft(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Qe()),0===(6&Il)&&(Vl=Qe()+500,Hr()))}break;case 13:cc(function(){var t=Da(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Bc(e,1)}},xt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Bc(e,134217728)}},wt=function(e){if(13===e.tag){var t=ec(e),n=Da(e,t);if(null!==n)tc(n,e,t,Zl());Bc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=xr(o);if(!r)throw Error(a(90));J(o),X(o,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Oe=cc;var Zc={usingClientEntryPoint:!1,Events:[_r,Er,xr,Ne,Ie,lc]},eu={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{rt=nu.inject(tu),at=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wc(t))throw Error(a(200));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Wc(e))throw Error(a(299));var n=!1,o="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,o,r),e[hr]=t.current,Ho(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Wc(e))throw Error(a(405));var o=null!=n&&n.hydratedSources||null,r=!1,s="",i=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,s,i),e[hr]=t.current,Ho(e),o)for(e=0;e<o.length;e++)r=(r=(n=o[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,o)},t.version="18.3.1-next-f1338f8080-20240426"},2875(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const s=n(8584),i=n(8396),l=n(656),c={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return u(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,l.validateArray)(e))}};function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema;const{gen:l,parentSchema:c,data:u,keyword:d,it:p}=e;!function(e){const{opts:o,errSchemaPath:r}=p,a=n.length,s=a===e.minItems&&(a===e.maxItems||!1===e[t]);if(o.strictTuples&&!s){const e='"'.concat(d,'" is ').concat(a,"-tuple, but minItems or maxItems/").concat(t,' are not specified or different at path "').concat(r,'"');(0,i.checkStrictMode)(p,e,o.strictTuples)}}(c),p.opts.unevaluated&&n.length&&!0!==p.items&&(p.items=i.mergeEvaluated.items(l,n.length,p.items));const f=l.name("valid"),m=l.const("len",(0,s._)(o||(o=a(["",".length"])),u));n.forEach((t,n)=>{(0,i.alwaysValidSchema)(p,t)||(l.if((0,s._)(r||(r=a([""," > ",""])),m,n),()=>e.subschema({keyword:d,schemaProp:n,dataProp:n},f)),e.ok(f))})}t.validateTuple=u,t.default=c},2897(e,t,n){var o=n(3693);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2943(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2875),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,o.validateTuple)(e,"items")};t.default=r},2979(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(122);o.code='require("ajv/dist/runtime/equal").default',t.default=o},2985(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8396),r={keyword:["then","else"],schemaType:["object","boolean"],code(e){let{keyword:t,parentSchema:n,it:r}=e;void 0===n.if&&(0,o.checkStrictMode)(r,'"'.concat(t,'" without "if" is ignored'))}};t.default=r},2992(e,t,n){"use strict";var o,r=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const a=n(8584),s=n(8396),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:e=>{let{params:t}=e;return(0,a._)(o||(o=r(["{propertyName: ","}"])),t.propertyName)}},code(e){const{gen:t,schema:n,data:o,it:r}=e;if((0,s.alwaysValidSchema)(r,n))return;const i=t.name("valid");t.forIn("key",o,n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},i),t.if((0,a.not)(i),()=>{e.error(!0),r.allErrors||t.break()})}),e.ok(i)}};t.default=i},3324(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l=n(8396),c={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:e=>{let{params:t}=e;return(0,i.str)(o||(o=s(['must match "','" schema'])),t.ifClause)},params:e=>{let{params:t}=e;return(0,i._)(r||(r=s(["{failingKeyword: ","}"])),t.ifClause)}},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,l.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const r=u(o,"then"),c=u(o,"else");if(!r&&!c)return;const d=t.let("valid",!0),p=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);e.mergeEvaluated(t)}(),e.reset(),r&&c){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(p,f("then",n),f("else",n))}else r?t.if(p,f("then")):t.if((0,i.not)(p),f("else"));function f(n,o){return()=>{const r=e.subschema({keyword:n},p);t.assign(d,p),e.mergeValidEvaluated(r,d),o?t.assign(o,(0,i._)(a||(a=s(["",""])),n)):e.setParams({ifClause:n})}}e.pass(d,()=>e.error(!0))}};function u(e,t){const n=e.schema[t];return void 0!==n&&!(0,l.alwaysValidSchema)(e,n)}t.default=c},3670(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5413),r=n(656),a=n(8396),s=n(2075),i={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:i,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===i.additionalProperties&&s.default.code(new o.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const o of u)c.definedProperties.add(o);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=a.mergeEvaluated.props(t,(0,a.toHash)(u),c.props));const d=u.filter(e=>!(0,a.alwaysValidSchema)(c,n[e]));if(0===d.length)return;const p=t.name("valid");for(const o of d)f(o)?m(o):(t.if((0,r.propertyInData)(t,l,o,c.opts.ownProperties)),m(o),c.allErrors||t.else().var(p,!0),t.endIf()),e.it.definedProperties.add(o),e.ok(p);function f(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function m(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},p)}}};t.default=i},3693(e,t,n){var o=n(7736);e.exports=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3709(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=[n(2262).default];t.default=o},3738(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3740(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},3837(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},3939(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1156),r=n(2943),a=n(2875),s=n(4859),i=n(6386),l=n(1598),c=n(2992),u=n(2075),d=n(3670),p=n(5532),f=n(8218),m=n(3952),h=n(1289),g=n(5801),v=n(3324),y=n(2985);t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[f.default,m.default,h.default,g.default,v.default,y.default,c.default,u.default,l.default,d.default,p.default];return e?t.push(r.default,s.default):t.push(o.default,a.default),t.push(i.default),t}},3952(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(656).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=o},4202(e,t){"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,h(_,v.prototype),_.isPureReactComponent=!0;var E=Array.isArray,x=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,o){var r,a={},s=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=o;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:i,props:a,_owner:w.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,r,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case o:l=!0}}if(l)return s=s(l=e),e=""===a?"."+T(l,0):a,E(s)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),O(s,t,r,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",E(e))for(var c=0;c<e.length;c++){var u=a+T(i=e[c],c);l+=O(i,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=O(i=i.value,t,r,u=a+T(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var o=[],r=0;return O(e,o,"","",function(e){return t.call(n,e,r++)}),o}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},k={transition:null},j={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:k,ReactCurrentOwner:w};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=D,t.cloneElement=function(e,t,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=o;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.transition;k.transition={};try{e()}finally{k.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4366(e,t,n){"use strict";var o=n(2897).default;const{normalizeIPv6:r,removeDotSegments:a,recomposeAuthority:s,normalizeComponentEncoding:i,isIPv4:l,nonSimpleDomain:c}=n(6099),{SCHEMES:u,getSchemeHandler:d}=n(1578);function p(e,t,n,o){const r={};return o||(e=h(f(e,n),n),t=h(f(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=a(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=a(t.path||""),r.query=t.query):(t.path?("/"===t.path[0]?r.path=a(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=a(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function f(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},o=Object.assign({},t),r=[],i=d(o.scheme||n.scheme);i&&i.serialize&&i.serialize(n,o),void 0!==n.path&&(o.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),void 0!==n.scheme&&(n.path=n.path.split("%3A").join(":")))),"suffix"!==o.reference&&n.scheme&&r.push(n.scheme,":");const l=s(n);if(void 0!==l&&("suffix"!==o.reference&&r.push("//"),r.push(l),n.path&&"/"!==n.path[0]&&r.push("/")),void 0!==n.path){let e=n.path;o.absolutePath||i&&i.absolutePath||(e=a(e)),void 0===l&&"/"===e[0]&&"/"===e[1]&&(e="/%2F"+e.slice(2)),r.push(e)}return void 0!==n.query&&r.push("?",n.query),void 0!==n.fragment&&r.push("#",n.fragment),r.join("")}const m=/^(?:((?:[\0-"\$-\.0-9;->@-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+):)?(?:\/\/((?:((?:[\0-"\$-\.0->A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)@)?(\[(?:[\0-"\$-\.0->@-\\\^-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\]|(?:[\0-"\$-\.0-9;->@-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)(?::([0-9]*))?))?((?:[\0-"\$->@-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)(?:\?((?:[\0-"\$-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*))?(?:#((?:(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|[\n\r])*))?/;function h(e,t){const n=Object.assign({},t),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let a=!1;"suffix"===n.reference&&(e=n.scheme?n.scheme+":"+e:"//"+e);const s=e.match(m);if(s){if(o.scheme=s[1],o.userinfo=s[3],o.host=s[4],o.port=parseInt(s[5],10),o.path=s[6]||"",o.query=s[7],o.fragment=s[8],isNaN(o.port)&&(o.port=s[5]),o.host){if(!1===l(o.host)){const e=r(o.host);o.host=e.host.toLowerCase(),a=e.isIPV6}else a=!0}void 0!==o.scheme||void 0!==o.userinfo||void 0!==o.host||void 0!==o.port||void 0!==o.query||o.path?void 0===o.scheme?o.reference="relative":void 0===o.fragment?o.reference="absolute":o.reference="uri":o.reference="same-document",n.reference&&"suffix"!==n.reference&&n.reference!==o.reference&&(o.error=o.error||"URI is not a "+n.reference+" reference.");const t=d(n.scheme||o.scheme);if(!n.unicodeSupport&&(!t||!t.unicodeSupport)&&o.host&&(n.domainHost||t&&t.domainHost)&&!1===a&&c(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(i){o.error=o.error||"Host's domain name can not be converted to ASCII: "+i}(!t||t&&!t.skipNormalize)&&(-1!==e.indexOf("%")&&(void 0!==o.scheme&&(o.scheme=unescape(o.scheme)),void 0!==o.host&&(o.host=unescape(o.host))),o.path&&(o.path=escape(unescape(o.path))),o.fragment&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),t&&t.parse&&t.parse(o,n)}else o.error=o.error||"URI can not be parsed.";return o}const g={SCHEMES:u,normalize:function(e,t){return"string"===typeof e?e=f(h(e,t),t):"object"===typeof e&&(e=h(f(e,t),t)),e},resolve:function(e,t,n){const o=n?Object.assign({scheme:"null"},n):{scheme:"null"},r=p(h(e,o),h(t,o),o,!0);return o.skipEscape=!0,f(r,o)},resolveComponent:p,equal:function(e,t,n){return"string"===typeof e?(e=unescape(e),e=f(i(h(e,n),!0),o(o({},n),{},{skipEscape:!0}))):"object"===typeof e&&(e=f(i(e,!0),o(o({},n),{},{skipEscape:!0}))),"string"===typeof t?(t=unescape(t),t=f(i(h(t,n),!0),o(o({},n),{},{skipEscape:!0}))):"object"===typeof t&&(t=f(i(t,!0),o(o({},n),{},{skipEscape:!0}))),e.toLowerCase()===t.toLowerCase()},serialize:f,parse:h};e.exports=g,e.exports.default=g,e.exports.fastUri=g},4391(e,t,n){"use strict";var o=n(7950);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},4445(e,t,n){"use strict";var o=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:o(o({},e),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},4601(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4366);o.code='require("ajv/dist/runtime/uri").default',t.default=o},4700(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const r="maxItems"===t?"more":"fewer";return(0,i.str)(o||(o=s(["must NOT have "," than "," items"])),r,n)},params:e=>{let{schemaCode:t}=e;return(0,i._)(r||(r=s(["{limit: ","}"])),t)}},code(e){const{keyword:t,data:n,schemaCode:o}=e,r="maxItems"===t?i.operators.GT:i.operators.LT;e.fail$data((0,i._)(a||(a=s(["",".length "," ",""])),n,r,o))}};t.default=l},4796(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const s=n(656),i=n(8584),l=n(8396),c={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:e=>{let{params:{missingProperty:t}}=e;return(0,i.str)(o||(o=a(["must have required property '","'"])),t)},params:e=>{let{params:{missingProperty:t}}=e;return(0,i._)(r||(r=a(["{missingProperty: ","}"])),t)}},code(e){const{gen:t,schema:n,schemaCode:o,data:r,$data:a,it:c}=e,{opts:u}=c;if(!a&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||a)e.block$data(i.nil,p);else for(const t of n)(0,s.checkReportMissingProp)(e,t)}():function(){const l=t.let("missing");if(d||a){const n=t.let("valid",!0);e.block$data(n,()=>function(n,a){e.setParams({missingProperty:n}),t.forOf(n,o,()=>{t.assign(a,(0,s.propertyInData)(t,r,n,u.ownProperties)),t.if((0,i.not)(a),()=>{e.error(),t.break()})},i.nil)}(l,n)),e.ok(n)}else t.if((0,s.checkMissingProp)(e,n,l)),(0,s.reportMissingProp)(e,l),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:o}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!o.has(e)){const t=c.schemaEnv.baseId+c.errSchemaPath,n='required property "'.concat(e,'" is not defined at "').concat(t,'" (strictRequired)');(0,l.checkStrictMode)(c,n,c.opts.strictRequired)}}function p(){t.forOf("prop",o,n=>{e.setParams({missingProperty:n}),t.if((0,s.noPropertyInData)(t,r,n,u.ownProperties),()=>e.error())})}}};t.default=c},4859(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const s=n(8584),i=n(8396),l=n(656),c=n(1156),u={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:e=>{let{params:{len:t}}=e;return(0,s.str)(o||(o=a(["must NOT have more than "," items"])),t)},params:e=>{let{params:{len:t}}=e;return(0,s._)(r||(r=a(["{limit: ","}"])),t)}},code(e){const{schema:t,parentSchema:n,it:o}=e,{prefixItems:r}=n;o.items=!0,(0,i.alwaysValidSchema)(o,t)||(r?(0,c.validateAdditionalItems)(e,r):e.ok((0,l.validateArray)(e)))}};t.default=u},5043(e,t,n){"use strict";e.exports=n(4202)},5280(e,t,n){"use strict";var o,r,a,s,i,l=n(2897).default,c=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const u=n(5467);class d extends Error{constructor(e){super('CodeGen: "code" for '.concat(e," not defined")),this.value=e.value}}var p;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(p||(t.UsedValueState=p={})),t.varKinds={const:new u.Name("const"),let:new u.Name("let"),var:new u.Name("var")};class f{constructor(){let{prefixes:e,parent:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof u.Name?e:this.name(e)}name(e){return new u.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return"".concat(e).concat(t.index++)}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error('CodeGen: prefix "'.concat(e,'" is not allowed in this scope'));return this._names[e]={prefix:e,index:0}}}t.Scope=f;class m extends u.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,t){let{property:n,itemIndex:r}=t;this.value=e,this.scopePath=(0,u._)(o||(o=c([".","[","]"])),new u.Name(n),r)}}t.ValueScopeName=m;const h=(0,u._)(r||(r=c(["\n"],["\\n"])));t.ValueScope=class extends f{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=l(l({},e),{},{_n:e.lines?h:u.nil})}get(){return this._scope}name(e){return new m(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const o=this.toName(e),{prefix:r}=o,a=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(a);if(e)return e}else s=this._values[r]=new Map;s.set(a,o);const i=this._scope[r]||(this._scope[r]=[]),l=i.length;return i[l]=t.ref,o.setValue(t,{property:r,itemIndex:l}),o}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw new Error('CodeGen: name "'.concat(t,'" has no value'));return(0,u._)(a||(a=c(["","",""])),e,t.scopePath)})}scopeCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error('CodeGen: name "'.concat(e,'" has no value'));return e.value.code},t,n)}_reduceValues(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=u.nil;for(const l in e){const f=e[l];if(!f)continue;const m=o[l]=o[l]||new Map;f.forEach(e=>{if(m.has(e))return;m.set(e,p.Started);let o=n(e);if(o){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;a=(0,u._)(s||(s=c(["",""," "," = ",";",""])),a,n,e,o,this.opts._n)}else{if(!(o=null===r||void 0===r?void 0:r(e)))throw new d(e);a=(0,u._)(i||(i=c(["","","",""])),a,o,this.opts._n)}m.set(e,p.Completed)})}return a}}},5413(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_,E,x,w,S,C,N,I,T,O,A,R,P,k,j,D,M,F,U,L,q,V,G=n(2897).default,H=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const z=n(6470),B=n(9273),$=n(2392),J=n(9273),K=n(463),W=n(9142),Y=n(6340),Q=n(8584),X=n(266),Z=n(2302),ee=n(8396),te=n(6772);function ne(e,t){let{gen:n,validateName:v,schema:y,schemaEnv:b,opts:_}=e;_.code.es5?n.func(v,(0,Q._)(o||(o=H(["",", ",""])),X.default.data,X.default.valCxt),b.$async,()=>{n.code((0,Q._)(r||(r=H(['"use strict"; ',""])),oe(y,_))),function(e,t){e.if(X.default.valCxt,()=>{e.var(X.default.instancePath,(0,Q._)(l||(l=H(["",".",""])),X.default.valCxt,X.default.instancePath)),e.var(X.default.parentData,(0,Q._)(c||(c=H(["",".",""])),X.default.valCxt,X.default.parentData)),e.var(X.default.parentDataProperty,(0,Q._)(u||(u=H(["",".",""])),X.default.valCxt,X.default.parentDataProperty)),e.var(X.default.rootData,(0,Q._)(d||(d=H(["",".",""])),X.default.valCxt,X.default.rootData)),t.dynamicRef&&e.var(X.default.dynamicAnchors,(0,Q._)(p||(p=H(["",".",""])),X.default.valCxt,X.default.dynamicAnchors))},()=>{e.var(X.default.instancePath,(0,Q._)(f||(f=H(['""'])))),e.var(X.default.parentData,(0,Q._)(m||(m=H(["undefined"])))),e.var(X.default.parentDataProperty,(0,Q._)(h||(h=H(["undefined"])))),e.var(X.default.rootData,X.default.data),t.dynamicRef&&e.var(X.default.dynamicAnchors,(0,Q._)(g||(g=H(["{}"]))))})}(n,_),n.code(t)}):n.func(v,(0,Q._)(a||(a=H(["",", ",""])),X.default.data,function(e){return(0,Q._)(s||(s=H(["{",'="", ',", ",", ","=","","}={}"])),X.default.instancePath,X.default.parentData,X.default.parentDataProperty,X.default.rootData,X.default.data,e.dynamicRef?(0,Q._)(i||(i=H([", ","={}"])),X.default.dynamicAnchors):Q.nil)}(_)),b.$async,()=>n.code(oe(y,_)).code(t))}function oe(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Q._)(S||(S=H(["/*# sourceURL="," */"])),n):Q.nil}function re(e,t){se(e)&&(ie(e),ae(e))?function(e,t){const{schema:n,gen:o,opts:r}=e;r.$comment&&n.$comment&&ce(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Z.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const a=o.const("_errs",X.default.errors);le(e,a),o.var(t,(0,Q._)(C||(C=H([""," === ",""])),a,X.default.errors))}(e,t):(0,z.boolOrEmptySchema)(e,t)}function ae(e){let{schema:t,self:n}=e;if("boolean"==typeof t)return!t;for(const o in t)if(n.RULES.all[o])return!0;return!1}function se(e){return"boolean"!=typeof e.schema}function ie(e){(0,ee.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:o,self:r}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,ee.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn('$ref: keywords ignored in schema at path "'.concat(n,'"'))}(e)}function le(e,t){if(e.opts.jtd)return ue(e,[],!1,t);const n=(0,B.getSchemaTypes)(e.schema);ue(e,n,!(0,B.coerceAndCheckDataType)(e,n),t)}function ce(e){let{gen:t,schemaEnv:n,schema:o,errSchemaPath:r,opts:a}=e;const s=o.$comment;if(!0===a.$comment)t.code((0,Q._)(N||(N=H(["",".logger.log(",")"])),X.default.self,s));else if("function"==typeof a.$comment){const e=(0,Q.str)(I||(I=H(["","/$comment"])),r),o=t.scopeValue("root",{ref:n.root});t.code((0,Q._)(T||(T=H(["",".opts.$comment(",", ",", ",".schema)"])),X.default.self,s,e,o))}}function ue(e,t,n,o){const{gen:r,schema:a,data:s,allErrors:i,opts:l,self:c}=e,{RULES:u}=c;function d(c){(0,$.shouldUseGroup)(a,c)&&(c.type?(r.if((0,J.checkDataType)(c.type,s,l.strictNumbers)),de(e,c),1===t.length&&t[0]===c.type&&n&&(r.else(),(0,J.reportTypeError)(e)),r.endIf()):de(e,c),i||r.if((0,Q._)(D||(D=H([""," === ",""])),X.default.errors,o||0)))}!a.$ref||!l.ignoreKeywordsWithRef&&(0,ee.schemaHasRulesButRef)(a,u)?(l.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach(t=>{fe(e.dataTypes,t)||me(e,'type "'.concat(t,'" not allowed by context "').concat(e.dataTypes.join(","),'"'))}),function(e,t){const n=[];for(const o of e.dataTypes)fe(t,o)?n.push(o):t.includes("integer")&&"number"===o&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&me(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const o in n){const r=n[o];if("object"==typeof r&&(0,$.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some(e=>pe(t,e))&&me(e,'missing type "'.concat(n.join(","),'" for keyword "').concat(o,'"'))}}}(e,e.dataTypes)}(e,t),r.block(()=>{for(const e of u.rules)d(e);d(u.post)})):r.block(()=>ge(e,"$ref",u.all.$ref.definition))}function de(e,t){const{gen:n,schema:o,opts:{useDefaults:r}}=e;r&&(0,K.assignDefaults)(e,t.type),n.block(()=>{for(const n of t.rules)(0,$.shouldUseRule)(o,n)&&ge(e,n.keyword,n.definition,t.type)})}function pe(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function fe(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function me(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=' at "'.concat(n,'" (strictTypes)'),(0,ee.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){se(e)&&(ie(e),ae(e))?function(e){const{schema:t,opts:n,gen:o}=e;ne(e,()=>{n.$comment&&t.$comment&&ce(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,ee.checkStrictMode)(e,"default is ignored in the schema root")}(e),o.let(X.default.vErrors,null),o.let(X.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Q._)(v||(v=H(["",".evaluated"])),n)),t.if((0,Q._)(y||(y=H(["",".dynamicProps"])),e.evaluated),()=>t.assign((0,Q._)(b||(b=H(["",".props"])),e.evaluated),(0,Q._)(_||(_=H(["undefined"]))))),t.if((0,Q._)(E||(E=H(["",".dynamicItems"])),e.evaluated),()=>t.assign((0,Q._)(x||(x=H(["",".items"])),e.evaluated),(0,Q._)(w||(w=H(["undefined"])))))}(e),le(e),function(e){const{gen:t,schemaEnv:n,validateName:o,ValidationError:r,opts:a}=e;n.$async?t.if((0,Q._)(O||(O=H([""," === 0"])),X.default.errors),()=>t.return(X.default.data),()=>t.throw((0,Q._)(A||(A=H(["new ","(",")"])),r,X.default.vErrors))):(t.assign((0,Q._)(R||(R=H(["",".errors"])),o),X.default.vErrors),a.unevaluated&&function(e){let{gen:t,evaluated:n,props:o,items:r}=e;o instanceof Q.Name&&t.assign((0,Q._)(k||(k=H(["",".props"])),n),o);r instanceof Q.Name&&t.assign((0,Q._)(j||(j=H(["",".items"])),n),r)}(e),t.return((0,Q._)(P||(P=H([""," === 0"])),X.default.errors)))}(e)})}(e):ne(e,()=>(0,z.topBoolOrEmptySchema)(e))};class he{constructor(e,t,n){if((0,W.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ee.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",be(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,W.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error("".concat(n," value must be ").concat(JSON.stringify(t.schemaType)));("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",X.default.errors))}result(e,t,n){this.failResult((0,Q.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,Q.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail((0,Q._)(M||(M=H([""," !== undefined && (",")"])),t,(0,Q.or)(this.invalid$data(),e)))}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?te.reportExtraError:te.reportError)(this,this.def.error,t)}$dataError(){(0,te.reportError)(this,this.def.$dataError||te.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,te.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q.nil;this.gen.block(()=>{this.check$data(e,n),t()})}check$data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.nil;if(!this.$data)return;const{gen:n,schemaCode:o,schemaType:r,def:a}=this;n.if((0,Q.or)((0,Q._)(F||(F=H([""," === undefined"])),o),t)),e!==Q.nil&&n.assign(e,!0),(r.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Q.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:o,it:r}=this;return(0,Q.or)(function(){if(n.length){if(!(t instanceof Q.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return(0,Q._)(U||(U=H(["",""])),(0,J.checkDataTypes)(e,t,r.opts.strictNumbers,J.DataType.Wrong))}return Q.nil}(),function(){if(o.validateSchema){const n=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,Q._)(L||(L=H(["!","(",")"])),n,t)}return Q.nil}())}subschema(e,t){const n=(0,Y.getSubschema)(this.it,e);(0,Y.extendSubschemaData)(n,this.it,e),(0,Y.extendSubschemaMode)(n,e);const o=G(G(G({},this.it),n),{},{items:void 0,props:void 0});return re(o,t),o}mergeEvaluated(e,t){const{it:n,gen:o}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=ee.mergeEvaluated.props(o,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=ee.mergeEvaluated.items(o,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:o}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return o.if(t,()=>this.mergeEvaluated(e,Q.Name)),!0}}function ge(e,t,n,o){const r=new he(e,n,t);"code"in n?n.code(r,o):r.$data&&n.validate?(0,W.funcKeywordCode)(r,n):"macro"in n?(0,W.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,W.funcKeywordCode)(r,n)}t.KeywordCxt=he;const ve=/^\/(?:[^~]|~0|~1)*$/,ye=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function be(e,t){let n,o,{dataLevel:r,dataNames:a,dataPathArr:s}=t;if(""===e)return X.default.rootData;if("/"===e[0]){if(!ve.test(e))throw new Error("Invalid JSON-pointer: ".concat(e));n=e,o=X.default.rootData}else{const t=ye.exec(e);if(!t)throw new Error("Invalid JSON-pointer: ".concat(e));const i=+t[1];if(n=t[2],"#"===n){if(i>=r)throw new Error(c("property/index",i));return s[r-i]}if(i>r)throw new Error(c("data",i));if(o=a[r-i],!n)return o}let i=o;const l=n.split("/");for(const u of l)u&&(o=(0,Q._)(q||(q=H(["","",""])),o,(0,Q.getProperty)((0,ee.unescapeJsonPointer)(u))),i=(0,Q._)(V||(V=H([""," && ",""])),i,o));return i;function c(e,t){return"Cannot access ".concat(e," ").concat(t," levels up, current level is ").concat(r)}}t.getData=be},5467(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class s{}t._CodeOrName=s,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends s{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class l extends s{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>"".concat(e).concat(t),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function c(e){const t=[e[0]];let n=0;for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];for(;n<r.length;)p(t,r[n]),t.push(e[++n]);return new l(t)}t._Code=l,t.nil=new l(""),t._=c;const u=new l("+");function d(e){const t=[m(e[0])];let n=0;for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];for(;n<r.length;)t.push(u),p(t,r[n]),t.push(u,m(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===u){const n=f(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(t),new l(t)}function p(e,t){var n;t instanceof l?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:m(Array.isArray(n)?n.join(","):n))}function f(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?"".concat(e.slice(0,-1)).concat(t,'"'):'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:'"'.concat(e).concat(t.slice(1))}function m(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=d,t.addCodeArg=p,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:d(o||(o=a(["","",""])),e,t)},t.stringify=function(e){return new l(m(e))},t.safeStringify=m,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new l(".".concat(e)):c(r||(r=a(["[","]"])),e)},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new l("".concat(e));throw new Error("CodeGen: invalid export name: ".concat(e,", use explicit $id name mapping"))},t.regexpCode=function(e){return new l(e.toString())}},5532(e,t,n){"use strict";var o,r,a=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const s=n(656),i=n(8584),l=n(8396),c=n(8396),u={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:u,parentSchema:d,it:p}=e,{opts:f}=p,m=(0,s.allSchemaProperties)(n),h=m.filter(e=>(0,l.alwaysValidSchema)(p,n[e]));if(0===m.length||h.length===m.length&&(!p.opts.unevaluated||!0===p.props))return;const g=f.strictSchema&&!f.allowMatchingProperties&&d.properties,v=t.name("valid");!0===p.props||p.props instanceof i.Name||(p.props=(0,c.evaluatedPropsToName)(t,p.props));const{props:y}=p;function b(e){for(const t in g)new RegExp(e).test(t)&&(0,l.checkStrictMode)(p,"property ".concat(t," matches pattern ").concat(e," (use allowMatchingProperties)"))}function _(n){t.forIn("key",u,l=>{t.if((0,i._)(o||(o=a(["",".test(",")"])),(0,s.usePattern)(e,n),l),()=>{const o=h.includes(n);o||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:l,dataPropType:c.Type.Str},v),p.opts.unevaluated&&!0!==y?t.assign((0,i._)(r||(r=a(["","[","]"])),y,l),!0):o||p.allErrors||t.if((0,i.not)(v),()=>t.break())})})}!function(){for(const e of m)g&&b(e),p.allErrors?_(e):(t.var(v,!0),_(e),t.if(v))}()}};t.default=u},5801(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8396),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const a=t.name("valid");n.forEach((t,n)=>{if((0,o.alwaysValidSchema)(r,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},a);e.ok(a),e.mergeEvaluated(s)})}};t.default=r},6099(e){"use strict";const t=RegExp.prototype.test.bind(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),n=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])$/);function o(e){let t="",n=0,o=0;for(o=0;o<e.length;o++)if(n=e[o].charCodeAt(0),48!==n){if(!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[o];break}for(o+=1;o<e.length;o++){if(n=e[o].charCodeAt(0),!(n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102))return"";t+=e[o]}return t}const r=RegExp.prototype.test.bind(/(?:[\0- #%\/-:<>-\^\|\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/);function a(e){return e.length=0,!0}function s(e,t,n){if(e.length){const r=o(e);if(""===r)return n.error=!0,!1;t.push(r),e.length=0}return!0}function i(e){if(function(e,t){let n=0;for(let o=0;o<e.length;o++)e[o]===t&&n++;return n}(e,":")<2)return{host:e,isIPV6:!1};const t=function(e){let t=0;const n={error:!1,address:"",zone:""},r=[],i=[];let l=!1,c=!1,u=s;for(let o=0;o<e.length;o++){const s=e[o];if("["!==s&&"]"!==s)if(":"!==s)if("%"===s){if(!u(i,r,n))break;u=a}else i.push(s);else{if(!0===l&&(c=!0),!u(i,r,n))break;if(++t>7){n.error=!0;break}o>0&&":"===e[o-1]&&(l=!0),r.push(":")}}return i.length&&(u===a?n.zone=i.join(""):c?r.push(i.join("")):r.push(o(i))),n.address=r.join(""),n}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,n=t.address;return t.zone&&(e+="%"+t.zone,n+="%25"+t.zone),{host:e,isIPV6:!0,escapedHost:n}}}e.exports={nonSimpleDomain:r,recomposeAuthority:function(e){const t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let o=unescape(e.host);if(!n(o)){const t=i(o);o=!0===t.isIPV6?"[".concat(t.escapedHost,"]"):e.host}t.push(o)}return"number"!==typeof e.port&&"string"!==typeof e.port||(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){const n=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=n(e.scheme)),void 0!==e.userinfo&&(e.userinfo=n(e.userinfo)),void 0!==e.host&&(e.host=n(e.host)),void 0!==e.path&&(e.path=n(e.path)),void 0!==e.query&&(e.query=n(e.query)),void 0!==e.fragment&&(e.fragment=n(e.fragment)),e},removeDotSegments:function(e){let t=e;const n=[];let o=-1,r=0;for(;r=t.length;){if(1===r){if("."===t)break;if("/"===t){n.push("/");break}n.push(t);break}if(2===r){if("."===t[0]){if("."===t[1])break;if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&("."===t[1]||"/"===t[1])){n.push("/");break}}else if(3===r&&"/.."===t){0!==n.length&&n.pop(),n.push("/");break}if("."===t[0]){if("."===t[1]){if("/"===t[2]){t=t.slice(3);continue}}else if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&"."===t[1]){if("/"===t[2]){t=t.slice(2);continue}if("."===t[2]&&"/"===t[3]){t=t.slice(3),0!==n.length&&n.pop();continue}}if(-1===(o=t.indexOf("/",1))){n.push(t);break}n.push(t.slice(0,o)),t=t.slice(o)}return n.join("")},isIPv4:n,isUUID:t,normalizeIPv6:i,stringArrayToHexStripped:o}},6280(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},6340(e,t,n){"use strict";var o,r,a,s,i,l=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const c=n(8584),u=n(8396);t.getSubschema=function(e,t){let{keyword:n,schemaProp:a,schema:s,schemaPath:i,errSchemaPath:d,topSchemaRef:p}=t;if(void 0!==n&&void 0!==s)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){const t=e.schema[n];return void 0===a?{schema:t,schemaPath:(0,c._)(o||(o=l(["","",""])),e.schemaPath,(0,c.getProperty)(n)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n)}:{schema:t[a],schemaPath:(0,c._)(r||(r=l(["","","",""])),e.schemaPath,(0,c.getProperty)(n),(0,c.getProperty)(a)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(n,"/").concat((0,u.escapeFragment)(a))}}if(void 0!==s){if(void 0===i||void 0===d||void 0===p)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:i,topSchemaRef:p,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,n){let{dataProp:o,dataPropType:r,data:d,dataTypes:p,propertyName:f}=n;if(void 0!==d&&void 0!==o)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=t;if(void 0!==o){const{errorPath:n,dataPathArr:d,opts:p}=t;h(m.let("data",(0,c._)(a||(a=l(["","",""])),t.data,(0,c.getProperty)(o)),!0)),e.errorPath=(0,c.str)(s||(s=l(["","",""])),n,(0,u.getErrorPath)(o,r,p.jsPropertySyntax)),e.parentDataProperty=(0,c._)(i||(i=l(["",""])),o),e.dataPathArr=[...d,e.parentDataProperty]}if(void 0!==d){h(d instanceof c.Name?d:m.let("data",d,!0)),void 0!==f&&(e.propertyName=f)}function h(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}p&&(e.dataTypes=p)},t.extendSubschemaMode=function(e,t){let{jtdDiscriminator:n,jtdMetadata:o,compositeRule:r,createErrors:a,allErrors:s}=t;void 0!==r&&(e.compositeRule=r),void 0!==a&&(e.createErrors=a),void 0!==s&&(e.allErrors=s),e.jtdDiscriminator=n,e.jtdMetadata=o}},6386(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const g=n(8584),v=n(8396),y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:e=>{let{params:{min:t,max:n}}=e;return void 0===n?(0,g.str)(o||(o=h(["must contain at least "," valid item(s)"])),t):(0,g.str)(r||(r=h(["must contain at least "," and no more than "," valid item(s)"])),t,n)},params:e=>{let{params:{min:t,max:n}}=e;return void 0===n?(0,g._)(a||(a=h(["{minContains: ","}"])),t):(0,g._)(s||(s=h(["{minContains: ",", maxContains: ","}"])),t,n)}},code(e){const{gen:t,schema:n,parentSchema:o,data:r,it:a}=e;let s,y;const{minContains:b,maxContains:_}=o;a.opts.next?(s=void 0===b?1:b,y=_):s=1;const E=t.const("len",(0,g._)(i||(i=h(["",".length"])),r));if(e.setParams({min:s,max:y}),void 0===y&&0===s)return void(0,v.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==y&&s>y)return(0,v.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,v.alwaysValidSchema)(a,n)){let t=(0,g._)(l||(l=h([""," >= ",""])),E,s);return void 0!==y&&(t=(0,g._)(c||(c=h([""," && "," <= ",""])),t,E,y)),void e.pass(t)}a.items=!0;const x=t.name("valid");function w(){const e=t.name("_valid"),n=t.let("count",0);S(e,()=>t.if(e,()=>function(e){t.code((0,g._)(d||(d=h(["","++"])),e)),void 0===y?t.if((0,g._)(p||(p=h([""," >= ",""])),e,s),()=>t.assign(x,!0).break()):(t.if((0,g._)(f||(f=h([""," > ",""])),e,y),()=>t.assign(x,!1).break()),1===s?t.assign(x,!0):t.if((0,g._)(m||(m=h([""," >= ",""])),e,s),()=>t.assign(x,!0)))}(n)))}function S(n,o){t.forRange("i",0,E,t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:v.Type.Num,compositeRule:!0},n),o()})}void 0===y&&1===s?S(x,()=>t.if(x,()=>t.break())):0===s?(t.let(x,!0),void 0!==y&&t.if((0,g._)(u||(u=h(["",".length > 0"])),r),w)):(t.let(x,!1),w()),e.result(x,()=>e.reset())}};t.default=y},6470(e,t,n){"use strict";var o,r=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const a=n(6772),s=n(8584),i=n(266),l={message:"boolean schema is false"};function c(e,t){const{gen:n,data:o}=e,r={gen:n,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,a.reportError)(r,l,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:a}=e;!1===n?c(e,!1):"object"==typeof n&&!0===n.$async?t.return(i.default.data):(t.assign((0,s._)(o||(o=r(["",".errors"])),a),null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:o}=e;!1===o?(n.var(t,!1),c(e)):n.var(t,!0)}},6480(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const E=n(9273),x=n(8584),w=n(8396),S=n(2979),C={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:e=>{let{params:{i:t,j:n}}=e;return(0,x.str)(o||(o=_(["must NOT have duplicate items (items ## "," and "," are identical)"])),n,t)},params:e=>{let{params:{i:t,j:n}}=e;return(0,x._)(r||(r=_(["{i: ",", j: ","}"])),t,n)}},code(e){const{gen:t,data:n,$data:o,schema:r,parentSchema:C,schemaCode:N,it:I}=e;if(!o&&!r)return;const T=t.let("valid"),O=C.items?(0,E.getSchemaTypes)(C.items):[];function A(o,r){const a=t.name("item"),s=(0,E.checkDataTypes)(O,a,I.opts.strictNumbers,E.DataType.Wrong),i=t.const("indices",(0,x._)(l||(l=_(["{}"]))));t.for((0,x._)(c||(c=_([";","--;"])),o),()=>{t.let(a,(0,x._)(u||(u=_(["","[","]"])),n,o)),t.if(s,(0,x._)(d||(d=_(["continue"])))),O.length>1&&t.if((0,x._)(p||(p=_(["typeof ",' == "string"'])),a),(0,x._)(f||(f=_(["",' += "_"'])),a)),t.if((0,x._)(m||(m=_(["typeof ","[",'] == "number"'])),i,a),()=>{t.assign(r,(0,x._)(h||(h=_(["","[","]"])),i,a)),e.error(),t.assign(T,!1).break()}).code((0,x._)(g||(g=_(["","[","] = ",""])),i,a,o))})}function R(o,r){const a=(0,w.useFunc)(t,S.default),s=t.name("outer");t.label(s).for((0,x._)(v||(v=_([";","--;"])),o),()=>t.for((0,x._)(y||(y=_([""," = ","; ","--;"])),r,o,r),()=>t.if((0,x._)(b||(b=_(["","(","[","], ","[","])"])),a,n,o,n,r),()=>{e.error(),t.assign(T,!1).break(s)})))}e.block$data(T,function(){const o=t.let("i",(0,x._)(s||(s=_(["",".length"])),n)),r=t.let("j");e.setParams({i:o,j:r}),t.assign(T,!0),t.if((0,x._)(i||(i=_([""," > 1"])),o),()=>(O.length>0&&!O.some(e=>"object"===e||"array"===e)?A:R)(o,r))},(0,x._)(a||(a=_([""," === false"])),N)),e.ok(T)}};t.default=C},6623(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l=i.operators,c={maximum:{okStr:"<=",ok:l.LTE,fail:l.GT},minimum:{okStr:">=",ok:l.GTE,fail:l.LT},exclusiveMaximum:{okStr:"<",ok:l.LT,fail:l.GTE},exclusiveMinimum:{okStr:">",ok:l.GT,fail:l.LTE}},u={message:e=>{let{keyword:t,schemaCode:n}=e;return(0,i.str)(o||(o=s(["must be "," ",""])),c[t].okStr,n)},params:e=>{let{keyword:t,schemaCode:n}=e;return(0,i._)(r||(r=s(["{comparison: ",", limit: ","}"])),c[t].okStr,n)}},d={keyword:Object.keys(c),type:"number",schemaType:"number",$data:!0,error:u,code(e){const{keyword:t,data:n,schemaCode:o}=e;e.fail$data((0,i._)(a||(a=s([""," "," "," || isNaN(",")"])),n,c[t].fail,o,n))}};t.default=d},6740(e,t,n){"use strict";var o,r,a,s,i=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const l=n(8584),c=n(8396),u=n(2979),d={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:e=>{let{schemaCode:t}=e;return(0,l._)(o||(o=i(["{allowedValues: ","}"])),t)}},code(e){const{gen:t,data:n,$data:o,schema:d,schemaCode:p,it:f}=e;if(!o&&0===d.length)throw new Error("enum must have non-empty array");const m=d.length>=f.opts.loopEnum;let h;const g=()=>null!==h&&void 0!==h?h:h=(0,c.useFunc)(t,u.default);let v;if(m||o)v=t.let("valid"),e.block$data(v,function(){t.assign(v,!1),t.forOf("v",p,e=>t.if((0,l._)(r||(r=i(["","(",", ",")"])),g(),n,e),()=>t.assign(v,!0).break()))});else{if(!Array.isArray(d))throw new Error("ajv implementation error");const e=t.const("vSchema",p);v=(0,l.or)(...d.map((t,o)=>function(e,t){const o=d[t];return"object"===typeof o&&null!==o?(0,l._)(a||(a=i(["","(",", ","[","])"])),g(),n,e,t):(0,l._)(s||(s=i([""," === ",""])),n,o)}(e,o)))}e.pass(v)}};t.default=d},6754(e,t){"use strict";function n(e){const t=e.length;let n,o=0,r=0;for(;r<t;)o++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320===(64512&n)&&r++);return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},6772(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_,E,x,w,S,C,N,I,T=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const O=n(8584),A=n(8396),R=n(266);function P(e,t){const n=e.const("err",t);e.if((0,O._)(g||(g=T([""," === null"])),R.default.vErrors),()=>e.assign(R.default.vErrors,(0,O._)(v||(v=T(["[","]"])),n)),(0,O._)(y||(y=T(["",".push(",")"])),R.default.vErrors,n)),e.code((0,O._)(b||(b=T(["","++"])),R.default.errors))}function k(e,t){const{gen:n,validateName:o,schemaEnv:r}=e;r.$async?n.throw((0,O._)(_||(_=T(["new ","(",")"])),e.ValidationError,t)):(n.assign((0,O._)(E||(E=T(["",".errors"])),o),t),n.return(!1))}t.keywordError={message:e=>{let{keyword:t}=e;return(0,O.str)(o||(o=T(['must pass "','" keyword validation'])),t)}},t.keyword$DataError={message:e=>{let{keyword:t,schemaType:n}=e;return n?(0,O.str)(r||(r=T(['"','" keyword must be '," ($data)"])),t,n):(0,O.str)(a||(a=T(['"','" keyword is invalid ($data)'])),t)}},t.reportError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,o=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const{it:a}=e,{gen:i,compositeRule:l,allErrors:c}=a,u=D(e,n,o);(null!==r&&void 0!==r?r:l||c)?P(i,u):k(a,(0,O._)(s||(s=T(["[","]"])),u))},t.reportExtraError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,o=arguments.length>2?arguments[2]:void 0;const{it:r}=e,{gen:a,compositeRule:s,allErrors:i}=r;P(a,D(e,n,o)),s||i||k(r,R.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(R.default.errors,t),e.if((0,O._)(i||(i=T([""," !== null"])),R.default.vErrors),()=>e.if(t,()=>e.assign((0,O._)(l||(l=T(["",".length"])),R.default.vErrors),t),()=>e.assign(R.default.vErrors,null)))},t.extendErrors=function(e){let{gen:t,keyword:n,schemaValue:o,data:r,errsCount:a,it:s}=e;if(void 0===a)throw new Error("ajv implementation error");const i=t.name("err");t.forRange("i",a,R.default.errors,e=>{t.const(i,(0,O._)(c||(c=T(["","[","]"])),R.default.vErrors,e)),t.if((0,O._)(u||(u=T(["",".instancePath === undefined"])),i),()=>t.assign((0,O._)(d||(d=T(["",".instancePath"])),i),(0,O.strConcat)(R.default.instancePath,s.errorPath))),t.assign((0,O._)(p||(p=T(["",".schemaPath"])),i),(0,O.str)(f||(f=T(["","/",""])),s.errSchemaPath,n)),s.opts.verbose&&(t.assign((0,O._)(m||(m=T(["",".schema"])),i),o),t.assign((0,O._)(h||(h=T(["",".data"])),i),r))})};const j={keyword:new O.Name("keyword"),schemaPath:new O.Name("schemaPath"),params:new O.Name("params"),propertyName:new O.Name("propertyName"),message:new O.Name("message"),schema:new O.Name("schema"),parentSchema:new O.Name("parentSchema")};function D(e,t,n){const{createErrors:o}=e.it;return!1===o?(0,O._)(x||(x=T(["{}"]))):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{gen:o,it:r}=e,a=[M(r,n),F(e,n)];return function(e,t,n){let{params:o,message:r}=t;const{keyword:a,data:s,schemaValue:i,it:l}=e,{opts:c,propertyName:u,topSchemaRef:d,schemaPath:p}=l;n.push([j.keyword,a],[j.params,"function"==typeof o?o(e):o||(0,O._)(N||(N=T(["{}"])))]),c.messages&&n.push([j.message,"function"==typeof r?r(e):r]);c.verbose&&n.push([j.schema,i],[j.parentSchema,(0,O._)(I||(I=T(["","",""])),d,p)],[R.default.data,s]);u&&n.push([j.propertyName,u])}(e,t,a),o.object(...a)}(e,t,n)}function M(e,t){let{errorPath:n}=e,{instancePath:o}=t;const r=o?(0,O.str)(w||(w=T(["","",""])),n,(0,A.getErrorPath)(o,A.Type.Str)):n;return[R.default.instancePath,(0,O.strConcat)(R.default.instancePath,r)]}function F(e,t){let{keyword:n,it:{errSchemaPath:o}}=e,{schemaPath:r,parentSchema:a}=t,s=a?o:(0,O.str)(S||(S=T(["","/",""])),o,n);return r&&(s=(0,O.str)(C||(C=T(["","",""])),s,(0,A.getErrorPath)(r,A.Type.Str))),[j.schemaPath,s]}},6817(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},7003(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const o=n(9281),r=n(9497),a=n(138),s=n(2079),i=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends o.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(5413);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(8584);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=n(6817);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var f=n(9550);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})},7234(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<a(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,s=r>>>1;o<s;){var i=2*(o+1)-1,l=e[i],c=i+1,u=e[c];if(0>a(l,n))c<r&&0>a(u,l)?(e[o]=u,e[c]=n,o=c):(e[o]=l,e[i]=n,o=i);else{if(!(c<r&&0>a(u,n)))break e;e[o]=u,e[c]=n,o=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,p=null,f=3,m=!1,h=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=o(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=o(u)}}function E(e){if(g=!1,_(e),!h)if(null!==o(c))h=!0,k(x);else{var t=o(u);null!==t&&j(E,t.startTime-e)}}function x(e,n){h=!1,g&&(g=!1,y(N),N=-1),m=!0;var a=f;try{for(_(n),p=o(c);null!==p&&(!(p.expirationTime>n)||e&&!O());){var s=p.callback;if("function"===typeof s){p.callback=null,f=p.priorityLevel;var i=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===o(c)&&r(c),_(n)}else r(c);p=o(c)}if(null!==p)var l=!0;else{var d=o(u);null!==d&&j(E,d.startTime-n),l=!1}return l}finally{p=null,f=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,C=null,N=-1,I=5,T=-1;function O(){return!(t.unstable_now()-T<I)}function A(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?w():(S=!1,C=null)}}else S=!1}if("function"===typeof b)w=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,w=function(){P.postMessage(null)}}else w=function(){v(A,0)};function k(e){C=e,S||(S=!0,w())}function j(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,k(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return o(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===o(c)&&e===o(u)&&(g?(y(N),N=-1):g=!0,j(E,a-s))):(e.sortIndex=i,n(c,e),h||m||(h=!0,k(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7352(e,t,n){"use strict";var o,r,a,s,i,l=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const c=n(8584),u={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return(0,c.str)(o||(o=l(["must be multiple of ",""])),t)},params:e=>{let{schemaCode:t}=e;return(0,c._)(r||(r=l(["{multipleOf: ","}"])),t)}},code(e){const{gen:t,data:n,schemaCode:o,it:r}=e,u=r.opts.multipleOfPrecision,d=t.let("res"),p=u?(0,c._)(a||(a=l(["Math.abs(Math.round(",") - ",") > 1e-",""])),d,d,u):(0,c._)(s||(s=l([""," !== parseInt(",")"])),d,d);e.fail$data((0,c._)(i||(i=l(["("," === 0 || ("," = ","/",", ","))"])),o,d,n,o,p))}};t.default=u},7736(e,t,n){var o=n(3738).default,r=n(9045);e.exports=function(e){var t=r(e,"string");return"symbol"==o(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7864(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const p=n(7003),f=n(8584),m=f.operators,h={formatMaximum:{okStr:"<=",ok:m.LTE,fail:m.GT},formatMinimum:{okStr:">=",ok:m.GTE,fail:m.LT},formatExclusiveMaximum:{okStr:"<",ok:m.LT,fail:m.GTE},formatExclusiveMinimum:{okStr:">",ok:m.GT,fail:m.LTE}},g={message:e=>{let{keyword:t,schemaCode:n}=e;return f.str(o||(o=d(["should be "," ",""])),h[t].okStr,n)},params:e=>{let{keyword:t,schemaCode:n}=e;return f._(r||(r=d(["{comparison: ",", limit: ","}"])),h[t].okStr,n)}};t.formatLimitDefinition={keyword:Object.keys(h),type:"string",schemaType:"string",$data:!0,error:g,code(e){const{gen:t,data:n,schemaCode:o,keyword:r,it:m}=e,{opts:g,self:v}=m;if(!g.validateFormats)return;const y=new p.KeywordCxt(m,v.RULES.all.format.definition,"format");function b(e){return f._(u||(u=d(["",".compare(",", ",") "," 0"])),e,n,o,h[r].fail)}y.$data?function(){const n=t.scopeValue("formats",{ref:v.formats,code:g.code.formats}),o=t.const("fmt",f._(a||(a=d(["","[","]"])),n,y.schemaCode));e.fail$data(f.or(f._(s||(s=d(["typeof ",' != "object"'])),o),f._(i||(i=d([""," instanceof RegExp"])),o),f._(l||(l=d(["typeof ",'.compare != "function"'])),o),b(o)))}():function(){const n=y.schema,o=v.formats[n];if(!o||!0===o)return;if("object"!=typeof o||o instanceof RegExp||"function"!=typeof o.compare)throw new Error('"'.concat(r,'": format "').concat(n,'" does not define "compare" function'));const a=t.scopeValue("formats",{key:n,ref:o,code:g.code.formats?f._(c||(c=d(["","",""])),g.code.formats,f.getProperty(n)):void 0});e.fail$data(b(a))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},7950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7968(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const f=n(9550),m=n(656),h=n(8584),g=n(266),v=n(1762),y=n(8396),b={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:a,schemaEnv:s,validateName:i,opts:l,self:c}=r,{root:u}=s;if(("#"===n||"#/"===n)&&a===u.baseId)return function(){if(s===u)return E(e,i,s,s.$async);const n=t.scopeValue("root",{ref:u});return E(e,(0,h._)(o||(o=p(["",".validate"])),n),u,u.$async)}();const d=v.resolveRef.call(c,u,a,n);if(void 0===d)throw new f.default(r.opts.uriResolver,a,n);return d instanceof v.SchemaEnv?function(t){const n=_(e,t);E(e,n,t,t.$async)}(d):function(o){const r=t.scopeValue("schema",!0===l.code.source?{ref:o,code:(0,h.stringify)(o)}:{ref:o}),a=t.name("valid"),s=e.subschema({schema:o,dataTypes:[],schemaPath:h.nil,topSchemaRef:r,errSchemaPath:n},a);e.mergeEvaluated(s),e.ok(a)}(d)}};function _(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,h._)(r||(r=p(["",".validate"])),n.scopeValue("wrapper",{ref:t}))}function E(e,t,n,o){const{gen:r,it:f}=e,{allErrors:v,schemaEnv:b,opts:_}=f,E=_.passContext?g.default.this:h.nil;function x(e){const t=(0,h._)(i||(i=p(["",".errors"])),e);r.assign(g.default.vErrors,(0,h._)(l||(l=p([""," === null ? "," : ",".concat(",")"])),g.default.vErrors,t,g.default.vErrors,t)),r.assign(g.default.errors,(0,h._)(c||(c=p(["",".length"])),g.default.vErrors))}function w(e){var t;if(!f.opts.unevaluated)return;const o=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==f.props)if(o&&!o.dynamicProps)void 0!==o.props&&(f.props=y.mergeEvaluated.props(r,o.props,f.props));else{const t=r.var("props",(0,h._)(u||(u=p(["",".evaluated.props"])),e));f.props=y.mergeEvaluated.props(r,t,f.props,h.Name)}if(!0!==f.items)if(o&&!o.dynamicItems)void 0!==o.items&&(f.items=y.mergeEvaluated.items(r,o.items,f.items));else{const t=r.var("items",(0,h._)(d||(d=p(["",".evaluated.items"])),e));f.items=y.mergeEvaluated.items(r,t,f.items,h.Name)}}o?function(){if(!b.$async)throw new Error("async schema referenced by sync schema");const n=r.let("valid");r.try(()=>{r.code((0,h._)(a||(a=p(["await ",""])),(0,m.callValidateCode)(e,t,E))),w(t),v||r.assign(n,!0)},e=>{r.if((0,h._)(s||(s=p(["!("," instanceof ",")"])),e,f.ValidationError),()=>r.throw(e)),x(e),v||r.assign(n,!1)}),e.ok(n)}():e.result((0,m.callValidateCode)(e,t,E),()=>w(t),()=>x(t))}t.getValidate=_,t.callRef=E,t.default=b},8211(e,t,n){"use strict";var o,r,a,s=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const i=n(8584),l={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const r="maxProperties"===t?"more":"fewer";return(0,i.str)(o||(o=s(["must NOT have "," than "," properties"])),r,n)},params:e=>{let{schemaCode:t}=e;return(0,i._)(r||(r=s(["{limit: ","}"])),t)}},code(e){const{keyword:t,data:n,schemaCode:o}=e,r="maxProperties"===t?i.operators.GT:i.operators.LT;e.fail$data((0,i._)(a||(a=s(["Object.keys(",").length "," ",""])),n,r,o))}};t.default=l},8218(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8396),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,o.alwaysValidSchema)(r,n))return void e.fail();const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};t.default=r},8396(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_,E=n(2897).default,x=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const w=n(8584),S=n(5467);function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{opts:n,self:o}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const r=o.RULES.keywords;for(const a in t)r[a]||j(e,'unknown keyword: "'.concat(a,'"'))}function N(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function I(e){return"number"==typeof e?"".concat(e):e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function O(e){let{mergeNames:t,mergeToName:n,mergeValues:o,resultToName:r}=e;return(e,a,s,i)=>{const l=void 0===s?a:s instanceof w.Name?(a instanceof w.Name?t(e,a,s):n(e,a,s),s):a instanceof w.Name?(n(e,s,a),a):o(a,s);return i!==w.Name||l instanceof w.Name?l:r(e,l)}}function A(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",(0,w._)(h||(h=x(["{}"]))));return void 0!==t&&R(e,n,t),n}function R(e,t,n){Object.keys(n).forEach(n=>e.assign((0,w._)(g||(g=x(["","",""])),t,(0,w.getProperty)(n)),!0))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(C(e,t),!N(t,e.self.RULES.all))},t.checkUnknownRules=C,t.schemaHasRules=N,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function(e,t,n,a){let{topSchemaRef:s,schemaPath:i}=e;if(!a){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,w._)(o||(o=x(["",""])),t)}return(0,w._)(r||(r=x(["","","",""])),s,i,(0,w.getProperty)(n))},t.unescapeFragment=function(e){return T(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(I(e))},t.escapeJsonPointer=I,t.unescapeJsonPointer=T,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:O({mergeNames:(e,t,n)=>e.if((0,w._)(a||(a=x([""," !== true && "," !== undefined"])),n,t),()=>{e.if((0,w._)(s||(s=x([""," === true"])),t),()=>e.assign(n,!0),()=>e.assign(n,(0,w._)(i||(i=x([""," || {}"])),n)).code((0,w._)(l||(l=x(["Object.assign(",", ",")"])),n,t)))}),mergeToName:(e,t,n)=>e.if((0,w._)(c||(c=x([""," !== true"])),n),()=>{!0===t?e.assign(n,!0):(e.assign(n,(0,w._)(u||(u=x([""," || {}"])),n)),R(e,n,t))}),mergeValues:(e,t)=>!0===e||E(E({},e),t),resultToName:A}),items:O({mergeNames:(e,t,n)=>e.if((0,w._)(d||(d=x([""," !== true && "," !== undefined"])),n,t),()=>e.assign(n,(0,w._)(p||(p=x([""," === true ? true : "," > "," ? "," : ",""])),t,n,t,n,t))),mergeToName:(e,t,n)=>e.if((0,w._)(f||(f=x([""," !== true"])),n),()=>e.assign(n,!0===t||(0,w._)(m||(m=x([""," > "," ? "," : ",""])),n,t,n,t))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=A,t.setEvaluated=R;const P={};var k;function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(n){if(t="strict mode: ".concat(t),!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:P[t.code]||(P[t.code]=new S._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(k||(t.Type=k={})),t.getErrorPath=function(e,t,n){if(e instanceof w.Name){const o=t===k.Num;return n?o?(0,w._)(v||(v=x(['"[" + ',' + "]"'])),e):(0,w._)(y||(y=x(['"[\'" + ',' + "\']"'])),e):o?(0,w._)(b||(b=x(['"/" + ',""])),e):(0,w._)(_||(_=x(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),e)}return n?(0,w.getProperty)(e).toString():"/"+I(e)},t.checkStrictMode=j},8584(e,t,n){"use strict";var o,r,a,s,i,l,c=n(166).default,u=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const d=n(5467),p=n(5280);var f=n(5467);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return f.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return f.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return f.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}});var m=n(5280);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return m.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return m.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return m.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return m.varKinds}}),t.operators={GT:new d._Code(">"),GTE:new d._Code(">="),LT:new d._Code("<"),LTE:new d._Code("<="),EQ:new d._Code("==="),NEQ:new d._Code("!=="),NOT:new d._Code("!"),OR:new d._Code("||"),AND:new d._Code("&&"),ADD:new d._Code("+")};class h{optimizeNodes(){return this}optimizeNames(e,t){return this}}class g extends h{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render(e){let{es5:t,_n:n}=e;const o=t?p.varKinds.var:this.varKind,r=void 0===this.rhs?"":" = ".concat(this.rhs);return"".concat(o," ").concat(this.name).concat(r,";")+n}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,e,t)),this}get names(){return this.rhs instanceof d._CodeOrName?this.rhs.names:{}}}class v extends h{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render(e){let{_n:t}=e;return"".concat(this.lhs," = ").concat(this.rhs,";")+t}optimizeNames(e,t){if(!(this.lhs instanceof d.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=L(this.rhs,e,t),this}get names(){return U(this.lhs instanceof d.Name?{}:u({},this.lhs.names),this.rhs)}}class y extends v{constructor(e,t,n,o){super(e,n,o),this.op=t}render(e){let{_n:t}=e;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+t}}class b extends h{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;return"".concat(this.label,":")+t}}class _ extends h{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;const n=this.label?" ".concat(this.label):"";return"break".concat(n,";")+t}}class E extends h{constructor(e){super(),this.error=e}render(e){let{_n:t}=e;return"throw ".concat(this.error,";")+t}get names(){return this.error.names}}class x extends h{constructor(e){super(),this.code=e}render(e){let{_n:t}=e;return"".concat(this.code,";")+t}optimizeNodes(){return"".concat(this.code)?this:void 0}optimizeNames(e,t){return this.code=L(this.code,e,t),this}get names(){return this.code instanceof d._CodeOrName?this.code.names:{}}}class w extends h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.nodes=e}render(e){return this.nodes.reduce((t,n)=>t+n.render(e),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let o=n.length;for(;o--;){const r=n[o];r.optimizeNames(e,t)||(q(e,r.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>F(e,t.names),{})}}class S extends w{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class C extends w{}class N extends S{}N.kind="else";class I extends S{constructor(e,t){super(t),this.condition=e}render(e){let t="if(".concat(this.condition,")")+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new N(e):e}return t?!1===e?t instanceof I?t:t.nodes:this.nodes.length?this:new I(V(e),t instanceof I?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=L(this.condition,e,t),this}get names(){const e=super.names;return U(e,this.condition),this.else&&F(e,this.else.names),e}}I.kind="if";class T extends S{}T.kind="for";class O extends T{constructor(e){super(),this.iteration=e}render(e){return"for(".concat(this.iteration,")")+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=L(this.iteration,e,t),this}get names(){return F(super.names,this.iteration.names)}}class A extends T{constructor(e,t,n,o){super(),this.varKind=e,this.name=t,this.from=n,this.to=o}render(e){const t=e.es5?p.varKinds.var:this.varKind,{name:n,from:o,to:r}=this;return"for(".concat(t," ").concat(n,"=").concat(o,"; ").concat(n,"<").concat(r,"; ").concat(n,"++)")+super.render(e)}get names(){const e=U(super.names,this.from);return U(e,this.to)}}class R extends T{constructor(e,t,n,o){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=o}render(e){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=L(this.iterable,e,t),this}get names(){return F(super.names,this.iterable.names)}}class P extends S{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){const t=this.async?"async ":"";return"".concat(t,"function ").concat(this.name,"(").concat(this.args,")")+super.render(e)}}P.kind="func";class k extends w{render(e){return"return "+super.render(e)}}k.kind="return";class j extends S{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,o;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(o=this.finally)||void 0===o||o.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&F(e,this.catch.names),this.finally&&F(e,this.finally.names),e}}class D extends S{constructor(e){super(),this.error=e}render(e){return"catch(".concat(this.error,")")+super.render(e)}}D.kind="catch";class M extends S{render(e){return"finally"+super.render(e)}}M.kind="finally";function F(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function U(e,t){return t instanceof d._CodeOrName?F(e,t.names):e}function L(e,t,n){return e instanceof d.Name?r(e):(o=e)instanceof d._Code&&o._items.some(e=>e instanceof d.Name&&1===t[e.str]&&void 0!==n[e.str])?new d._Code(e._items.reduce((e,t)=>(t instanceof d.Name&&(t=r(t)),t instanceof d._Code?e.push(...t._items):e.push(t),e),[])):e;var o;function r(e){const o=n[e.str];return void 0===o||1!==t[e.str]?e:(delete t[e.str],o)}}function q(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function V(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,d._)(s||(s=c(["!",""])),B(e))}t.CodeGen=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._values={},this._blockStarts=[],this._constants={},this.opts=u(u({},t),{},{_n:t.lines?"\n":""}),this._extScope=e,this._scope=new p.Scope({parent:e}),this._nodes=[new C]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,o){const r=this._scope.toName(t);return void 0!==n&&o&&(this._constants[r.str]=n),this._leafNode(new g(e,r,n)),r}const(e,t,n){return this._def(p.varKinds.const,e,t,n)}let(e,t,n){return this._def(p.varKinds.let,e,t,n)}var(e,t,n){return this._def(p.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new v(e,t,n))}add(e,n){return this._leafNode(new y(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==d.nil&&this._leafNode(new x(e)),this}object(){const e=["{"];for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(const[r,a]of n)e.length>1&&e.push(","),e.push(r),(r!==a||this.opts.es5)&&(e.push(":"),(0,d.addCodeArg)(e,a));return e.push("}"),new d._Code(e)}if(e,t,n){if(this._blockNode(new I(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new I(e))}else(){return this._elseNode(new N)}endIf(){return this._endBlockNode(I,N)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new O(e),t)}forRange(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?p.varKinds.var:p.varKinds.let;const a=this._scope.toName(e);return this._for(new A(r,a,t,n),()=>o(a))}forOf(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.varKinds.const;const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof d.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,d._)(o||(o=c(["",".length"])),e),t=>{this.var(s,(0,d._)(r||(r=c(["","[","]"])),e,t)),n(s)})}return this._for(new R("of",a,s,t),()=>n(s))}forIn(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?p.varKinds.var:p.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,(0,d._)(a||(a=c(["Object.keys(",")"])),t),n);const r=this._scope.toName(e);return this._for(new R("in",o,r,t),()=>n(r))}endFor(){return this._endBlockNode(T)}label(e){return this._leafNode(new b(e))}break(e){return this._leafNode(new _(e))}return(e){const t=new k;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const o=new j;if(this._blockNode(o),this.code(e),t){const e=this.name("e");this._currNode=o.catch=new D(e),t(e)}return n&&(this._currNode=o.finally=new M,this.code(n)),this._endBlockNode(D,M)}throw(e){return this._leafNode(new E(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error("CodeGen: wrong number of nodes: ".concat(n," vs ").concat(e," expected"));return this._nodes.length=t,this}func(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.nil,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return this._blockNode(new P(e,t,n)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(t?"".concat(e.kind,"/").concat(t.kind):e.kind,'"'))}_elseNode(e){const t=this._currNode;if(!(t instanceof I))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=V;const G=z(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(G)};const H=z(t.operators.OR);function z(e){return(t,n)=>t===d.nil?n:n===d.nil?t:(0,d._)(i||(i=c([""," "," ",""])),B(t),e,B(n))}function B(e){return e instanceof d.Name?e:(0,d._)(l||(l=c(["(",")"])),e)}t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(H)}},8617(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3740),r=n(7968),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o.default,r.default];t.default=a},8853(e,t,n){"use strict";e.exports=n(7234)},9045(e,t,n){var o=n(3738).default;e.exports=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9142(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const m=n(8584),h=n(266),g=n(656),v=n(6772);function y(e){const{gen:t,data:n,it:o}=e;t.if(o.parentData,()=>t.assign(n,(0,m._)(c||(c=f(["","[","]"])),o.parentData,o.parentDataProperty)))}function b(e,t,n){if(void 0===n)throw new Error('keyword "'.concat(t,'" failed to compile'));return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,m.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:o,schema:r,parentSchema:a,it:s}=e,i=t.macro.call(s.self,r,a,s),l=b(n,o,i);!1!==s.opts.validateSchema&&s.self.validateSchema(i,!0);const c=n.name("valid");e.subschema({schema:i,schemaPath:m.nil,errSchemaPath:"".concat(s.errSchemaPath,"/").concat(o),topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:_,schema:E,parentSchema:x,$data:w,it:S}=e;!function(e,t){let{schemaEnv:n}=e;if(t.async&&!n.$async)throw new Error("async keyword in sync schema")}(S,t);const C=!w&&t.compile?t.compile.call(S.self,E,x,S):t.validate,N=b(c,_,C),I=c.let("valid");function T(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?(0,m._)(i||(i=f(["await "]))):m.nil;const o=S.opts.passContext?h.default.this:h.default.self,r=!("compile"in t&&!w||!1===t.schema);c.assign(I,(0,m._)(l||(l=f(["","",""])),n,(0,g.callValidateCode)(e,N,o,r)),t.modifying)}function O(e){var n;c.if((0,m.not)(null!==(n=t.valid)&&void 0!==n?n:I),e)}e.block$data(I,function(){if(!1===t.errors)T(),t.modifying&&y(e),O(()=>e.error());else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try(()=>T((0,m._)(o||(o=f(["await "])))),t=>c.assign(I,!1).if((0,m._)(r||(r=f([""," instanceof ",""])),t,S.ValidationError),()=>c.assign(e,(0,m._)(a||(a=f(["",".errors"])),t)),()=>c.throw(t))),e}():function(){const e=(0,m._)(s||(s=f(["",".errors"])),N);return c.assign(e,null),T(m.nil),e}();t.modifying&&y(e),O(()=>function(e,t){const{gen:n}=e;n.if((0,m._)(u||(u=f(["Array.isArray(",")"])),t),()=>{n.assign(h.default.vErrors,(0,m._)(d||(d=f([""," === null ? "," : ",".concat(",")"])),h.default.vErrors,t,h.default.vErrors,t)).assign(h.default.errors,(0,m._)(p||(p=f(["",".length"])),h.default.vErrors)),(0,v.extendErrors)(e)},()=>e.error())}(e,n))}}),e.ok(null!==(n=t.valid)&&void 0!==n?n:I)},t.validSchemaType=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e)},t.validateKeywordUsage=function(e,t,n){let{schema:o,opts:r,self:a,errSchemaPath:s}=e;if(Array.isArray(t.keyword)?!t.keyword.includes(n):t.keyword!==n)throw new Error("ajv implementation error");const i=t.dependencies;if(null===i||void 0===i?void 0:i.some(e=>!Object.prototype.hasOwnProperty.call(o,e)))throw new Error("parent schema must have dependencies of ".concat(n,": ").concat(i.join(",")));if(t.validateSchema){if(!t.validateSchema(o[n])){const e='keyword "'.concat(n,'" value is invalid at path "').concat(s,'": ')+a.errorsText(t.validateSchema.errors);if("log"!==r.validateSchema)throw new Error(e);a.logger.error(e)}}}},9207(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n||(t.DiscrError=n={}))},9273(e,t,n){"use strict";var o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y,b,_,E,x,w,S,C,N,I,T,O,A,R,P,k,j,D,M=n(166).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const F=n(4445),U=n(2392),L=n(6772),q=n(8584),V=n(8396);var G;function H(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(F.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(G||(t.DataType=G={})),t.getSchemaTypes=function(e){const t=H(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=H,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:C,opts:N}=e,I=function(e,t){return t?e.filter(e=>z.has(e)||"array"===t&&"array"===e):[]}(t,N.coerceTypes),T=t.length>0&&!(0===I.length&&1===t.length&&(0,U.schemaHasRulesForType)(e,t[0]));if(T){const T=$(t,C,N.strictNumbers,G.Wrong);n.if(T,()=>{I.length?function(e,t,n){const{gen:C,data:N,opts:I}=e,T=C.let("dataType",(0,q._)(o||(o=M(["typeof ",""])),N)),O=C.let("coerced",(0,q._)(r||(r=M(["undefined"]))));"array"===I.coerceTypes&&C.if((0,q._)(a||(a=M([""," == 'object' && Array.isArray(",") && ",".length == 1"])),T,N,N),()=>C.assign(N,(0,q._)(s||(s=M(["","[0]"])),N)).assign(T,(0,q._)(i||(i=M(["typeof ",""])),N)).if($(t,N,I.strictNumbers),()=>C.assign(O,N)));C.if((0,q._)(l||(l=M([""," !== undefined"])),O));for(const o of n)(z.has(o)||"array"===o&&"array"===I.coerceTypes)&&A(o);function A(e){switch(e){case"string":return void C.elseIf((0,q._)(u||(u=M(["",' == "number" || ',' == "boolean"'])),T,T)).assign(O,(0,q._)(d||(d=M(['"" + ',""])),N)).elseIf((0,q._)(p||(p=M([""," === null"])),N)).assign(O,(0,q._)(f||(f=M(['""']))));case"number":return void C.elseIf((0,q._)(m||(m=M(["",' == "boolean" || '," === null\n              || (",' == "string" && '," && "," == +",")"])),T,N,T,N,N,N)).assign(O,(0,q._)(h||(h=M(["+",""])),N));case"integer":return void C.elseIf((0,q._)(g||(g=M(["",' === "boolean" || '," === null\n              || (",' === "string" && '," && "," == +"," && !("," % 1))"])),T,N,T,N,N,N,N)).assign(O,(0,q._)(v||(v=M(["+",""])),N));case"boolean":return void C.elseIf((0,q._)(y||(y=M(["",' === "false" || '," === 0 || "," === null"])),N,N,N)).assign(O,!1).elseIf((0,q._)(b||(b=M(["",' === "true" || '," === 1"])),N,N)).assign(O,!0);case"null":return C.elseIf((0,q._)(_||(_=M(["",' === "" || '," === 0 || "," === false"])),N,N,N)),void C.assign(O,null);case"array":C.elseIf((0,q._)(E||(E=M(["",' === "string" || ',' === "number"\n              || ',' === "boolean" || '," === null"])),T,T,T,N)).assign(O,(0,q._)(x||(x=M(["[","]"])),N))}}C.else(),K(e),C.endIf(),C.if((0,q._)(c||(c=M([""," !== undefined"])),O),()=>{C.assign(N,O),function(e,t){let{gen:n,parentData:o,parentDataProperty:r}=e;n.if((0,q._)(w||(w=M([""," !== undefined"])),o),()=>n.assign((0,q._)(S||(S=M(["","[","]"])),o,r),t))}(e,O)})}(e,t,I):K(e)})}return T};const z=new Set(["string","number","integer","boolean","null"]);function B(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Correct;const r=o===G.Correct?q.operators.EQ:q.operators.NEQ;let a;switch(e){case"null":return(0,q._)(C||(C=M([""," "," null"])),t,r);case"array":a=(0,q._)(N||(N=M(["Array.isArray(",")"])),t);break;case"object":a=(0,q._)(I||(I=M([""," && typeof ",' == "object" && !Array.isArray(',")"])),t,t,t);break;case"integer":a=s((0,q._)(T||(T=M(["!("," % 1) && !isNaN(",")"])),t,t));break;case"number":a=s();break;default:return(0,q._)(O||(O=M(["typeof "," "," ",""])),t,r,e)}return o===G.Correct?a:(0,q.not)(a);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.nil;return(0,q.and)((0,q._)(A||(A=M(["typeof ",' == "number"'])),t),e,n?(0,q._)(R||(R=M(["isFinite(",")"])),t):q.nil)}}function $(e,t,n,o){if(1===e.length)return B(e[0],t,n,o);let r;const a=(0,V.toHash)(e);if(a.array&&a.object){const e=(0,q._)(P||(P=M(["typeof ",' != "object"'])),t);r=a.null?e:(0,q._)(k||(k=M(["!"," || ",""])),t,e),delete a.null,delete a.array,delete a.object}else r=q.nil;a.number&&delete a.integer;for(const s in a)r=(0,q.and)(r,B(s,t,n,o));return r}t.checkDataType=B,t.checkDataTypes=$;const J={message:e=>{let{schema:t}=e;return"must be ".concat(t)},params:e=>{let{schema:t,schemaValue:n}=e;return"string"==typeof t?(0,q._)(j||(j=M(["{type: ","}"])),t):(0,q._)(D||(D=M(["{type: ","}"])),n)}};function K(e){const t=function(e){const{gen:t,data:n,schema:o}=e,r=(0,V.schemaRefOrVal)(e,o,"type");return{gen:t,keyword:"type",data:n,schema:o.type,schemaCode:r,schemaValue:r,parentSchema:o,params:{},it:e}}(e);(0,L.reportError)(t,J)}t.reportTypeError=K},9281(e,t,n){"use strict";var o=n(2897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(5413);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var a=n(8584);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});const s=n(6817),i=n(9550),l=n(4445),c=n(1762),u=n(8584),d=n(2302),p=n(9273),f=n(8396),m=n(3837),h=n(4601),g=(e,t)=>new RegExp(e,t);g.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=o(o({},e),function(e){var t,n,r,a,s,i,l,c,u,d,p,f,m,v,y,b,_,E,x,w,S,C,N,I,T;const O=e.strict,A=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===A||void 0===A?1:A||0,P=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:g,k=null!==(a=e.uriResolver)&&void 0!==a?a:h.default;return{strictSchema:null===(i=null!==(s=e.strictSchema)&&void 0!==s?s:O)||void 0===i||i,strictNumbers:null===(c=null!==(l=e.strictNumbers)&&void 0!==l?l:O)||void 0===c||c,strictTypes:null!==(d=null!==(u=e.strictTypes)&&void 0!==u?u:O)&&void 0!==d?d:"log",strictTuples:null!==(f=null!==(p=e.strictTuples)&&void 0!==p?p:O)&&void 0!==f?f:"log",strictRequired:null!==(v=null!==(m=e.strictRequired)&&void 0!==m?m:O)&&void 0!==v&&v,code:e.code?o(o({},e.code),{},{optimize:R,regExp:P}):{optimize:R,regExp:P},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:200,loopEnum:null!==(b=e.loopEnum)&&void 0!==b?b:200,meta:null===(_=e.meta)||void 0===_||_,messages:null===(E=e.messages)||void 0===E||E,inlineRefs:null===(x=e.inlineRefs)||void 0===x||x,schemaId:null!==(w=e.schemaId)&&void 0!==w?w:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(C=e.validateSchema)||void 0===C||C,validateFormats:null===(N=e.validateFormats)||void 0===N||N,unicodeRegExp:null===(I=e.unicodeRegExp)||void 0===I||I,int32range:null===(T=e.int32range)||void 0===T||T,uriResolver:k}}(e));const{es5:t,lines:n}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:y,es5:t,lines:n}),this.logger=function(e){if(!1===e)return T;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,l.getRules)(),x.call(this,b,e,"NOT SUPPORTED"),x.call(this,_,e,"DEPRECATED","warn"),this._metaOpts=I.call(this),e.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&N.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=m;"id"===n&&(r=o({},m),r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'.concat(e,'"'))}else n=this.compile(e);const o=n(t);return"$async"in n||(this.errors=n.errors),o}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return o.call(this,e,t);async function o(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||a.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await o.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof i.default))throw t;return s.call(this,t),await l.call(this,t.missingSchema),a.call(this,e)}}function s(e){let{missingSchema:t,missingRef:n}=e;if(this.refs[t])throw new Error("AnySchema ".concat(t," is loaded but ").concat(n," cannot be resolved"))}async function l(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n){let o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}if("object"===typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error("schema ".concat(t," must be string"))}return t=(0,d.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(n,e);if(!o&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return o}getSchema(e){let t;for(;"string"==typeof(t=w.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,o=new c.SchemaEnv({schema:{},schemaId:n});if(t=c.resolveSchema.call(this,o,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=w.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,d.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(A.call(this,n,t),!t)return(0,f.eachItem)(n,e=>R.call(this,e)),this;k.call(this,t);const r=o(o({},t),{},{type:(0,p.getJSONTypes)(t.type),schemaType:(0,p.getJSONTypes)(t.schemaType)});return(0,f.eachItem)(n,0===r.type.length?e=>R.call(this,e,r):e=>r.type.forEach(t=>R.call(this,e,r,t))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex(t=>t.keyword===e);t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,{separator:t=", ",dataVar:n="data"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&0!==e.length?e.map(e=>"".concat(n).concat(e.instancePath," ").concat(e.message)).reduce((e,n)=>e+t+n):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const o of t){const t=o.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:o}=t.definition,a=r[e];o&&a&&(r[e]=D(a))}}return e}_removeAllSchemas(e,t){for(const n in e){const o=e[n];t&&!t.test(n)||("string"==typeof o?delete e[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[n]))}}_addSchema(e,t,n){let o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;n=(0,d.normalizeId)(o||n);const l=d.getSchemaRefs.call(this,e,n);return i=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:l}),this._cache.set(i.schema,i),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=i),r&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error('schema with key or id "'.concat(e,'" already exists'))}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(const r in e){const a=r;a in t&&this.logger[o]("".concat(n,": option ").concat(r,". ").concat(e[a]))}}function w(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function C(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function N(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function I(){const e=o({},this.opts);for(const t of v)delete e[t];return e}E.ValidationError=s.default,E.MissingRefError=i.default,t.default=E;const T={log(){},warn(){},error(){}};const O=/^[a-z_$][a-z0-9_$:-]*$/i;function A(e,t){const{RULES:n}=this;if((0,f.eachItem)(e,e=>{if(n.keywords[e])throw new Error("Keyword ".concat(e," is already defined"));if(!O.test(e))throw new Error("Keyword ".concat(e," has invalid name"))}),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function R(e,t,n){var r;const a=null===t||void 0===t?void 0:t.post;if(n&&a)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:s}=this;let i=a?s.post:s.rules.find(e=>{let{type:t}=e;return t===n});if(i||(i={type:n,rules:[]},s.rules.push(i)),s.keywords[e]=!0,!t)return;const l={keyword:e,definition:o(o({},t),{},{type:(0,p.getJSONTypes)(t.type),schemaType:(0,p.getJSONTypes)(t.schemaType)})};t.before?P.call(this,i,l,t.before):i.rules.push(l),s.all[e]=l,null===(r=t.implements)||void 0===r||r.forEach(e=>this.addKeyword(e))}function P(e,t,n){const o=e.rules.findIndex(e=>e.keyword===n);o>=0?e.rules.splice(o,0,t):(e.rules.push(t),this.logger.warn("rule ".concat(n," is not defined")))}function k(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=D(t)),e.validateSchema=this.compile(t,!0))}const j={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function D(e){return{anyOf:[e,j]}}},9294(e,t,n){"use strict";var o,r,a,s,i,l=n(166).default;Object.defineProperty(t,"__esModule",{value:!0});const c=n(8584),u=n(8396),d=n(6754),p={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const r="maxLength"===t?"more":"fewer";return(0,c.str)(o||(o=l(["must NOT have "," than "," characters"])),r,n)},params:e=>{let{schemaCode:t}=e;return(0,c._)(r||(r=l(["{limit: ","}"])),t)}},code(e){const{keyword:t,data:n,schemaCode:o,it:r}=e,p="maxLength"===t?c.operators.GT:c.operators.LT,f=!1===r.opts.unicode?(0,c._)(a||(a=l(["",".length"])),n):(0,c._)(s||(s=l(["","(",")"])),(0,u.useFunc)(e.gen,d.default),n);e.fail$data((0,c._)(i||(i=l([""," "," ",""])),f,p,o))}};t.default=p},9497(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(8617),r=n(2141),a=n(3939),s=n(3709),i=n(6280),l=[o.default,r.default,(0,a.default)(),s.default,i.metadataVocabulary,i.contentVocabulary];t.default=l},9550(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2302);class r extends Error{constructor(e,t,n,r){super(r||"can't resolve reference ".concat(n," from id ").concat(t)),this.missingRef=(0,o.resolveUrl)(e,t,n),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(e,this.missingRef))}}t.default=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(5043),t=n(4391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","children"];var u=(t,n)=>{const o=(0,e.forwardRef)((o,r)=>{let{color:a="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:d,children:p}=o,f=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(o,c);return(0,e.createElement)("svg",i(i({ref:r},l),{},{width:s,height:s,stroke:a,strokeWidth:d?24*Number(u)/Number(s):u,className:"lucide lucide-".concat((m=t,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},f),[...n.map(t=>{let[n,o]=t;return(0,e.createElement)(n,o)}),...(Array.isArray(p)?p:[p])||[]]);var m});return o.displayName="".concat(t),o};const d=u("FolderInput",[["path",{d:"M2 9V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"1gu97c"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]),p=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f=u("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=u("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),h=u("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);var g=n(579);const v=t=>{let{activeSection:n,setActiveSection:o,onTransmit:r,onDownload:a,onLoadJson:s,onNew:l,onSaveDraft:c,onImportFullPdf:u,sectionStatus:v}=t;const y=(0,e.useRef)(null),[b,_]=(0,e.useState)({S1:!0,S2:!0,S3:!1,S4:!1,S5:!1,S6:!1});return(0,g.jsxs)("div",{className:"w-72 bg-slate-900 text-white h-screen fixed left-0 top-0 flex flex-col shadow-2xl z-50 font-sans border-r border-slate-800",children:[(0,g.jsx)("div",{className:"p-5 border-b border-slate-800 bg-slate-950",children:(0,g.jsxs)("h1",{className:"text-xl font-extrabold flex flex-col",children:[(0,g.jsx)("span",{className:"text-blue-500 tracking-wide",children:"AUDESP"}),(0,g.jsx)("span",{className:"text-white tracking-widest text-xs",children:"CONNECT FASE V"})]})}),(0,g.jsx)("div",{className:"p-3 bg-slate-800/50 border-b border-slate-700",children:(0,g.jsxs)("button",{onClick:e=>{e.preventDefault(),u()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded text-xs font-bold transition-colors shadow-md border border-indigo-500",children:[(0,g.jsx)(d,{size:14}),"Importar PDF Completo"]})}),(0,g.jsxs)("nav",{className:"flex-1 overflow-y-auto py-2 custom-scrollbar",children:[(0,g.jsxs)("button",{onClick:()=>o("dashboard"),className:"w-full text-left px-4 py-3 text-xs font-bold uppercase transition-all flex items-center gap-2 ".concat("dashboard"===n?"bg-blue-900/40 text-blue-300 border-l-4 border-blue-500":"text-slate-400 hover:text-white"),children:[(0,g.jsx)("div",{className:"w-4",children:"\ud83d\udcca"}),"Dashboard Geral"]}),(0,g.jsx)("div",{className:"space-y-1 mt-2",children:[{id:"S1",title:"SE\xc7\xc3O 1 \u2014 IDENTIFICA\xc7\xc3O",items:[{id:"descritor",label:"Descritor"},{id:"codigo_ajuste",label:"C\xf3digo do Ajuste"},{id:"dados_gerais",label:"Dados da Entidade"},{id:"prestacao_benef",label:"Presta\xe7\xe3o Benefici\xe1ria"},{id:"responsaveis",label:"Respons\xe1veis"}]},{id:"S2",title:"SE\xc7\xc3O 2 \u2014 FINANCEIRO",items:[{id:"empenhos",label:"Empenhos"},{id:"repasses",label:"Repasses Recebidos"},{id:"receitas",label:"Outras Receitas"},{id:"contratos",label:"Contratos"},{id:"documentos_fiscais",label:"Documentos Fiscais"},{id:"pagamentos",label:"Pagamentos"},{id:"glosas",label:"Glosas"},{id:"ajustes_saldo",label:"Ajustes de Saldo"},{id:"descontos",label:"Descontos"},{id:"devolucoes",label:"Devolu\xe7\xf5es"},{id:"disponibilidades",label:"Disponibilidades"}]},{id:"S3",title:"SE\xc7\xc3O 3 \u2014 RELAT\xd3RIOS",items:[{id:"relatorio_atividades",label:"Relat\xf3rio Atividades"},{id:"relatorio_gov",label:"Relat\xf3rio Governamental"}]},{id:"S4",title:"SE\xc7\xc3O 4 \u2014 EMPREGADOS E BENS",items:[{id:"relacao_empregados",label:"Rela\xe7\xe3o de Empregados"},{id:"servidores_cedidos",label:"Servidores Cedidos"},{id:"relacao_bens",label:"Rela\xe7\xe3o de Bens"}]},{id:"S5",title:"SE\xc7\xc3O 5 \u2014 PUBLICA\xc7\xd5ES",items:[{id:"demonstracoes",label:"Demonstra\xe7\xf5es Cont\xe1beis"},{id:"publicacoes",label:"Publica\xe7\xf5es Parecer/Ata"}]},{id:"S6",title:"SE\xc7\xc3O 6 \u2014 DECLARA\xc7\xd5ES",items:[{id:"declaracoes",label:"Declara\xe7\xf5es"},{id:"transparencia",label:"Transpar\xeancia"},{id:"parecer",label:"Parecer Conclusivo"}]}].map(e=>(0,g.jsxs)("div",{className:"border-b border-slate-800/50",children:[(0,g.jsxs)("button",{onClick:()=>{return t=e.id,void _(e=>i(i({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between px-4 py-2.5 text-[10px] font-bold uppercase tracking-wider text-slate-500 hover:text-slate-300 hover:bg-slate-800 transition-colors",children:[e.title,b[e.id]?(0,g.jsx)(p,{size:12}):(0,g.jsx)(f,{size:12})]}),b[e.id]&&(0,g.jsx)("ul",{className:"bg-slate-900/50 pb-2",children:e.items.map(e=>(0,g.jsx)("li",{children:(0,g.jsx)("button",{onClick:()=>o(e.id),className:"w-full text-left pl-8 pr-4 py-2 text-xs font-medium transition-all border-l-[3px] flex items-center justify-between ".concat(n===e.id?"bg-slate-800 border-blue-500 text-white":"border-transparent text-slate-400 hover:text-white hover:bg-slate-800/30"),children:e.label})},e.id))})]},e.id))})]}),(0,g.jsxs)("div",{className:"p-4 bg-slate-950 space-y-3 border-t border-slate-800",children:[(0,g.jsxs)("button",{onClick:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white h-10 rounded-md text-xs font-bold flex items-center justify-center gap-2 shadow-lg tracking-wide uppercase transition-transform active:scale-95",children:[(0,g.jsx)(m,{size:14})," Transmitir Audesp"]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("button",{onClick:a,className:"bg-slate-800 hover:bg-slate-700 text-slate-300 h-8 rounded text-[10px] font-bold uppercase flex items-center justify-center gap-1",children:[(0,g.jsx)(h,{size:12})," Baixar"]}),(0,g.jsxs)("button",{onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.click()},className:"bg-slate-800 hover:bg-slate-700 text-slate-300 h-8 rounded text-[10px] font-bold uppercase flex items-center justify-center gap-1",children:[(0,g.jsx)(d,{size:12})," Carregar"]}),(0,g.jsx)("input",{type:"file",ref:y,className:"hidden",accept:".json",onChange:e=>{e.target.files&&e.target.files[0]&&s(e.target.files[0]),y.current&&(y.current.value="")}})]})]})]})};function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b,_,E,x;let w,S;function C(e,t,n,o){var r,a;if(!(null===e||void 0===e?void 0:e.baseUrl)){const e={geminiUrl:w,vertexUrl:S};return t?null!==(r=e.vertexUrl)&&void 0!==r?r:n:null!==(a=e.geminiUrl)&&void 0!==a?a:o}return e.baseUrl}class N{}function I(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))})}function T(e,t,n){for(let a=0;a<t.length-1;a++){const o=t[a];if(o.endsWith("[]")){const r=o.slice(0,-2);if(!(r in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(o));e[r]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[r])){const o=e[r];if(Array.isArray(n))for(let e=0;e<o.length;e++){T(o[e],t.slice(a+1),n[e])}else for(const e of o)T(e,t.slice(a+1),n)}return}if(o.endsWith("[0]")){const r=o.slice(0,-3);r in e||(e[r]=[{}]);return void T(e[r][0],t.slice(a+1),n)}e[o]&&"object"===typeof e[o]||(e[o]={}),e=e[o]}const o=t[t.length-1],r=e[o];if(void 0!==r){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===r)return;if("object"!==typeof r||"object"!==typeof n||null===r||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(o));Object.assign(r,n)}else if("_self"!==o||"object"!==typeof n||null===n||Array.isArray(n))e[o]=n;else{const t=n;Object.assign(e,t)}}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{if(1===t.length&&"_self"===t[0])return e;for(let o=0;o<t.length;o++){if("object"!==typeof e||null===e)return n;const r=t[o];if(r.endsWith("[]")){const a=r.slice(0,-2);if(a in e){const r=e[a];return Array.isArray(r)?r.map(e=>O(e,t.slice(o+1),n)):n}return n}e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function A(e,t,n,o,r){if(o>=t.length)return;if("object"!==typeof e||null===e)return;const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2),i=e;if(s in i&&Array.isArray(i[s]))for(const e of i[s])A(e,t,n,o+1,r)}else if("*"===a){if("object"===typeof e&&null!==e&&!Array.isArray(e)){const t=e,a=Object.keys(t).filter(e=>!e.startsWith("_")&&!r.has(e)),s={};for(const e of a)s[e]=t[e];for(const[e,r]of Object.entries(s)){const a=[];for(const t of n.slice(o))"*"===t?a.push(e):a.push(t);T(t,a,r)}for(const e of a)delete t[e]}}else{a in e&&A(e[a],t,n,o+1,r)}}function R(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function P(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response","generateVideoResponse"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["video"]);null!=n&&T(t,["video"],function(e){const t={},n=O(e,["uri"]);null!=n&&T(t,["uri"],n);const o=O(e,["encodedVideo"]);null!=o&&T(t,["videoBytes"],R(o));const r=O(e,["encoding"]);null!=r&&T(t,["mimeType"],r);return t}(n));return t}(e))),T(t,["generatedVideos"],e)}const o=O(e,["raiMediaFilteredCount"]);null!=o&&T(t,["raiMediaFilteredCount"],o);const r=O(e,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function k(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["_self"]);null!=n&&T(t,["video"],function(e){const t={},n=O(e,["gcsUri"]);null!=n&&T(t,["uri"],n);const o=O(e,["bytesBase64Encoded"]);null!=o&&T(t,["videoBytes"],R(o));const r=O(e,["mimeType"]);null!=r&&T(t,["mimeType"],r);return t}(n));return t}(e))),T(t,["generatedVideos"],e)}const o=O(e,["raiMediaFilteredCount"]);null!=o&&T(t,["raiMediaFilteredCount"],o);const r=O(e,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function j(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["parent"]);null!=o&&T(t,["parent"],o);const r=O(e,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}function D(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["parent"]);null!=o&&T(t,["parent"],o);const r=O(e,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}var M,F,U,L,q,V,G,H,z,B,$,J,K,W,Y,Q,X,Z,ee,te,ne,oe,re,ae,se,ie,le,ce,ue,de,pe,fe,me,he,ge,ve,ye,be,_e,Ee,xe,we,Se,Ce,Ne,Ie,Te,Oe,Ae,Re,Pe,ke,je,De,Me,Fe,Ue;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(M||(M={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(F||(F={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(U||(U={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(L||(L={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(q||(q={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(V||(V={})),function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"}(G||(G={})),function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"}(H||(H={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(z||(z={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(B||(B={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}($||($={})),function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"}(J||(J={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"}(K||(K={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(W||(W={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(Y||(Y={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"}(Q||(Q={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(X||(X={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(Z||(Z={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(ee||(ee={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"}(te||(te={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(ne||(ne={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(oe||(oe={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(re||(re={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(ae||(ae={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(se||(se={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(ie||(ie={})),function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"}(le||(le={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"}(ce||(ce={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(ue||(ue={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(de||(de={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(pe||(pe={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(fe||(fe={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(me||(me={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(he||(he={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(ge||(ge={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(ve||(ve={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(ye||(ye={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(be||(be={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(_e||(_e={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(Ee||(Ee={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(xe||(xe={})),function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"}(we||(we={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"}(Se||(Se={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Ce||(Ce={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"}(Ne||(Ne={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(Ie||(Ie={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(Te||(Te={})),function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"}(Oe||(Oe={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"}(Ae||(Ae={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Re||(Re={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Pe||(Pe={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(ke||(ke={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(je||(je={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(De||(De={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(Me||(Me={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Fe||(Fe={}));class Le{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class qe{get text(){var e,t,n,o,r,a,s,i;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",c=!1;const u=[];for(const d of null!==(i=null===(s=null===(a=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===a?void 0:a.content)||void 0===s?void 0:s.parts)&&void 0!==i?i:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||u.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;c=!0,l+=d.text}}return u.length>0&&console.warn("there are non-text parts ".concat(u," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),c?l:void 0}get data(){var e,t,n,o,r,a,s,i;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const c=[];for(const u of null!==(i=null===(s=null===(a=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===a?void 0:a.content)||void 0===s?void 0:s.parts)&&void 0!==i?i:[]){for(const[e,t]of Object.entries(u))"inlineData"===e||null===t&&void 0===t||c.push(e);u.inlineData&&"string"===typeof u.inlineData.data&&(l+=atob(u.inlineData.data))}return c.length>0&&console.warn("there are non-data parts ".concat(c," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,o,r,a,s,i;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(i=null===(s=null===(a=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===a?void 0:a.content)||void 0===s?void 0:s.parts)||void 0===i?void 0:i.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===l||void 0===l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,o,r,a,s,i,l;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=null===(i=null===(s=null===(a=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===a?void 0:a.content)||void 0===s?void 0:s.parts)||void 0===i?void 0:i.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===c||void 0===c?void 0:c.length)?null===(l=null===c||void 0===c?void 0:c[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,o,r,a,s,i,l;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=null===(i=null===(s=null===(a=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===a?void 0:a.content)||void 0===s?void 0:s.parts)||void 0===i?void 0:i.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===c||void 0===c?void 0:c.length)?null===(l=null===c||void 0===c?void 0:c[0])||void 0===l?void 0:l.output:void 0}}class Ve{}class Ge{}class He{}class ze{}class Be{}class $e{}class Je{}class Ke{}class We{}class Ye{}class Qe{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new Qe;let r;const a=t;return r=n?k(a):P(a),Object.assign(o,r),o}}class Xe{}class Ze{}class et{}class tt{}class nt{}class ot{}class rt{}class at{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new at,r=j(t);return Object.assign(o,r),o}}class st{}class it{}class lt{}class ct{}class ut{get text(){var e,t,n;let o="",r=!1;const a=[];for(const s of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(s))"text"!==e&&"thought"!==e&&null!==t&&a.push(e);if("string"===typeof s.text){if("boolean"===typeof s.thought&&s.thought)continue;r=!0,o+=s.text}}return a.length>0&&console.warn("there are non-text parts ".concat(a," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),r?o:void 0}get data(){var e,t,n;let o="";const r=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"inlineData"!==e&&null!==t&&r.push(e);a.inlineData&&"string"===typeof a.inlineData.data&&(o+=atob(a.inlineData.data))}return r.length>0&&console.warn("there are non-data parts ".concat(r," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),o.length>0?btoa(o):void 0}}class dt{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pt{_fromAPIResponse(e){let{apiResponse:t,_isVertexAI:n}=e;const o=new pt,r=D(t);return Object.assign(o,r),o}}function ft(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function mt(e,t){const n=ft(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function ht(e){return Array.isArray(e)?e.map(e=>gt(e)):[gt(e)]}function gt(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function vt(e){const t=gt(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function yt(e){const t=gt(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function bt(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function _t(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>bt(e)):[bt(e)]}function Et(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function xt(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function wt(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function St(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return Et(e)?e:{role:"user",parts:_t(e)}}function Ct(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=St(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=St(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>St(e)):[St(t)]}function Nt(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(xt(e)||wt(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(e)]}const t=[],n=[],o=Et(e[0]);for(const r of e){const e=Et(r);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(r);else{if(xt(r)||wt(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:_t(n)}),t}function It(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;null!=a&&2==a.length&&("null"===a[0].type?(t.nullable=!0,e=a[1]):"null"===a[1].type&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(L).includes(n[0].toUpperCase())?n[0].toUpperCase():L.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(L).includes(e.toUpperCase())?e.toUpperCase():L.TYPE_UNSPECIFIED})}}(e.type,t);for(const[s,i]of Object.entries(e))if(null!=i)if("type"==s){if("null"===i)throw new Error("type: null can not be the only possible type for the field.");if(i instanceof Array)continue;t.type=Object.values(L).includes(i.toUpperCase())?i.toUpperCase():L.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=It(i);else if(o.includes(s)){const e=[];for(const n of i)"null"!=n.type?e.push(It(n)):t.nullable=!0;t[s]=e}else if(r.includes(s)){const e={};for(const[t,n]of Object.entries(i))e[t]=It(n);t[s]=e}else{if("additionalProperties"===s)continue;t[s]=i}return t}function Tt(e){return It(e)}function Ot(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function At(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Rt(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=It(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=It(t.response));return e}function Pt(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function kt(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=!t.startsWith("".concat(n,"/"))&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):r?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:r?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function jt(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Dt(e){return R(e)}function Mt(e){var t;let n;var o;if(null!==(o=e)&&void 0!==o&&"object"===typeof o&&"name"in o&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ft(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Ut(e){for(const t of["models","tunedModels","publisherModels"])if(Lt(e,t))return e[t];return[]}function Lt(e,t){return null!==e&&"object"===typeof e&&t in e}function qt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior);return{functionDeclarations:[o]}}function Vt(e,t){let n;if("string"===typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error("Unsupported string source for Vertex AI: ".concat(t));n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error("Unsupported string source for Gemini API: ".concat(t));n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||1!==o)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||1!==r)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Gt(e){if("object"!==typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!==typeof n||null===n)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||0===o.length)return e;let r=!1;for(const a of o){if("object"!==typeof a||null===a)continue;const e=a.response;if("object"!==typeof e||null===e)continue;if(void 0!==e.embedding){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ht(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function zt(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}function Bt(e){const t={},n=O(e,["responsesFile"]);null!=n&&T(t,["fileName"],n);const o=O(e,["inlinedResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["response"]);null!=n&&T(t,["response"],function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["content"]);null!=n&&T(t,["content"],n);const o=O(e,["citationMetadata"]);null!=o&&T(t,["citationMetadata"],function(e){const t={},n=O(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["citations"],e)}return t}(o));const r=O(e,["tokenCount"]);null!=r&&T(t,["tokenCount"],r);const a=O(e,["finishReason"]);null!=a&&T(t,["finishReason"],a);const s=O(e,["avgLogprobs"]);null!=s&&T(t,["avgLogprobs"],s);const i=O(e,["groundingMetadata"]);null!=i&&T(t,["groundingMetadata"],i);const l=O(e,["index"]);null!=l&&T(t,["index"],l);const c=O(e,["logprobsResult"]);null!=c&&T(t,["logprobsResult"],c);const u=O(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["safetyRatings"],e)}const d=O(e,["urlContextMetadata"]);null!=d&&T(t,["urlContextMetadata"],d);return t}(e))),T(t,["candidates"],e)}const r=O(e,["modelVersion"]);null!=r&&T(t,["modelVersion"],r);const a=O(e,["promptFeedback"]);null!=a&&T(t,["promptFeedback"],a);const s=O(e,["responseId"]);null!=s&&T(t,["responseId"],s);const i=O(e,["usageMetadata"]);null!=i&&T(t,["usageMetadata"],i);return t}(n));const o=O(e,["error"]);null!=o&&T(t,["error"],o);return t}(e))),T(t,["inlinedResponses"],e)}const r=O(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["inlinedEmbedContentResponses"],e)}return t}function $t(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata","displayName"]);null!=o&&T(t,["displayName"],o);const r=O(e,["metadata","state"]);null!=r&&T(t,["state"],zt(r));const a=O(e,["metadata","createTime"]);null!=a&&T(t,["createTime"],a);const s=O(e,["metadata","endTime"]);null!=s&&T(t,["endTime"],s);const i=O(e,["metadata","updateTime"]);null!=i&&T(t,["updateTime"],i);const l=O(e,["metadata","model"]);null!=l&&T(t,["model"],l);const c=O(e,["metadata","output"]);return null!=c&&T(t,["dest"],Bt(Gt(c))),t}function Jt(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["displayName"]);null!=o&&T(t,["displayName"],o);const r=O(e,["state"]);null!=r&&T(t,["state"],zt(r));const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["createTime"]);null!=s&&T(t,["createTime"],s);const i=O(e,["startTime"]);null!=i&&T(t,["startTime"],i);const l=O(e,["endTime"]);null!=l&&T(t,["endTime"],l);const c=O(e,["updateTime"]);null!=c&&T(t,["updateTime"],c);const u=O(e,["model"]);null!=u&&T(t,["model"],u);const d=O(e,["inputConfig"]);null!=d&&T(t,["src"],function(e){const t={},n=O(e,["instancesFormat"]);null!=n&&T(t,["format"],n);const o=O(e,["gcsSource","uris"]);null!=o&&T(t,["gcsUri"],o);const r=O(e,["bigquerySource","inputUri"]);null!=r&&T(t,["bigqueryUri"],r);return t}(d));const p=O(e,["outputConfig"]);null!=p&&T(t,["dest"],function(e){const t={},n=O(e,["predictionsFormat"]);null!=n&&T(t,["format"],n);const o=O(e,["gcsDestination","outputUriPrefix"]);null!=o&&T(t,["gcsUri"],o);const r=O(e,["bigqueryDestination","outputUri"]);return null!=r&&T(t,["bigqueryUri"],r),t}(Gt(p)));const f=O(e,["completionStats"]);return null!=f&&T(t,["completionStats"],f),t}function Kt(e,t){const n={};if(void 0!==O(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==O(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==O(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=O(t,["fileName"]);null!=o&&T(n,["fileName"],o);const r=O(t,["inlinedRequests"]);if(null!=r){let t=r;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["request","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>Wt(e))),T(n,["request","contents"],e)}const a=O(t,["metadata"]);null!=a&&T(n,["metadata"],a);const s=O(t,["config"]);null!=s&&T(n,["request","generationConfig"],function(e,t,n){const o={},r=O(t,["systemInstruction"]);void 0!==n&&null!=r&&T(n,["systemInstruction"],Wt(St(r)));const a=O(t,["temperature"]);null!=a&&T(o,["temperature"],a);const s=O(t,["topP"]);null!=s&&T(o,["topP"],s);const i=O(t,["topK"]);null!=i&&T(o,["topK"],i);const l=O(t,["candidateCount"]);null!=l&&T(o,["candidateCount"],l);const c=O(t,["maxOutputTokens"]);null!=c&&T(o,["maxOutputTokens"],c);const u=O(t,["stopSequences"]);null!=u&&T(o,["stopSequences"],u);const d=O(t,["responseLogprobs"]);null!=d&&T(o,["responseLogprobs"],d);const p=O(t,["logprobs"]);null!=p&&T(o,["logprobs"],p);const f=O(t,["presencePenalty"]);null!=f&&T(o,["presencePenalty"],f);const m=O(t,["frequencyPenalty"]);null!=m&&T(o,["frequencyPenalty"],m);const h=O(t,["seed"]);null!=h&&T(o,["seed"],h);const g=O(t,["responseMimeType"]);null!=g&&T(o,["responseMimeType"],g);const v=O(t,["responseSchema"]);null!=v&&T(o,["responseSchema"],Tt(v));const y=O(t,["responseJsonSchema"]);null!=y&&T(o,["responseJsonSchema"],y);if(void 0!==O(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==O(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=O(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["category"]);null!=n&&T(t,["category"],n);if(void 0!==O(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const o=O(e,["threshold"]);null!=o&&T(t,["threshold"],o);return t}(e))),T(n,["safetySettings"],e)}const _=O(t,["tools"]);if(void 0!==n&&null!=_){let e=Pt(_);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==O(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=O(e,["computerUse"]);null!=n&&T(t,["computerUse"],n);const o=O(e,["fileSearch"]);null!=o&&T(t,["fileSearch"],o);const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);if(void 0!==O(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=O(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["functionDeclarations"],e)}const s=O(e,["googleMaps"]);null!=s&&T(t,["googleMaps"],function(e){const t={};if(void 0!==O(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=O(e,["enableWidget"]);null!=n&&T(t,["enableWidget"],n);return t}(s));const i=O(e,["googleSearch"]);null!=i&&T(t,["googleSearch"],function(e){const t={};if(void 0!==O(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==O(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=O(e,["timeRangeFilter"]);null!=n&&T(t,["timeRangeFilter"],n);return t}(i));const l=O(e,["googleSearchRetrieval"]);null!=l&&T(t,["googleSearchRetrieval"],l);const c=O(e,["urlContext"]);null!=c&&T(t,["urlContext"],c);return t}(Rt(e)))),T(n,["tools"],e)}const E=O(t,["toolConfig"]);void 0!==n&&null!=E&&T(n,["toolConfig"],function(e){const t={},n=O(e,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);const o=O(e,["functionCallingConfig"]);null!=o&&T(t,["functionCallingConfig"],function(e){const t={},n=O(e,["allowedFunctionNames"]);null!=n&&T(t,["allowedFunctionNames"],n);const o=O(e,["mode"]);null!=o&&T(t,["mode"],o);if(void 0!==O(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(o));return t}(E));if(void 0!==O(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const x=O(t,["cachedContent"]);void 0!==n&&null!=x&&T(n,["cachedContent"],kt(e,x));const w=O(t,["responseModalities"]);null!=w&&T(o,["responseModalities"],w);const S=O(t,["mediaResolution"]);null!=S&&T(o,["mediaResolution"],S);const C=O(t,["speechConfig"]);null!=C&&T(o,["speechConfig"],Ot(C));if(void 0!==O(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=O(t,["thinkingConfig"]);null!=N&&T(o,["thinkingConfig"],N);const I=O(t,["imageConfig"]);null!=I&&T(o,["imageConfig"],function(e){const t={},n=O(e,["aspectRatio"]);null!=n&&T(t,["aspectRatio"],n);const o=O(e,["imageSize"]);null!=o&&T(t,["imageSize"],o);if(void 0!==O(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==O(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==O(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(I));const A=O(t,["enableEnhancedCivicAnswers"]);null!=A&&T(o,["enableEnhancedCivicAnswers"],A);return o}(e,s,O(n,["request"],{})));return n}(e,t))),T(n,["requests","requests"],t)}return n}function Wt(e){const t={},n=O(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["mediaResolution"]);null!=n&&T(t,["mediaResolution"],n);const o=O(e,["codeExecutionResult"]);null!=o&&T(t,["codeExecutionResult"],o);const r=O(e,["executableCode"]);null!=r&&T(t,["executableCode"],r);const a=O(e,["fileData"]);null!=a&&T(t,["fileData"],function(e){const t={};if(void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=O(e,["fileUri"]);null!=n&&T(t,["fileUri"],n);const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(a));const s=O(e,["functionCall"]);null!=s&&T(t,["functionCall"],function(e){const t={},n=O(e,["id"]);null!=n&&T(t,["id"],n);const o=O(e,["args"]);null!=o&&T(t,["args"],o);const r=O(e,["name"]);null!=r&&T(t,["name"],r);if(void 0!==O(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==O(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const i=O(e,["functionResponse"]);null!=i&&T(t,["functionResponse"],i);const l=O(e,["inlineData"]);null!=l&&T(t,["inlineData"],function(e){const t={},n=O(e,["data"]);if(null!=n&&T(t,["data"],n),void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}(l));const c=O(e,["text"]);null!=c&&T(t,["text"],c);const u=O(e,["thought"]);null!=u&&T(t,["thought"],u);const d=O(e,["thoughtSignature"]);null!=d&&T(t,["thoughtSignature"],d);const p=O(e,["videoMetadata"]);null!=p&&T(t,["videoMetadata"],p);return t}(e))),T(t,["parts"],e)}const o=O(e,["role"]);return null!=o&&T(t,["role"],o),t}function Yt(e,t){const n=O(e,["displayName"]);void 0!==t&&null!=n&&T(t,["displayName"],n);const o=O(e,["dest"]);return void 0!==t&&null!=o&&T(t,["outputConfig"],function(e){const t={},n=O(e,["format"]);null!=n&&T(t,["predictionsFormat"],n);const o=O(e,["gcsUri"]);null!=o&&T(t,["gcsDestination","outputUriPrefix"],o);const r=O(e,["bigqueryUri"]);if(null!=r&&T(t,["bigqueryDestination","outputUri"],r),void 0!==O(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==O(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==O(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!==typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(o))),{}}function Qt(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["src"]);null!=r&&T(n,["batch","inputConfig"],Kt(e,Vt(e,r)));const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["displayName"]);if(void 0!==t&&null!=n&&T(t,["batch","displayName"],n),void 0!==O(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(a,n),n}function Xt(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["model"],ft(e,o));const r=O(t,["src"]);null!=r&&T(n,["inputConfig"],function(e){const t={},n=O(e,["format"]);null!=n&&T(t,["instancesFormat"],n);const o=O(e,["gcsUri"]);null!=o&&T(t,["gcsSource","uris"],o);const r=O(e,["bigqueryUri"]);if(null!=r&&T(t,["bigquerySource","inputUri"],r),void 0!==O(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==O(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Vt(e,r)));const a=O(t,["config"]);return null!=a&&Yt(a,n),n}function Zt(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["src"]);null!=r&&T(n,["batch","inputConfig"],function(e,t){const n={},o=O(t,["fileName"]);null!=o&&T(n,["file_name"],o);const r=O(t,["inlinedRequests"]);null!=r&&T(n,["requests"],function(e,t){const n={},o=O(t,["contents"]);if(null!=o){let t=Ct(e,o);Array.isArray(t)&&(t=t.map(e=>e)),T(n,["requests[]","request","content"],t)}const r=O(t,["config"]);null!=r&&(T(n,["_self"],function(e,t){const n={},o=O(e,["taskType"]);void 0!==t&&null!=o&&T(t,["requests[]","taskType"],o);const r=O(e,["title"]);void 0!==t&&null!=r&&T(t,["requests[]","title"],r);const a=O(e,["outputDimensionality"]);void 0!==t&&null!=a&&T(t,["requests[]","outputDimensionality"],a);if(void 0!==O(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==O(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(r,n)),function(e,t){for(const[n,o]of Object.entries(t)){const t=n.split("."),r=o.split("."),a=new Set;let s=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){s=e;break}if(-1!==s&&r.length>s)for(let e=s;e<r.length;e++){const t=r[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||a.add(t)}A(e,t,r,0,a)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,r));return n}(e,r));const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["displayName"]);void 0!==t&&null!=n&&T(t,["batch","displayName"],n)}(a,n),n}function en(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);if(void 0!==t&&null!=o&&T(t,["_query","pageToken"],o),void 0!==O(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function tn(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o);const r=O(e,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(n,t),t}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"}(Ue||(Ue={}));class nn{constructor(e,t,n,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,o)}init(e,t,n){var o,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null===t||void 0===t?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};a=n&&0!==Object.keys(n).length?"object"===typeof n?Object.assign({},n):n:{config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=null!==(r=null===(o=a.config)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class on extends N{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nn(Ue.PAGED_ITEM_BATCH_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=Qt(this.apiClient,e),n=I("{model}:batchGenerateContent",t._url),o=t.batch.inputConfig.requests,r=o.requests,a=[];for(const s of r){const e=Object.assign({},s);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}a.push(e)}return o.requests=a,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"===typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"===typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},o=Date.now().toString();if(n.displayName||(n.displayName="genaiBatchJob_".concat(o)),void 0===n.dest){const t=this.getGcsUri(e),r=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest="".concat(t.slice(0,-6),"/dest"):n.dest="".concat(t,"_dest_").concat(o);else{if(!r)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest="".concat(r,"_dest_").concat(o)}}return n}async createInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=Xt(this.apiClient,e);return s=I("batchPredictionJobs",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>Jt(e))}{const t=Qt(this.apiClient,e);return s=I("{model}:batchGenerateContent",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>$t(e))}}async createEmbeddingsInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zt(this.apiClient,e);return r=I("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>$t(e))}}async get(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);return s=I("batchPredictionJobs/{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>Jt(e))}{const t=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);return s=I("batches/{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>$t(e))}}async cancel(e){var t,n,o,r;let a="",s={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);a=I("batchPredictionJobs/{name}:cancel",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);a=I("batches/{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async listInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=tn(e);return s=I("batchPredictionJobs",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["batchPredictionJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Jt(e))),T(t,["batchJobs"],e)}return t}(e),n=new ct;return Object.assign(n,t),n})}{const t=en(e);return s=I("batches",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["operations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>$t(e))),T(t,["batchJobs"],e)}return t}(e),n=new ct;return Object.assign(n,t),n})}}async delete(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);return s=I("batchPredictionJobs/{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);return null!=a&&T(t,["error"],a),t}(e))}{const t=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],Ht(e,o)),n}(this.apiClient,e);return s=I("batches/{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);return null!=a&&T(t,["error"],a),t}(e))}}}function rn(e){const t={},n=O(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["mediaResolution"]);null!=n&&T(t,["mediaResolution"],n);const o=O(e,["codeExecutionResult"]);null!=o&&T(t,["codeExecutionResult"],o);const r=O(e,["executableCode"]);null!=r&&T(t,["executableCode"],r);const a=O(e,["fileData"]);null!=a&&T(t,["fileData"],function(e){const t={};if(void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=O(e,["fileUri"]);null!=n&&T(t,["fileUri"],n);const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(a));const s=O(e,["functionCall"]);null!=s&&T(t,["functionCall"],function(e){const t={},n=O(e,["id"]);null!=n&&T(t,["id"],n);const o=O(e,["args"]);null!=o&&T(t,["args"],o);const r=O(e,["name"]);null!=r&&T(t,["name"],r);if(void 0!==O(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==O(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const i=O(e,["functionResponse"]);null!=i&&T(t,["functionResponse"],i);const l=O(e,["inlineData"]);null!=l&&T(t,["inlineData"],function(e){const t={},n=O(e,["data"]);if(null!=n&&T(t,["data"],n),void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}(l));const c=O(e,["text"]);null!=c&&T(t,["text"],c);const u=O(e,["thought"]);null!=u&&T(t,["thought"],u);const d=O(e,["thoughtSignature"]);null!=d&&T(t,["thoughtSignature"],d);const p=O(e,["videoMetadata"]);null!=p&&T(t,["videoMetadata"],p);return t}(e))),T(t,["parts"],e)}const o=O(e,["role"]);return null!=o&&T(t,["role"],o),t}function an(e,t){const n=O(e,["ttl"]);void 0!==t&&null!=n&&T(t,["ttl"],n);const o=O(e,["expireTime"]);void 0!==t&&null!=o&&T(t,["expireTime"],o);const r=O(e,["displayName"]);void 0!==t&&null!=r&&T(t,["displayName"],r);const a=O(e,["contents"]);if(void 0!==t&&null!=a){let e=Nt(a);Array.isArray(e)&&(e=e.map(e=>rn(e))),T(t,["contents"],e)}const s=O(e,["systemInstruction"]);void 0!==t&&null!=s&&T(t,["systemInstruction"],rn(St(s)));const i=O(e,["tools"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==O(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=O(e,["computerUse"]);null!=n&&T(t,["computerUse"],n);const o=O(e,["fileSearch"]);null!=o&&T(t,["fileSearch"],o);const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);if(void 0!==O(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=O(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["functionDeclarations"],e)}const s=O(e,["googleMaps"]);null!=s&&T(t,["googleMaps"],function(e){const t={};if(void 0!==O(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=O(e,["enableWidget"]);null!=n&&T(t,["enableWidget"],n);return t}(s));const i=O(e,["googleSearch"]);null!=i&&T(t,["googleSearch"],function(e){const t={};if(void 0!==O(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==O(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=O(e,["timeRangeFilter"]);null!=n&&T(t,["timeRangeFilter"],n);return t}(i));const l=O(e,["googleSearchRetrieval"]);null!=l&&T(t,["googleSearchRetrieval"],l);const c=O(e,["urlContext"]);null!=c&&T(t,["urlContext"],c);return t}(e))),T(t,["tools"],e)}const l=O(e,["toolConfig"]);if(void 0!==t&&null!=l&&T(t,["toolConfig"],function(e){const t={},n=O(e,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);const o=O(e,["functionCallingConfig"]);null!=o&&T(t,["functionCallingConfig"],function(e){const t={},n=O(e,["allowedFunctionNames"]);null!=n&&T(t,["allowedFunctionNames"],n);const o=O(e,["mode"]);null!=o&&T(t,["mode"],o);if(void 0!==O(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(o));return t}(l)),void 0!==O(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function sn(e,t){const n=O(e,["ttl"]);void 0!==t&&null!=n&&T(t,["ttl"],n);const o=O(e,["expireTime"]);void 0!==t&&null!=o&&T(t,["expireTime"],o);const r=O(e,["displayName"]);void 0!==t&&null!=r&&T(t,["displayName"],r);const a=O(e,["contents"]);if(void 0!==t&&null!=a){let e=Nt(a);Array.isArray(e)&&(e=e.map(e=>e)),T(t,["contents"],e)}const s=O(e,["systemInstruction"]);void 0!==t&&null!=s&&T(t,["systemInstruction"],St(s));const i=O(e,["tools"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["retrieval"]);null!=n&&T(t,["retrieval"],n);const o=O(e,["computerUse"]);null!=o&&T(t,["computerUse"],o);if(void 0!==O(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);const a=O(e,["enterpriseWebSearch"]);null!=a&&T(t,["enterpriseWebSearch"],a);const s=O(e,["functionDeclarations"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["description"]);null!=n&&T(t,["description"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["parameters"]);null!=r&&T(t,["parameters"],r);const a=O(e,["parametersJsonSchema"]);null!=a&&T(t,["parametersJsonSchema"],a);const s=O(e,["response"]);null!=s&&T(t,["response"],s);const i=O(e,["responseJsonSchema"]);null!=i&&T(t,["responseJsonSchema"],i);if(void 0!==O(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),T(t,["functionDeclarations"],e)}const i=O(e,["googleMaps"]);null!=i&&T(t,["googleMaps"],i);const l=O(e,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const c=O(e,["googleSearchRetrieval"]);null!=c&&T(t,["googleSearchRetrieval"],c);const u=O(e,["urlContext"]);null!=u&&T(t,["urlContext"],u);return t}(e))),T(t,["tools"],e)}const l=O(e,["toolConfig"]);void 0!==t&&null!=l&&T(t,["toolConfig"],l);const c=O(e,["kmsKeyName"]);return void 0!==t&&null!=c&&T(t,["encryption_spec","kmsKeyName"],c),{}}function ln(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o)}(n,t),t}function cn(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o)}(n,t),t}function un(e,t){const n={},o=O(t,["name"]);null!=o&&T(n,["_url","name"],kt(e,o));const r=O(t,["config"]);return null!=r&&function(e,t){const n=O(e,["ttl"]);void 0!==t&&null!=n&&T(t,["ttl"],n);const o=O(e,["expireTime"]);void 0!==t&&null!=o&&T(t,["expireTime"],o)}(r,n),n}function dn(e,t){const n={},o=O(t,["name"]);null!=o&&T(n,["_url","name"],kt(e,o));const r=O(t,["config"]);return null!=r&&function(e,t){const n=O(e,["ttl"]);void 0!==t&&null!=n&&T(t,["ttl"],n);const o=O(e,["expireTime"]);void 0!==t&&null!=o&&T(t,["expireTime"],o)}(r,n),n}class pn extends N{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nn(Ue.PAGED_ITEM_CACHED_CONTENTS,e=>t.listInternal(e),await t.listInternal(e),e)}}async create(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["model"],mt(e,o));const r=O(t,["config"]);return null!=r&&sn(r,n),n}(this.apiClient,e);return s=I("cachedContents",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}{const t=function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["model"],mt(e,o));const r=O(t,["config"]);return null!=r&&an(r,n),n}(this.apiClient,e);return s=I("cachedContents",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async get(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],kt(e,o)),n}(this.apiClient,e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}{const t=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],kt(e,o)),n}(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async delete(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],kt(e,o)),n}(this.apiClient,e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new et;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=O(t,["name"]);return null!=o&&T(n,["_url","name"],kt(e,o)),n}(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new et;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=dn(this.apiClient,e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>e)}{const t=un(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>e)}}async listInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=cn(e);return s=I("cachedContents",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["cachedContents"],e)}return t}(e),n=new tt;return Object.assign(n,t),n})}{const t=ln(e);return s=I("cachedContents",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["cachedContents"],e)}return t}(e),n=new tt;return Object.assign(n,t),n})}}}function fn(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function mn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function hn(e){return this instanceof hn?(this.v=e,this):new hn(e)}function gn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),a=[];return o=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),o[Symbol.asyncIterator]=function(){return this},o;function s(e,t){r[e]&&(o[e]=function(t){return new Promise(function(n,o){a.push([e,t,n,o])>1||i(e,t)})},t&&(o[e]=t(o[e])))}function i(e,t){try{(n=r[e](t)).value instanceof hn?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(o){u(a[0][3],o)}var n}function l(e){i("next",e)}function c(e){i("throw",e)}function u(e,t){e(t),a.shift(),a.length&&i(a[0][0],a[0][1])}}function vn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=mn(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(o,r){(function(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)})(o,r,(t=e[n](t)).done,t.value)})}}}function yn(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&bn(n)}function bn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function _n(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let o=0;for(;o<n;)if("user"===e[o].role)t.push(e[o]),o++;else{const r=[];let a=!0;for(;o<n&&"model"===e[o].role;)r.push(e[o]),a&&!bn(e[o])&&(a=!1),o++;a?t.push(...r):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class En{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new xn(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xn{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(r)}async sendMessage(e){var t;await this.sendPromise;const n=St(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,r;const a=await o,s=null===(t=null===(e=a.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,i=a.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let c=[];null!=i&&(c=null!==(r=i.slice(l))&&void 0!==r?r:[]);const u=s?[s]:[];this.recordHistory(n,u,c)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const n=St(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?_n(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){return gn(this,arguments,function*(){var n,o,r,a,s,i;const l=[];try{for(var c,u=!0,d=vn(e);!(n=(c=yield hn(d.next())).done);u=!0){a=c.value,u=!1;const e=a;if(yn(e)){const t=null===(i=null===(s=e.candidates)||void 0===s?void 0:s[0])||void 0===i?void 0:i.content;void 0!==t&&l.push(t)}yield yield hn(e)}}catch(p){o={error:p}}finally{try{u||n||!(r=d.return)||(yield hn(r.call(d)))}finally{if(o)throw o.error}}this.recordHistory(t,l)})}recordHistory(e,t,n){let o=[];t.length>0&&t.every(e=>void 0!==e.role)?o=t:o.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(..._n(n)):this.history.push(e),this.history.push(...o)}}class wn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,wn.prototype)}}function Sn(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o)}(n,t),t}class Cn extends N{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nn(Ue.PAGED_ITEM_FILES,e=>t.listInternal(e),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sn(e);return r=I("files",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["files"],e)}return t}(e),n=new st;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["file"]);return null!=n&&T(t,["file"],n),t}(e);return r=I("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new it;return Object.assign(n,t),n})}}async get(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","file"],Mt(n)),t}(e);return r=I("files/{file}",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","file"],Mt(n)),t}(e);return r=I("files/{file}",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new lt;return Object.assign(n,t),n})}}}function Nn(e){const t={},n=O(e,["data"]);if(null!=n&&T(t,["data"],n),void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}function In(e){const t={},n=O(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["mediaResolution"]);null!=n&&T(t,["mediaResolution"],n);const o=O(e,["codeExecutionResult"]);null!=o&&T(t,["codeExecutionResult"],o);const r=O(e,["executableCode"]);null!=r&&T(t,["executableCode"],r);const a=O(e,["fileData"]);null!=a&&T(t,["fileData"],function(e){const t={};if(void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=O(e,["fileUri"]);null!=n&&T(t,["fileUri"],n);const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(a));const s=O(e,["functionCall"]);null!=s&&T(t,["functionCall"],function(e){const t={},n=O(e,["id"]);null!=n&&T(t,["id"],n);const o=O(e,["args"]);null!=o&&T(t,["args"],o);const r=O(e,["name"]);null!=r&&T(t,["name"],r);if(void 0!==O(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==O(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const i=O(e,["functionResponse"]);null!=i&&T(t,["functionResponse"],i);const l=O(e,["inlineData"]);null!=l&&T(t,["inlineData"],Nn(l));const c=O(e,["text"]);null!=c&&T(t,["text"],c);const u=O(e,["thought"]);null!=u&&T(t,["thought"],u);const d=O(e,["thoughtSignature"]);null!=d&&T(t,["thoughtSignature"],d);const p=O(e,["videoMetadata"]);null!=p&&T(t,["videoMetadata"],p);return t}(e))),T(t,["parts"],e)}const o=O(e,["role"]);return null!=o&&T(t,["role"],o),t}function Tn(e,t){const n=O(e,["generationConfig"]);void 0!==t&&null!=n&&T(t,["setup","generationConfig"],n);const o=O(e,["responseModalities"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig","responseModalities"],o);const r=O(e,["temperature"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","temperature"],r);const a=O(e,["topP"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","topP"],a);const s=O(e,["topK"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topK"],s);const i=O(e,["maxOutputTokens"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","maxOutputTokens"],i);const l=O(e,["mediaResolution"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","mediaResolution"],l);const c=O(e,["seed"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","seed"],c);const u=O(e,["speechConfig"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","speechConfig"],At(u));const d=O(e,["thinkingConfig"]);void 0!==t&&null!=d&&T(t,["setup","generationConfig","thinkingConfig"],d);const p=O(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&T(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=O(e,["systemInstruction"]);void 0!==t&&null!=f&&T(t,["setup","systemInstruction"],In(St(f)));const m=O(e,["tools"]);if(void 0!==t&&null!=m){let e=Pt(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==O(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=O(e,["computerUse"]);null!=n&&T(t,["computerUse"],n);const o=O(e,["fileSearch"]);null!=o&&T(t,["fileSearch"],o);const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);if(void 0!==O(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=O(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["functionDeclarations"],e)}const s=O(e,["googleMaps"]);null!=s&&T(t,["googleMaps"],function(e){const t={};if(void 0!==O(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=O(e,["enableWidget"]);return null!=n&&T(t,["enableWidget"],n),t}(s));const i=O(e,["googleSearch"]);null!=i&&T(t,["googleSearch"],function(e){const t={};if(void 0!==O(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==O(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=O(e,["timeRangeFilter"]);return null!=n&&T(t,["timeRangeFilter"],n),t}(i));const l=O(e,["googleSearchRetrieval"]);null!=l&&T(t,["googleSearchRetrieval"],l);const c=O(e,["urlContext"]);null!=c&&T(t,["urlContext"],c);return t}(Rt(e)))),T(t,["setup","tools"],e)}const h=O(e,["sessionResumption"]);void 0!==t&&null!=h&&T(t,["setup","sessionResumption"],function(e){const t={},n=O(e,["handle"]);null!=n&&T(t,["handle"],n);if(void 0!==O(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(h));const g=O(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&T(t,["setup","inputAudioTranscription"],g);const v=O(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&T(t,["setup","outputAudioTranscription"],v);const y=O(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&T(t,["setup","realtimeInputConfig"],y);const b=O(e,["contextWindowCompression"]);void 0!==t&&null!=b&&T(t,["setup","contextWindowCompression"],b);const _=O(e,["proactivity"]);if(void 0!==t&&null!=_&&T(t,["setup","proactivity"],_),void 0!==O(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function On(e,t){const n=O(e,["generationConfig"]);void 0!==t&&null!=n&&T(t,["setup","generationConfig"],function(e){const t={},n=O(e,["modelSelectionConfig"]);null!=n&&T(t,["modelConfig"],n);const o=O(e,["responseJsonSchema"]);null!=o&&T(t,["responseJsonSchema"],o);const r=O(e,["audioTimestamp"]);null!=r&&T(t,["audioTimestamp"],r);const a=O(e,["candidateCount"]);null!=a&&T(t,["candidateCount"],a);const s=O(e,["enableAffectiveDialog"]);null!=s&&T(t,["enableAffectiveDialog"],s);const i=O(e,["frequencyPenalty"]);null!=i&&T(t,["frequencyPenalty"],i);const l=O(e,["logprobs"]);null!=l&&T(t,["logprobs"],l);const c=O(e,["maxOutputTokens"]);null!=c&&T(t,["maxOutputTokens"],c);const u=O(e,["mediaResolution"]);null!=u&&T(t,["mediaResolution"],u);const d=O(e,["presencePenalty"]);null!=d&&T(t,["presencePenalty"],d);const p=O(e,["responseLogprobs"]);null!=p&&T(t,["responseLogprobs"],p);const f=O(e,["responseMimeType"]);null!=f&&T(t,["responseMimeType"],f);const m=O(e,["responseModalities"]);null!=m&&T(t,["responseModalities"],m);const h=O(e,["responseSchema"]);null!=h&&T(t,["responseSchema"],h);const g=O(e,["routingConfig"]);null!=g&&T(t,["routingConfig"],g);const v=O(e,["seed"]);null!=v&&T(t,["seed"],v);const y=O(e,["speechConfig"]);null!=y&&T(t,["speechConfig"],y);const b=O(e,["stopSequences"]);null!=b&&T(t,["stopSequences"],b);const _=O(e,["temperature"]);null!=_&&T(t,["temperature"],_);const E=O(e,["thinkingConfig"]);null!=E&&T(t,["thinkingConfig"],E);const x=O(e,["topK"]);null!=x&&T(t,["topK"],x);const w=O(e,["topP"]);if(null!=w&&T(t,["topP"],w),void 0!==O(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const o=O(e,["responseModalities"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig","responseModalities"],o);const r=O(e,["temperature"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","temperature"],r);const a=O(e,["topP"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","topP"],a);const s=O(e,["topK"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topK"],s);const i=O(e,["maxOutputTokens"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","maxOutputTokens"],i);const l=O(e,["mediaResolution"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","mediaResolution"],l);const c=O(e,["seed"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","seed"],c);const u=O(e,["speechConfig"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","speechConfig"],At(u));const d=O(e,["thinkingConfig"]);void 0!==t&&null!=d&&T(t,["setup","generationConfig","thinkingConfig"],d);const p=O(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&T(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=O(e,["systemInstruction"]);void 0!==t&&null!=f&&T(t,["setup","systemInstruction"],St(f));const m=O(e,["tools"]);if(void 0!==t&&null!=m){let e=Pt(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["retrieval"]);null!=n&&T(t,["retrieval"],n);const o=O(e,["computerUse"]);null!=o&&T(t,["computerUse"],o);if(void 0!==O(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);const a=O(e,["enterpriseWebSearch"]);null!=a&&T(t,["enterpriseWebSearch"],a);const s=O(e,["functionDeclarations"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["description"]);null!=n&&T(t,["description"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["parameters"]);null!=r&&T(t,["parameters"],r);const a=O(e,["parametersJsonSchema"]);null!=a&&T(t,["parametersJsonSchema"],a);const s=O(e,["response"]);null!=s&&T(t,["response"],s);const i=O(e,["responseJsonSchema"]);if(null!=i&&T(t,["responseJsonSchema"],i),void 0!==O(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),T(t,["functionDeclarations"],e)}const i=O(e,["googleMaps"]);null!=i&&T(t,["googleMaps"],i);const l=O(e,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const c=O(e,["googleSearchRetrieval"]);null!=c&&T(t,["googleSearchRetrieval"],c);const u=O(e,["urlContext"]);null!=u&&T(t,["urlContext"],u);return t}(Rt(e)))),T(t,["setup","tools"],e)}const h=O(e,["sessionResumption"]);void 0!==t&&null!=h&&T(t,["setup","sessionResumption"],h);const g=O(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&T(t,["setup","inputAudioTranscription"],g);const v=O(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&T(t,["setup","outputAudioTranscription"],v);const y=O(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&T(t,["setup","realtimeInputConfig"],y);const b=O(e,["contextWindowCompression"]);void 0!==t&&null!=b&&T(t,["setup","contextWindowCompression"],b);const _=O(e,["proactivity"]);void 0!==t&&null!=_&&T(t,["setup","proactivity"],_);const E=O(e,["explicitVadSignal"]);return void 0!==t&&null!=E&&T(t,["setup","explicitVadSignal"],E),{}}function An(e){const t={},n=O(e,["media"]);if(null!=n){let e=ht(n);Array.isArray(e)&&(e=e.map(e=>Nn(e))),T(t,["mediaChunks"],e)}const o=O(e,["audio"]);null!=o&&T(t,["audio"],Nn(yt(o)));const r=O(e,["audioStreamEnd"]);null!=r&&T(t,["audioStreamEnd"],r);const a=O(e,["video"]);null!=a&&T(t,["video"],Nn(vt(a)));const s=O(e,["text"]);null!=s&&T(t,["text"],s);const i=O(e,["activityStart"]);null!=i&&T(t,["activityStart"],i);const l=O(e,["activityEnd"]);return null!=l&&T(t,["activityEnd"],l),t}function Rn(e){const t={},n=O(e,["media"]);if(null!=n){let e=ht(n);Array.isArray(e)&&(e=e.map(e=>e)),T(t,["mediaChunks"],e)}const o=O(e,["audio"]);null!=o&&T(t,["audio"],yt(o));const r=O(e,["audioStreamEnd"]);null!=r&&T(t,["audioStreamEnd"],r);const a=O(e,["video"]);null!=a&&T(t,["video"],vt(a));const s=O(e,["text"]);null!=s&&T(t,["text"],s);const i=O(e,["activityStart"]);null!=i&&T(t,["activityStart"],i);const l=O(e,["activityEnd"]);return null!=l&&T(t,["activityEnd"],l),t}function Pn(e){const t={},n=O(e,["setupComplete"]);null!=n&&T(t,["setupComplete"],n);const o=O(e,["serverContent"]);null!=o&&T(t,["serverContent"],o);const r=O(e,["toolCall"]);null!=r&&T(t,["toolCall"],r);const a=O(e,["toolCallCancellation"]);null!=a&&T(t,["toolCallCancellation"],a);const s=O(e,["usageMetadata"]);null!=s&&T(t,["usageMetadata"],function(e){const t={},n=O(e,["promptTokenCount"]);null!=n&&T(t,["promptTokenCount"],n);const o=O(e,["cachedContentTokenCount"]);null!=o&&T(t,["cachedContentTokenCount"],o);const r=O(e,["candidatesTokenCount"]);null!=r&&T(t,["responseTokenCount"],r);const a=O(e,["toolUsePromptTokenCount"]);null!=a&&T(t,["toolUsePromptTokenCount"],a);const s=O(e,["thoughtsTokenCount"]);null!=s&&T(t,["thoughtsTokenCount"],s);const i=O(e,["totalTokenCount"]);null!=i&&T(t,["totalTokenCount"],i);const l=O(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["promptTokensDetails"],e)}const c=O(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["cacheTokensDetails"],e)}const u=O(e,["candidatesTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["responseTokensDetails"],e)}const d=O(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["toolUsePromptTokensDetails"],e)}const p=O(e,["trafficType"]);null!=p&&T(t,["trafficType"],p);return t}(s));const i=O(e,["goAway"]);null!=i&&T(t,["goAway"],i);const l=O(e,["sessionResumptionUpdate"]);null!=l&&T(t,["sessionResumptionUpdate"],l);const c=O(e,["voiceActivityDetectionSignal"]);null!=c&&T(t,["voiceActivityDetectionSignal"],c);const u=O(e,["voiceActivity"]);return null!=u&&T(t,["voiceActivity"],function(e){const t={},n=O(e,["type"]);null!=n&&T(t,["voiceActivityType"],n);return t}(u)),t}function kn(e){const t={},n=O(e,["content"]);null!=n&&T(t,["content"],n);const o=O(e,["citationMetadata"]);null!=o&&T(t,["citationMetadata"],function(e){const t={},n=O(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["citations"],e)}return t}(o));const r=O(e,["tokenCount"]);null!=r&&T(t,["tokenCount"],r);const a=O(e,["finishReason"]);null!=a&&T(t,["finishReason"],a);const s=O(e,["avgLogprobs"]);null!=s&&T(t,["avgLogprobs"],s);const i=O(e,["groundingMetadata"]);null!=i&&T(t,["groundingMetadata"],i);const l=O(e,["index"]);null!=l&&T(t,["index"],l);const c=O(e,["logprobsResult"]);null!=c&&T(t,["logprobsResult"],c);const u=O(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["safetyRatings"],e)}const d=O(e,["urlContextMetadata"]);return null!=d&&T(t,["urlContextMetadata"],d),t}function jn(e){const t={},n=O(e,["values"]);null!=n&&T(t,["values"],n);const o=O(e,["statistics"]);return null!=o&&T(t,["statistics"],function(e){const t={},n=O(e,["truncated"]);null!=n&&T(t,["truncated"],n);const o=O(e,["token_count"]);null!=o&&T(t,["tokenCount"],o);return t}(o)),t}function Dn(e){const t={},n=O(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["mediaResolution"]);null!=n&&T(t,["mediaResolution"],n);const o=O(e,["codeExecutionResult"]);null!=o&&T(t,["codeExecutionResult"],o);const r=O(e,["executableCode"]);null!=r&&T(t,["executableCode"],r);const a=O(e,["fileData"]);null!=a&&T(t,["fileData"],function(e){const t={};if(void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=O(e,["fileUri"]);null!=n&&T(t,["fileUri"],n);const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(a));const s=O(e,["functionCall"]);null!=s&&T(t,["functionCall"],function(e){const t={},n=O(e,["id"]);null!=n&&T(t,["id"],n);const o=O(e,["args"]);null!=o&&T(t,["args"],o);const r=O(e,["name"]);null!=r&&T(t,["name"],r);if(void 0!==O(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==O(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const i=O(e,["functionResponse"]);null!=i&&T(t,["functionResponse"],i);const l=O(e,["inlineData"]);null!=l&&T(t,["inlineData"],function(e){const t={},n=O(e,["data"]);if(null!=n&&T(t,["data"],n),void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}(l));const c=O(e,["text"]);null!=c&&T(t,["text"],c);const u=O(e,["thought"]);null!=u&&T(t,["thought"],u);const d=O(e,["thoughtSignature"]);null!=d&&T(t,["thoughtSignature"],d);const p=O(e,["videoMetadata"]);null!=p&&T(t,["videoMetadata"],p);return t}(e))),T(t,["parts"],e)}const o=O(e,["role"]);return null!=o&&T(t,["role"],o),t}function Mn(e,t){const n=O(e,["systemInstruction"]);void 0!==t&&null!=n&&T(t,["systemInstruction"],St(n));const o=O(e,["tools"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>go(e))),T(t,["tools"],e)}const r=O(e,["generationConfig"]);return void 0!==t&&null!=r&&T(t,["generationConfig"],function(e){const t={},n=O(e,["modelSelectionConfig"]);null!=n&&T(t,["modelConfig"],n);const o=O(e,["responseJsonSchema"]);null!=o&&T(t,["responseJsonSchema"],o);const r=O(e,["audioTimestamp"]);null!=r&&T(t,["audioTimestamp"],r);const a=O(e,["candidateCount"]);null!=a&&T(t,["candidateCount"],a);const s=O(e,["enableAffectiveDialog"]);null!=s&&T(t,["enableAffectiveDialog"],s);const i=O(e,["frequencyPenalty"]);null!=i&&T(t,["frequencyPenalty"],i);const l=O(e,["logprobs"]);null!=l&&T(t,["logprobs"],l);const c=O(e,["maxOutputTokens"]);null!=c&&T(t,["maxOutputTokens"],c);const u=O(e,["mediaResolution"]);null!=u&&T(t,["mediaResolution"],u);const d=O(e,["presencePenalty"]);null!=d&&T(t,["presencePenalty"],d);const p=O(e,["responseLogprobs"]);null!=p&&T(t,["responseLogprobs"],p);const f=O(e,["responseMimeType"]);null!=f&&T(t,["responseMimeType"],f);const m=O(e,["responseModalities"]);null!=m&&T(t,["responseModalities"],m);const h=O(e,["responseSchema"]);null!=h&&T(t,["responseSchema"],h);const g=O(e,["routingConfig"]);null!=g&&T(t,["routingConfig"],g);const v=O(e,["seed"]);null!=v&&T(t,["seed"],v);const y=O(e,["speechConfig"]);null!=y&&T(t,["speechConfig"],y);const b=O(e,["stopSequences"]);null!=b&&T(t,["stopSequences"],b);const _=O(e,["temperature"]);null!=_&&T(t,["temperature"],_);const E=O(e,["thinkingConfig"]);null!=E&&T(t,["thinkingConfig"],E);const x=O(e,["topK"]);null!=x&&T(t,["topK"],x);const w=O(e,["topP"]);null!=w&&T(t,["topP"],w);if(void 0!==O(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(r)),{}}function Fn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>Dn(e))),T(n,["contents"],e)}const a=O(t,["config"]);return null!=a&&function(e){if(void 0!==O(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==O(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==O(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(a),n}function Un(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["prompt"]);null!=r&&T(n,["instances[0]","prompt"],r);const a=O(t,["referenceImages"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["referenceImage"]);null!=n&&T(t,["referenceImage"],ao(n));const o=O(e,["referenceId"]);null!=o&&T(t,["referenceId"],o);const r=O(e,["referenceType"]);null!=r&&T(t,["referenceType"],r);const a=O(e,["maskImageConfig"]);null!=a&&T(t,["maskImageConfig"],function(e){const t={},n=O(e,["maskMode"]);null!=n&&T(t,["maskMode"],n);const o=O(e,["segmentationClasses"]);null!=o&&T(t,["maskClasses"],o);const r=O(e,["maskDilation"]);null!=r&&T(t,["dilation"],r);return t}(a));const s=O(e,["controlImageConfig"]);null!=s&&T(t,["controlImageConfig"],function(e){const t={},n=O(e,["controlType"]);null!=n&&T(t,["controlType"],n);const o=O(e,["enableControlImageComputation"]);return null!=o&&T(t,["computeControl"],o),t}(s));const i=O(e,["styleImageConfig"]);null!=i&&T(t,["styleImageConfig"],i);const l=O(e,["subjectImageConfig"]);null!=l&&T(t,["subjectImageConfig"],l);return t}(e))),T(n,["instances[0]","referenceImages"],e)}const s=O(t,["config"]);return null!=s&&function(e,t){const n=O(e,["outputGcsUri"]);void 0!==t&&null!=n&&T(t,["parameters","storageUri"],n);const o=O(e,["negativePrompt"]);void 0!==t&&null!=o&&T(t,["parameters","negativePrompt"],o);const r=O(e,["numberOfImages"]);void 0!==t&&null!=r&&T(t,["parameters","sampleCount"],r);const a=O(e,["aspectRatio"]);void 0!==t&&null!=a&&T(t,["parameters","aspectRatio"],a);const s=O(e,["guidanceScale"]);void 0!==t&&null!=s&&T(t,["parameters","guidanceScale"],s);const i=O(e,["seed"]);void 0!==t&&null!=i&&T(t,["parameters","seed"],i);const l=O(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&T(t,["parameters","safetySetting"],l);const c=O(e,["personGeneration"]);void 0!==t&&null!=c&&T(t,["parameters","personGeneration"],c);const u=O(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&T(t,["parameters","includeSafetyAttributes"],u);const d=O(e,["includeRaiReason"]);void 0!==t&&null!=d&&T(t,["parameters","includeRaiReason"],d);const p=O(e,["language"]);void 0!==t&&null!=p&&T(t,["parameters","language"],p);const f=O(e,["outputMimeType"]);void 0!==t&&null!=f&&T(t,["parameters","outputOptions","mimeType"],f);const m=O(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&T(t,["parameters","outputOptions","compressionQuality"],m);const h=O(e,["addWatermark"]);void 0!==t&&null!=h&&T(t,["parameters","addWatermark"],h);const g=O(e,["labels"]);void 0!==t&&null!=g&&T(t,["labels"],g);const v=O(e,["editMode"]);void 0!==t&&null!=v&&T(t,["parameters","editMode"],v);const y=O(e,["baseSteps"]);void 0!==t&&null!=y&&T(t,["parameters","editConfig","baseSteps"],y)}(s,n),n}function Ln(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let t=Ct(e,r);Array.isArray(t)&&(t=t.map(e=>e)),T(n,["requests[]","content"],t)}const a=O(t,["config"]);null!=a&&function(e,t){const n=O(e,["taskType"]);void 0!==t&&null!=n&&T(t,["requests[]","taskType"],n);const o=O(e,["title"]);void 0!==t&&null!=o&&T(t,["requests[]","title"],o);const r=O(e,["outputDimensionality"]);if(void 0!==t&&null!=r&&T(t,["requests[]","outputDimensionality"],r),void 0!==O(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==O(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(a,n);const s=O(t,["model"]);return void 0!==s&&T(n,["requests[]","model"],ft(e,s)),n}function qn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let t=Ct(e,r);Array.isArray(t)&&(t=t.map(e=>e)),T(n,["instances[]","content"],t)}const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["taskType"]);void 0!==t&&null!=n&&T(t,["instances[]","task_type"],n);const o=O(e,["title"]);void 0!==t&&null!=o&&T(t,["instances[]","title"],o);const r=O(e,["outputDimensionality"]);void 0!==t&&null!=r&&T(t,["parameters","outputDimensionality"],r);const a=O(e,["mimeType"]);void 0!==t&&null!=a&&T(t,["instances[]","mimeType"],a);const s=O(e,["autoTruncate"]);void 0!==t&&null!=s&&T(t,["parameters","autoTruncate"],s)}(a,n),n}function Vn(e,t,n){const o={},r=O(t,["systemInstruction"]);void 0!==n&&null!=r&&T(n,["systemInstruction"],Dn(St(r)));const a=O(t,["temperature"]);null!=a&&T(o,["temperature"],a);const s=O(t,["topP"]);null!=s&&T(o,["topP"],s);const i=O(t,["topK"]);null!=i&&T(o,["topK"],i);const l=O(t,["candidateCount"]);null!=l&&T(o,["candidateCount"],l);const c=O(t,["maxOutputTokens"]);null!=c&&T(o,["maxOutputTokens"],c);const u=O(t,["stopSequences"]);null!=u&&T(o,["stopSequences"],u);const d=O(t,["responseLogprobs"]);null!=d&&T(o,["responseLogprobs"],d);const p=O(t,["logprobs"]);null!=p&&T(o,["logprobs"],p);const f=O(t,["presencePenalty"]);null!=f&&T(o,["presencePenalty"],f);const m=O(t,["frequencyPenalty"]);null!=m&&T(o,["frequencyPenalty"],m);const h=O(t,["seed"]);null!=h&&T(o,["seed"],h);const g=O(t,["responseMimeType"]);null!=g&&T(o,["responseMimeType"],g);const v=O(t,["responseSchema"]);null!=v&&T(o,["responseSchema"],Tt(v));const y=O(t,["responseJsonSchema"]);if(null!=y&&T(o,["responseJsonSchema"],y),void 0!==O(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==O(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=O(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["category"]);null!=n&&T(t,["category"],n);if(void 0!==O(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const o=O(e,["threshold"]);null!=o&&T(t,["threshold"],o);return t}(e))),T(n,["safetySettings"],e)}const _=O(t,["tools"]);if(void 0!==n&&null!=_){let e=Pt(_);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==O(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=O(e,["computerUse"]);null!=n&&T(t,["computerUse"],n);const o=O(e,["fileSearch"]);null!=o&&T(t,["fileSearch"],o);const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);if(void 0!==O(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=O(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["functionDeclarations"],e)}const s=O(e,["googleMaps"]);null!=s&&T(t,["googleMaps"],function(e){const t={};if(void 0!==O(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=O(e,["enableWidget"]);null!=n&&T(t,["enableWidget"],n);return t}(s));const i=O(e,["googleSearch"]);null!=i&&T(t,["googleSearch"],function(e){const t={};if(void 0!==O(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==O(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=O(e,["timeRangeFilter"]);null!=n&&T(t,["timeRangeFilter"],n);return t}(i));const l=O(e,["googleSearchRetrieval"]);null!=l&&T(t,["googleSearchRetrieval"],l);const c=O(e,["urlContext"]);null!=c&&T(t,["urlContext"],c);return t}(Rt(e)))),T(n,["tools"],e)}const E=O(t,["toolConfig"]);if(void 0!==n&&null!=E&&T(n,["toolConfig"],function(e){const t={},n=O(e,["retrievalConfig"]);null!=n&&T(t,["retrievalConfig"],n);const o=O(e,["functionCallingConfig"]);null!=o&&T(t,["functionCallingConfig"],function(e){const t={},n=O(e,["allowedFunctionNames"]);null!=n&&T(t,["allowedFunctionNames"],n);const o=O(e,["mode"]);if(null!=o&&T(t,["mode"],o),void 0!==O(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(o));return t}(E)),void 0!==O(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const x=O(t,["cachedContent"]);void 0!==n&&null!=x&&T(n,["cachedContent"],kt(e,x));const w=O(t,["responseModalities"]);null!=w&&T(o,["responseModalities"],w);const S=O(t,["mediaResolution"]);null!=S&&T(o,["mediaResolution"],S);const C=O(t,["speechConfig"]);if(null!=C&&T(o,["speechConfig"],Ot(C)),void 0!==O(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=O(t,["thinkingConfig"]);null!=N&&T(o,["thinkingConfig"],N);const I=O(t,["imageConfig"]);null!=I&&T(o,["imageConfig"],function(e){const t={},n=O(e,["aspectRatio"]);null!=n&&T(t,["aspectRatio"],n);const o=O(e,["imageSize"]);null!=o&&T(t,["imageSize"],o);if(void 0!==O(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==O(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==O(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(I));const A=O(t,["enableEnhancedCivicAnswers"]);return null!=A&&T(o,["enableEnhancedCivicAnswers"],A),o}function Gn(e,t,n){const o={},r=O(t,["systemInstruction"]);void 0!==n&&null!=r&&T(n,["systemInstruction"],St(r));const a=O(t,["temperature"]);null!=a&&T(o,["temperature"],a);const s=O(t,["topP"]);null!=s&&T(o,["topP"],s);const i=O(t,["topK"]);null!=i&&T(o,["topK"],i);const l=O(t,["candidateCount"]);null!=l&&T(o,["candidateCount"],l);const c=O(t,["maxOutputTokens"]);null!=c&&T(o,["maxOutputTokens"],c);const u=O(t,["stopSequences"]);null!=u&&T(o,["stopSequences"],u);const d=O(t,["responseLogprobs"]);null!=d&&T(o,["responseLogprobs"],d);const p=O(t,["logprobs"]);null!=p&&T(o,["logprobs"],p);const f=O(t,["presencePenalty"]);null!=f&&T(o,["presencePenalty"],f);const m=O(t,["frequencyPenalty"]);null!=m&&T(o,["frequencyPenalty"],m);const h=O(t,["seed"]);null!=h&&T(o,["seed"],h);const g=O(t,["responseMimeType"]);null!=g&&T(o,["responseMimeType"],g);const v=O(t,["responseSchema"]);null!=v&&T(o,["responseSchema"],Tt(v));const y=O(t,["responseJsonSchema"]);null!=y&&T(o,["responseJsonSchema"],y);const b=O(t,["routingConfig"]);null!=b&&T(o,["routingConfig"],b);const _=O(t,["modelSelectionConfig"]);null!=_&&T(o,["modelConfig"],_);const E=O(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>e)),T(n,["safetySettings"],e)}const x=O(t,["tools"]);if(void 0!==n&&null!=x){let e=Pt(x);Array.isArray(e)&&(e=e.map(e=>go(Rt(e)))),T(n,["tools"],e)}const w=O(t,["toolConfig"]);void 0!==n&&null!=w&&T(n,["toolConfig"],w);const S=O(t,["labels"]);void 0!==n&&null!=S&&T(n,["labels"],S);const C=O(t,["cachedContent"]);void 0!==n&&null!=C&&T(n,["cachedContent"],kt(e,C));const N=O(t,["responseModalities"]);null!=N&&T(o,["responseModalities"],N);const I=O(t,["mediaResolution"]);null!=I&&T(o,["mediaResolution"],I);const A=O(t,["speechConfig"]);null!=A&&T(o,["speechConfig"],Ot(A));const R=O(t,["audioTimestamp"]);null!=R&&T(o,["audioTimestamp"],R);const P=O(t,["thinkingConfig"]);null!=P&&T(o,["thinkingConfig"],P);const k=O(t,["imageConfig"]);if(null!=k&&T(o,["imageConfig"],function(e){const t={},n=O(e,["aspectRatio"]);null!=n&&T(t,["aspectRatio"],n);const o=O(e,["imageSize"]);null!=o&&T(t,["imageSize"],o);const r=O(e,["personGeneration"]);null!=r&&T(t,["personGeneration"],r);const a=O(e,["outputMimeType"]);null!=a&&T(t,["imageOutputOptions","mimeType"],a);const s=O(e,["outputCompressionQuality"]);null!=s&&T(t,["imageOutputOptions","compressionQuality"],s);return t}(k)),void 0!==O(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Hn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>Dn(e))),T(n,["contents"],e)}const a=O(t,["config"]);return null!=a&&T(n,["generationConfig"],Vn(e,a,n)),n}function zn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>e)),T(n,["contents"],e)}const a=O(t,["config"]);return null!=a&&T(n,["generationConfig"],Gn(e,a,n)),n}function Bn(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>kn(e))),T(t,["candidates"],e)}const r=O(e,["modelVersion"]);null!=r&&T(t,["modelVersion"],r);const a=O(e,["promptFeedback"]);null!=a&&T(t,["promptFeedback"],a);const s=O(e,["responseId"]);null!=s&&T(t,["responseId"],s);const i=O(e,["usageMetadata"]);return null!=i&&T(t,["usageMetadata"],i),t}function $n(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["candidates"],e)}const r=O(e,["createTime"]);null!=r&&T(t,["createTime"],r);const a=O(e,["modelVersion"]);null!=a&&T(t,["modelVersion"],a);const s=O(e,["promptFeedback"]);null!=s&&T(t,["promptFeedback"],s);const i=O(e,["responseId"]);null!=i&&T(t,["responseId"],i);const l=O(e,["usageMetadata"]);return null!=l&&T(t,["usageMetadata"],l),t}function Jn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["prompt"]);null!=r&&T(n,["instances[0]","prompt"],r);const a=O(t,["config"]);return null!=a&&function(e,t){if(void 0!==O(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==O(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=O(e,["numberOfImages"]);void 0!==t&&null!=n&&T(t,["parameters","sampleCount"],n);const o=O(e,["aspectRatio"]);void 0!==t&&null!=o&&T(t,["parameters","aspectRatio"],o);const r=O(e,["guidanceScale"]);if(void 0!==t&&null!=r&&T(t,["parameters","guidanceScale"],r),void 0!==O(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const a=O(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&T(t,["parameters","safetySetting"],a);const s=O(e,["personGeneration"]);void 0!==t&&null!=s&&T(t,["parameters","personGeneration"],s);const i=O(e,["includeSafetyAttributes"]);void 0!==t&&null!=i&&T(t,["parameters","includeSafetyAttributes"],i);const l=O(e,["includeRaiReason"]);void 0!==t&&null!=l&&T(t,["parameters","includeRaiReason"],l);const c=O(e,["language"]);void 0!==t&&null!=c&&T(t,["parameters","language"],c);const u=O(e,["outputMimeType"]);void 0!==t&&null!=u&&T(t,["parameters","outputOptions","mimeType"],u);const d=O(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&T(t,["parameters","outputOptions","compressionQuality"],d),void 0!==O(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==O(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=O(e,["imageSize"]);if(void 0!==t&&null!=p&&T(t,["parameters","sampleImageSize"],p),void 0!==O(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(a,n),n}function Kn(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["prompt"]);null!=r&&T(n,["instances[0]","prompt"],r);const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["outputGcsUri"]);void 0!==t&&null!=n&&T(t,["parameters","storageUri"],n);const o=O(e,["negativePrompt"]);void 0!==t&&null!=o&&T(t,["parameters","negativePrompt"],o);const r=O(e,["numberOfImages"]);void 0!==t&&null!=r&&T(t,["parameters","sampleCount"],r);const a=O(e,["aspectRatio"]);void 0!==t&&null!=a&&T(t,["parameters","aspectRatio"],a);const s=O(e,["guidanceScale"]);void 0!==t&&null!=s&&T(t,["parameters","guidanceScale"],s);const i=O(e,["seed"]);void 0!==t&&null!=i&&T(t,["parameters","seed"],i);const l=O(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&T(t,["parameters","safetySetting"],l);const c=O(e,["personGeneration"]);void 0!==t&&null!=c&&T(t,["parameters","personGeneration"],c);const u=O(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&T(t,["parameters","includeSafetyAttributes"],u);const d=O(e,["includeRaiReason"]);void 0!==t&&null!=d&&T(t,["parameters","includeRaiReason"],d);const p=O(e,["language"]);void 0!==t&&null!=p&&T(t,["parameters","language"],p);const f=O(e,["outputMimeType"]);void 0!==t&&null!=f&&T(t,["parameters","outputOptions","mimeType"],f);const m=O(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&T(t,["parameters","outputOptions","compressionQuality"],m);const h=O(e,["addWatermark"]);void 0!==t&&null!=h&&T(t,["parameters","addWatermark"],h);const g=O(e,["labels"]);void 0!==t&&null!=g&&T(t,["labels"],g);const v=O(e,["imageSize"]);void 0!==t&&null!=v&&T(t,["parameters","sampleImageSize"],v);const y=O(e,["enhancePrompt"]);void 0!==t&&null!=y&&T(t,["parameters","enhancePrompt"],y)}(a,n),n}function Wn(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["_self"]);null!=n&&T(t,["image"],function(e){const t={},n=O(e,["bytesBase64Encoded"]);null!=n&&T(t,["imageBytes"],Dt(n));const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(n));const o=O(e,["raiFilteredReason"]);null!=o&&T(t,["raiFilteredReason"],o);const r=O(e,["_self"]);null!=r&&T(t,["safetyAttributes"],po(r));return t}(e))),T(t,["generatedImages"],e)}const r=O(e,["positivePromptSafetyAttributes"]);return null!=r&&T(t,["positivePromptSafetyAttributes"],po(r)),t}function Yn(e,t){const n=O(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&T(t,["parameters","sampleCount"],n),void 0!==O(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==O(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=O(e,["durationSeconds"]);if(void 0!==t&&null!=o&&T(t,["parameters","durationSeconds"],o),void 0!==O(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=O(e,["aspectRatio"]);void 0!==t&&null!=r&&T(t,["parameters","aspectRatio"],r);const a=O(e,["resolution"]);void 0!==t&&null!=a&&T(t,["parameters","resolution"],a);const s=O(e,["personGeneration"]);if(void 0!==t&&null!=s&&T(t,["parameters","personGeneration"],s),void 0!==O(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const i=O(e,["negativePrompt"]);void 0!==t&&null!=i&&T(t,["parameters","negativePrompt"],i);const l=O(e,["enhancePrompt"]);if(void 0!==t&&null!=l&&T(t,["parameters","enhancePrompt"],l),void 0!==O(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const c=O(e,["lastFrame"]);void 0!==t&&null!=c&&T(t,["instances[0]","lastFrame"],ro(c));const u=O(e,["referenceImages"]);if(void 0!==t&&null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["image"]);null!=n&&T(t,["image"],ro(n));const o=O(e,["referenceType"]);null!=o&&T(t,["referenceType"],o);return t}(e))),T(t,["instances[0]","referenceImages"],e)}if(void 0!==O(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==O(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function Qn(e,t){const n=O(e,["numberOfVideos"]);void 0!==t&&null!=n&&T(t,["parameters","sampleCount"],n);const o=O(e,["outputGcsUri"]);void 0!==t&&null!=o&&T(t,["parameters","storageUri"],o);const r=O(e,["fps"]);void 0!==t&&null!=r&&T(t,["parameters","fps"],r);const a=O(e,["durationSeconds"]);void 0!==t&&null!=a&&T(t,["parameters","durationSeconds"],a);const s=O(e,["seed"]);void 0!==t&&null!=s&&T(t,["parameters","seed"],s);const i=O(e,["aspectRatio"]);void 0!==t&&null!=i&&T(t,["parameters","aspectRatio"],i);const l=O(e,["resolution"]);void 0!==t&&null!=l&&T(t,["parameters","resolution"],l);const c=O(e,["personGeneration"]);void 0!==t&&null!=c&&T(t,["parameters","personGeneration"],c);const u=O(e,["pubsubTopic"]);void 0!==t&&null!=u&&T(t,["parameters","pubsubTopic"],u);const d=O(e,["negativePrompt"]);void 0!==t&&null!=d&&T(t,["parameters","negativePrompt"],d);const p=O(e,["enhancePrompt"]);void 0!==t&&null!=p&&T(t,["parameters","enhancePrompt"],p);const f=O(e,["generateAudio"]);void 0!==t&&null!=f&&T(t,["parameters","generateAudio"],f);const m=O(e,["lastFrame"]);void 0!==t&&null!=m&&T(t,["instances[0]","lastFrame"],ao(m));const h=O(e,["referenceImages"]);if(void 0!==t&&null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["image"]);null!=n&&T(t,["image"],ao(n));const o=O(e,["referenceType"]);null!=o&&T(t,["referenceType"],o);return t}(e))),T(t,["instances[0]","referenceImages"],e)}const g=O(e,["mask"]);void 0!==t&&null!=g&&T(t,["instances[0]","mask"],function(e){const t={},n=O(e,["image"]);null!=n&&T(t,["_self"],ao(n));const o=O(e,["maskMode"]);null!=o&&T(t,["maskMode"],o);return t}(g));const v=O(e,["compressionQuality"]);return void 0!==t&&null!=v&&T(t,["parameters","compressionQuality"],v),{}}function Xn(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response","generateVideoResponse"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["video"]);null!=n&&T(t,["video"],function(e){const t={},n=O(e,["uri"]);null!=n&&T(t,["uri"],n);const o=O(e,["encodedVideo"]);null!=o&&T(t,["videoBytes"],Dt(o));const r=O(e,["encoding"]);null!=r&&T(t,["mimeType"],r);return t}(n));return t}(e))),T(t,["generatedVideos"],e)}const o=O(e,["raiMediaFilteredCount"]);null!=o&&T(t,["raiMediaFilteredCount"],o);const r=O(e,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function Zn(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["_self"]);null!=n&&T(t,["video"],function(e){const t={},n=O(e,["gcsUri"]);null!=n&&T(t,["uri"],n);const o=O(e,["bytesBase64Encoded"]);null!=o&&T(t,["videoBytes"],Dt(o));const r=O(e,["mimeType"]);null!=r&&T(t,["mimeType"],r);return t}(n));return t}(e))),T(t,["generatedVideos"],e)}const o=O(e,["raiMediaFilteredCount"]);null!=o&&T(t,["raiMediaFilteredCount"],o);const r=O(e,["raiMediaFilteredReasons"]);null!=r&&T(t,["raiMediaFilteredReasons"],r);return t}(s)),t}function eo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["prompt"]);null!=r&&T(n,["instances[0]","prompt"],r);const a=O(t,["image"]);null!=a&&T(n,["instances[0]","image"],ro(a));const s=O(t,["video"]);null!=s&&T(n,["instances[0]","video"],_o(s));const i=O(t,["source"]);null!=i&&function(e,t){const n={},o=O(e,["prompt"]);void 0!==t&&null!=o&&T(t,["instances[0]","prompt"],o);const r=O(e,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],ro(r));const a=O(e,["video"]);void 0!==t&&null!=a&&T(t,["instances[0]","video"],_o(a))}(i,n);const l=O(t,["config"]);return null!=l&&Yn(l,n),n}function to(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["prompt"]);null!=r&&T(n,["instances[0]","prompt"],r);const a=O(t,["image"]);null!=a&&T(n,["instances[0]","image"],ao(a));const s=O(t,["video"]);null!=s&&T(n,["instances[0]","video"],Eo(s));const i=O(t,["source"]);null!=i&&function(e,t){const n={},o=O(e,["prompt"]);void 0!==t&&null!=o&&T(t,["instances[0]","prompt"],o);const r=O(e,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],ao(r));const a=O(e,["video"]);void 0!==t&&null!=a&&T(t,["instances[0]","video"],Eo(a))}(i,n);const l=O(t,["config"]);return null!=l&&Qn(l,n),n}function no(e){const t={},n=O(e,["_self"]);null!=n&&T(t,["image"],oo(n));const o=O(e,["raiFilteredReason"]);null!=o&&T(t,["raiFilteredReason"],o);const r=O(e,["_self"]);null!=r&&T(t,["safetyAttributes"],fo(r));const a=O(e,["prompt"]);return null!=a&&T(t,["enhancedPrompt"],a),t}function oo(e){const t={},n=O(e,["gcsUri"]);null!=n&&T(t,["gcsUri"],n);const o=O(e,["bytesBase64Encoded"]);null!=o&&T(t,["imageBytes"],Dt(o));const r=O(e,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}function ro(e){const t={};if(void 0!==O(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=O(e,["imageBytes"]);null!=n&&T(t,["bytesBase64Encoded"],Dt(n));const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}function ao(e){const t={},n=O(e,["gcsUri"]);null!=n&&T(t,["gcsUri"],n);const o=O(e,["imageBytes"]);null!=o&&T(t,["bytesBase64Encoded"],Dt(o));const r=O(e,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}function so(e,t){const n={},o=O(t,["config"]);return null!=o&&function(e,t,n){const o=O(t,["pageSize"]);void 0!==n&&null!=o&&T(n,["_query","pageSize"],o);const r=O(t,["pageToken"]);void 0!==n&&null!=r&&T(n,["_query","pageToken"],r);const a=O(t,["filter"]);void 0!==n&&null!=a&&T(n,["_query","filter"],a);const s=O(t,["queryBase"]);void 0!==n&&null!=s&&T(n,["_url","models_url"],Ft(e,s))}(e,o,n),n}function io(e,t){const n={},o=O(t,["config"]);return null!=o&&function(e,t,n){const o=O(t,["pageSize"]);void 0!==n&&null!=o&&T(n,["_query","pageSize"],o);const r=O(t,["pageToken"]);void 0!==n&&null!=r&&T(n,["_query","pageToken"],r);const a=O(t,["filter"]);void 0!==n&&null!=a&&T(n,["_query","filter"],a);const s=O(t,["queryBase"]);void 0!==n&&null!=s&&T(n,["_url","models_url"],Ft(e,s))}(e,o,n),n}function lo(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["displayName"]);null!=o&&T(t,["displayName"],o);const r=O(e,["description"]);null!=r&&T(t,["description"],r);const a=O(e,["version"]);null!=a&&T(t,["version"],a);const s=O(e,["_self"]);null!=s&&T(t,["tunedModelInfo"],function(e){const t={},n=O(e,["baseModel"]);null!=n&&T(t,["baseModel"],n);const o=O(e,["createTime"]);null!=o&&T(t,["createTime"],o);const r=O(e,["updateTime"]);null!=r&&T(t,["updateTime"],r);return t}(s));const i=O(e,["inputTokenLimit"]);null!=i&&T(t,["inputTokenLimit"],i);const l=O(e,["outputTokenLimit"]);null!=l&&T(t,["outputTokenLimit"],l);const c=O(e,["supportedGenerationMethods"]);null!=c&&T(t,["supportedActions"],c);const u=O(e,["temperature"]);null!=u&&T(t,["temperature"],u);const d=O(e,["maxTemperature"]);null!=d&&T(t,["maxTemperature"],d);const p=O(e,["topP"]);null!=p&&T(t,["topP"],p);const f=O(e,["topK"]);null!=f&&T(t,["topK"],f);const m=O(e,["thinking"]);return null!=m&&T(t,["thinking"],m),t}function co(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["displayName"]);null!=o&&T(t,["displayName"],o);const r=O(e,["description"]);null!=r&&T(t,["description"],r);const a=O(e,["versionId"]);null!=a&&T(t,["version"],a);const s=O(e,["deployedModels"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["endpoint"]);null!=n&&T(t,["name"],n);const o=O(e,["deployedModelId"]);return null!=o&&T(t,["deployedModelId"],o),t}(e))),T(t,["endpoints"],e)}const i=O(e,["labels"]);null!=i&&T(t,["labels"],i);const l=O(e,["_self"]);null!=l&&T(t,["tunedModelInfo"],function(e){const t={},n=O(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&T(t,["baseModel"],n);const o=O(e,["createTime"]);null!=o&&T(t,["createTime"],o);const r=O(e,["updateTime"]);null!=r&&T(t,["updateTime"],r);return t}(l));const c=O(e,["defaultCheckpointId"]);null!=c&&T(t,["defaultCheckpointId"],c);const u=O(e,["checkpoints"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["checkpoints"],e)}return t}function uo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["source"]);null!=r&&function(e,t){const n={},o=O(e,["prompt"]);void 0!==t&&null!=o&&T(t,["instances[0]","prompt"],o);const r=O(e,["personImage"]);void 0!==t&&null!=r&&T(t,["instances[0]","personImage","image"],ao(r));const a=O(e,["productImages"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["productImage"]);return null!=n&&T(t,["image"],ao(n)),t}(e))),T(t,["instances[0]","productImages"],e)}}(r,n);const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["numberOfImages"]);void 0!==t&&null!=n&&T(t,["parameters","sampleCount"],n);const o=O(e,["baseSteps"]);void 0!==t&&null!=o&&T(t,["parameters","baseSteps"],o);const r=O(e,["outputGcsUri"]);void 0!==t&&null!=r&&T(t,["parameters","storageUri"],r);const a=O(e,["seed"]);void 0!==t&&null!=a&&T(t,["parameters","seed"],a);const s=O(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&T(t,["parameters","safetySetting"],s);const i=O(e,["personGeneration"]);void 0!==t&&null!=i&&T(t,["parameters","personGeneration"],i);const l=O(e,["addWatermark"]);void 0!==t&&null!=l&&T(t,["parameters","addWatermark"],l);const c=O(e,["outputMimeType"]);void 0!==t&&null!=c&&T(t,["parameters","outputOptions","mimeType"],c);const u=O(e,["outputCompressionQuality"]);void 0!==t&&null!=u&&T(t,["parameters","outputOptions","compressionQuality"],u);const d=O(e,["enhancePrompt"]);void 0!==t&&null!=d&&T(t,["parameters","enhancePrompt"],d);const p=O(e,["labels"]);void 0!==t&&null!=p&&T(t,["labels"],p)}(a,n),n}function po(e){const t={},n=O(e,["safetyAttributes","categories"]);null!=n&&T(t,["categories"],n);const o=O(e,["safetyAttributes","scores"]);null!=o&&T(t,["scores"],o);const r=O(e,["contentType"]);return null!=r&&T(t,["contentType"],r),t}function fo(e){const t={},n=O(e,["safetyAttributes","categories"]);null!=n&&T(t,["categories"],n);const o=O(e,["safetyAttributes","scores"]);null!=o&&T(t,["scores"],o);const r=O(e,["contentType"]);return null!=r&&T(t,["contentType"],r),t}function mo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["source"]);null!=r&&function(e,t){const n={},o=O(e,["prompt"]);void 0!==t&&null!=o&&T(t,["instances[0]","prompt"],o);const r=O(e,["image"]);void 0!==t&&null!=r&&T(t,["instances[0]","image"],ao(r));const a=O(e,["scribbleImage"]);void 0!==t&&null!=a&&T(t,["instances[0]","scribble"],function(e){const t={},n=O(e,["image"]);return null!=n&&T(t,["image"],ao(n)),t}(a))}(r,n);const a=O(t,["config"]);return null!=a&&function(e,t){const n=O(e,["mode"]);void 0!==t&&null!=n&&T(t,["parameters","mode"],n);const o=O(e,["maxPredictions"]);void 0!==t&&null!=o&&T(t,["parameters","maxPredictions"],o);const r=O(e,["confidenceThreshold"]);void 0!==t&&null!=r&&T(t,["parameters","confidenceThreshold"],r);const a=O(e,["maskDilation"]);void 0!==t&&null!=a&&T(t,["parameters","maskDilation"],a);const s=O(e,["binaryColorThreshold"]);void 0!==t&&null!=s&&T(t,["parameters","binaryColorThreshold"],s);const i=O(e,["labels"]);void 0!==t&&null!=i&&T(t,["labels"],i)}(a,n),n}function ho(e){const t={},n=O(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["_self"]);null!=n&&T(t,["mask"],oo(n));const o=O(e,["labels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["labels"],e)}return t}(e))),T(t,["generatedMasks"],e)}return t}function go(e){const t={},n=O(e,["retrieval"]);null!=n&&T(t,["retrieval"],n);const o=O(e,["computerUse"]);if(null!=o&&T(t,["computerUse"],o),void 0!==O(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);const a=O(e,["enterpriseWebSearch"]);null!=a&&T(t,["enterpriseWebSearch"],a);const s=O(e,["functionDeclarations"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["description"]);null!=n&&T(t,["description"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["parameters"]);null!=r&&T(t,["parameters"],r);const a=O(e,["parametersJsonSchema"]);null!=a&&T(t,["parametersJsonSchema"],a);const s=O(e,["response"]);null!=s&&T(t,["response"],s);const i=O(e,["responseJsonSchema"]);if(null!=i&&T(t,["responseJsonSchema"],i),void 0!==O(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),T(t,["functionDeclarations"],e)}const i=O(e,["googleMaps"]);null!=i&&T(t,["googleMaps"],i);const l=O(e,["googleSearch"]);null!=l&&T(t,["googleSearch"],l);const c=O(e,["googleSearchRetrieval"]);null!=c&&T(t,["googleSearchRetrieval"],c);const u=O(e,["urlContext"]);return null!=u&&T(t,["urlContext"],u),t}function vo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","name"],ft(e,o));const r=O(t,["config"]);return null!=r&&function(e,t){const n=O(e,["displayName"]);void 0!==t&&null!=n&&T(t,["displayName"],n);const o=O(e,["description"]);void 0!==t&&null!=o&&T(t,["description"],o);const r=O(e,["defaultCheckpointId"]);void 0!==t&&null!=r&&T(t,["defaultCheckpointId"],r)}(r,n),n}function yo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["config"]);return null!=r&&function(e,t){const n=O(e,["displayName"]);void 0!==t&&null!=n&&T(t,["displayName"],n);const o=O(e,["description"]);void 0!==t&&null!=o&&T(t,["description"],o);const r=O(e,["defaultCheckpointId"]);void 0!==t&&null!=r&&T(t,["defaultCheckpointId"],r)}(r,n),n}function bo(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["image"]);null!=r&&T(n,["instances[0]","image"],ao(r));const a=O(t,["upscaleFactor"]);null!=a&&T(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=O(t,["config"]);return null!=s&&function(e,t){const n=O(e,["outputGcsUri"]);void 0!==t&&null!=n&&T(t,["parameters","storageUri"],n);const o=O(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&T(t,["parameters","safetySetting"],o);const r=O(e,["personGeneration"]);void 0!==t&&null!=r&&T(t,["parameters","personGeneration"],r);const a=O(e,["includeRaiReason"]);void 0!==t&&null!=a&&T(t,["parameters","includeRaiReason"],a);const s=O(e,["outputMimeType"]);void 0!==t&&null!=s&&T(t,["parameters","outputOptions","mimeType"],s);const i=O(e,["outputCompressionQuality"]);void 0!==t&&null!=i&&T(t,["parameters","outputOptions","compressionQuality"],i);const l=O(e,["enhanceInputImage"]);void 0!==t&&null!=l&&T(t,["parameters","upscaleConfig","enhanceInputImage"],l);const c=O(e,["imagePreservationFactor"]);void 0!==t&&null!=c&&T(t,["parameters","upscaleConfig","imagePreservationFactor"],c);const u=O(e,["labels"]);void 0!==t&&null!=u&&T(t,["labels"],u);const d=O(e,["numberOfImages"]);void 0!==t&&null!=d&&T(t,["parameters","sampleCount"],d);const p=O(e,["mode"]);void 0!==t&&null!=p&&T(t,["parameters","mode"],p)}(s,n),n}function _o(e){const t={},n=O(e,["uri"]);null!=n&&T(t,["uri"],n);const o=O(e,["videoBytes"]);null!=o&&T(t,["encodedVideo"],Dt(o));const r=O(e,["mimeType"]);return null!=r&&T(t,["encoding"],r),t}function Eo(e){const t={},n=O(e,["uri"]);null!=n&&T(t,["gcsUri"],n);const o=O(e,["videoBytes"]);null!=o&&T(t,["bytesBase64Encoded"],Dt(o));const r=O(e,["mimeType"]);return null!=r&&T(t,["mimeType"],r),t}function xo(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["displayName"]);void 0!==t&&null!=n&&T(t,["displayName"],n)}(n,t),t}function wo(e){const t={},n=O(e,["name"]);null!=n&&T(t,["_url","name"],n);const o=O(e,["config"]);return null!=o&&function(e,t){const n=O(e,["force"]);void 0!==t&&null!=n&&T(t,["_query","force"],n)}(o,t),t}function So(e){const t={},n=O(e,["name"]);null!=n&&T(t,["name"],n);const o=O(e,["metadata"]);null!=o&&T(t,["metadata"],o);const r=O(e,["done"]);null!=r&&T(t,["done"],r);const a=O(e,["error"]);null!=a&&T(t,["error"],a);const s=O(e,["response"]);return null!=s&&T(t,["response"],function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["parent"]);null!=o&&T(t,["parent"],o);const r=O(e,["documentName"]);null!=r&&T(t,["documentName"],r);return t}(s)),t}function Co(e){const t={},n=O(e,["fileSearchStoreName"]);null!=n&&T(t,["_url","file_search_store_name"],n);const o=O(e,["fileName"]);null!=o&&T(t,["fileName"],o);const r=O(e,["config"]);return null!=r&&function(e,t){const n=O(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["customMetadata"],e)}const o=O(e,["chunkingConfig"]);void 0!==t&&null!=o&&T(t,["chunkingConfig"],o)}(r,t),t}function No(e){const t={},n=O(e,["config"]);return null!=n&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o)}(n,t),t}function Io(e,t){const n=O(e,["mimeType"]);void 0!==t&&null!=n&&T(t,["mimeType"],n);const o=O(e,["displayName"]);void 0!==t&&null!=o&&T(t,["displayName"],o);const r=O(e,["customMetadata"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["customMetadata"],e)}const a=O(e,["chunkingConfig"]);return void 0!==t&&null!=a&&T(t,["chunkingConfig"],a),{}}const To="x-goog-api-client",Oo="google-genai-sdk/".concat("1.36.0");class Ao{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const o=[this.getRequestUrlInternal(t)];n&&o.push(this.getBaseResourcePath()),""!==e&&o.push(e);return new URL("".concat(o.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[a,s]of Object.entries(e.queryParams))o.searchParams.append(a,String(s));let r={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(t))"object"===typeof r?n[o]=Object.assign(Object.assign({},n[o]),r):void 0!==r&&(n[o]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);o.searchParams.has("alt")&&"sse"===o.searchParams.get("alt")||o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,o){if(t&&t.timeout||o){const n=new AbortController,r=n.signal;if(t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"===typeof e.unref&&e.unref()}o&&o.addEventListener("abort",()=>{n.abort()}),e.signal=r}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(a){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function o(e,t){const n=Object.assign({},e);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const e=t[r],a=n[r];e&&"object"===typeof e&&!Array.isArray(e)&&a&&"object"===typeof a&&!Array.isArray(a)?n[r]=o(a,e):(a&&e&&typeof a!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(r,'". Original type: ').concat(typeof a,", New type: ").concat(typeof e,". Overwriting.")),n[r]=e)}return n}const r=o(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Ro(e),new Le(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Ro(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return gn(this,arguments,function*(){var t;const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const a="data:",s=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:i,value:l}=yield hn(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=o.decode(l,{stream:!0});try{const e=JSON.parse(c);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,o=t.code,r="got status: ".concat(n,". ").concat(JSON.stringify(e));if(o>=400&&o<600){throw new wn({message:r,status:o})}}}catch(r){if("ApiError"===r.name)throw r}t+=c;let u=-1,d=0;for(;;){u=-1,d=0;for(const e of s){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,d=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+d);const o=n.trim();if(o.startsWith(a)){const t=o.substring(a.length).trim();try{const n=new Response(t,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield hn(new Le(n))}catch(r){throw new Error("exception parsing stream chunk ".concat(t,". ").concat(r))}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},t=Oo+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[To]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,o]of Object.entries(e.headers))n.append(t,o);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"===typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const o={};null!=t&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name="files/".concat(o.name));const r=this.clientOptions.uploader,a=await r.stat(e);o.sizeBytes=String(a.size);const s=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:a.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=s;const i={file:o},l=this.getFileName(e),c=I("upload/v1beta/files",i._url),u=await this.fetchUploadUrl(c,o.sizeBytes,o.mimeType,l,i,null===t||void 0===t?void 0:t.httpOptions);return r.upload(e,u,this)}async uploadFileToFileSearchStore(e,t,n){var o;const r=this.clientOptions.uploader,a=await r.stat(t),s=String(a.size),i=null!==(o=null===n||void 0===n?void 0:n.mimeType)&&void 0!==o?o:a.type;if(void 0===i||""===i)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const l="upload/v1beta/".concat(e,":uploadToFileSearchStore"),c=this.getFileName(t),u={};null!=n&&Io(n,u);const d=await this.fetchUploadUrl(l,s,i,c,u,null===n||void 0===n?void 0:n.httpOptions);return r.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,o,r,a){var s;let i={};i=a||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(t),"X-Goog-Upload-Header-Content-Type":"".concat(n)},o?{"X-Goog-Upload-File-Name":o}:{})};const l=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!l||!(null===l||void 0===l?void 0:l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=null===(s=null===l||void 0===l?void 0:l.headers)||void 0===s?void 0:s["x-goog-upload-url"];if(void 0===c)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ro(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;o=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);if(n>=400&&n<600){throw new wn({message:r,status:n})}throw new Error(r)}}let Po=!1;function ko(e){for(const t of e){if(Do(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return Po}function jo(e){var t;const n=null!==(t=e[To])&&void 0!==t?t:"";e[To]=(n+" ".concat("mcp_used/unknown")).trimStart()}function Do(e){return null!==e&&"object"===typeof e&&e instanceof Fo}function Mo(e){return gn(this,arguments,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function*(){let n,o=0;for(;o<t;){const t=yield hn(e.listTools({cursor:n}));for(const e of t.tools)yield yield hn(e),o++;if(!t.nextCursor)break;n=t.nextCursor}}()})}class Fo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Fo(e,t)}async initialize(){var e,t,n,o;if(this.mcpTools.length>0)return;const r={},a=[];for(const u of this.mcpClients)try{for(var s,i=!0,l=(t=void 0,vn(Mo(u)));!(e=(s=await l.next()).done);i=!0){o=s.value,i=!1;const e=o;a.push(e);const t=e.name;if(r[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));r[t]=u}}catch(c){t={error:c}}finally{try{i||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],o=new Set;for(const r of e){const e=r.name;if(o.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));o.add(e);const a=qt(r,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await e.callTool({name:n.name,arguments:n.args},void 0,o);t.push({functionResponse:{name:n.name,response:r.isError?{error:r}:r}})}return t}}class Uo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),a=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),i="".concat(o,"/ws/google.ai.generativelanguage.").concat(r,".GenerativeService.BidiGenerateMusic?key=").concat(s);let l=()=>{};const c=new Promise(e=>{l=e}),u=e.callbacks,d=(this.apiClient,{onopen:function(){l({})},onmessage:e=>{!async function(e,t,n){const o=new dt;let r;r=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(o,r),t(o)}(0,u.onmessage,e)},onerror:null!==(t=null===u||void 0===u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===u||void 0===u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),p=this.webSocketFactory.create(i,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(a),d);p.connect(),await c;const f={setup:{model:ft(this.apiClient,e.model)}};return p.send(JSON.stringify(f)),new Lo(p,this.apiClient)}}class Lo{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=O(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=O(e,["musicGenerationConfig"]);return null!=n&&T(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Fe.PLAY)}pause(){this.sendPlaybackControl(Fe.PAUSE)}stop(){this.sendPlaybackControl(Fe.STOP)}resetContext(){this.sendPlaybackControl(Fe.RESET_CONTEXT)}close(){this.conn.close()}}class qo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Uo(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,o,r,a,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const i=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let c;const u=this.apiClient.getHeaders();e.config&&e.config.tools&&ko(e.config.tools)&&jo(u);const d=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(u);if(this.apiClient.isVertexAI())c="".concat(i,"/ws/google.cloud.aiplatform.").concat(l,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d,c);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==l&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),c="".concat(i,"/ws/google.ai.generativelanguage.").concat(l,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let p=()=>{};const f=new Promise(e=>{p=e}),m=e.callbacks,h=this.apiClient,g={onopen:function(){var e;null===(e=null===m||void 0===m?void 0:m.onopen)||void 0===e||e.call(m),p({})},onmessage:e=>{!async function(e,t,n){const o=new ut;let r;r=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const a=JSON.parse(r);if(e.isVertexAI()){const e=Pn(a);Object.assign(o,e)}else{const e=a;Object.assign(o,e)}t(o)}(h,m.onmessage,e)},onerror:null!==(t=null===m||void 0===m?void 0:m.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===m||void 0===m?void 0:m.onclose)&&void 0!==n?n:function(e){}},v=this.webSocketFactory.create(c,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);v.connect(),await f;let y=ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&y.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();y="projects/".concat(e,"/locations/").concat(t,"/")+y}let b={};this.apiClient.isVertexAI()&&void 0===(null===(o=e.config)||void 0===o?void 0:o.responseModalities)&&(void 0===e.config?e.config={responseModalities:[oe.AUDIO]}:e.config.responseModalities=[oe.AUDIO]),(null===(r=e.config)||void 0===r?void 0:r.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const _=null!==(s=null===(a=e.config)||void 0===a?void 0:a.tools)&&void 0!==s?s:[],E=[];for(const w of _)if(this.isCallableTool(w)){const e=w;E.push(await e.tool())}else E.push(w);E.length>0&&(e.config.tools=E);const x={model:y,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["setup","model"],ft(e,o));const r=O(t,["config"]);return null!=r&&T(n,["config"],On(r,n)),n}(this.apiClient,x):function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["setup","model"],ft(e,o));const r=O(t,["config"]);return null!=r&&T(n,["config"],Tn(r,n)),n}(this.apiClient,x),delete b.config,v.send(JSON.stringify(b)),new Go(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const Vo={turnComplete:!0};class Go{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=Nt(t.turns),e.isVertexAI()||(n=n.map(e=>Dn(e)))}catch(da){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const o of n){if("object"!==typeof o||null===o||!("name"in o)||!("response"in o))throw new Error("Could not parse function response, type '".concat(typeof o,"'."));if(!e.isVertexAI()&&!("id"in o))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Vo),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Rn(e)}:{realtimeInput:An(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Ho(e){var t,n,o;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let r=!1;for(const s of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(zo(s)){r=!0;break}if(!r)return!0;const a=null===(o=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===o?void 0:o.maximumRemoteCalls;return!!(a&&(a<0||!Number.isInteger(a))||0==a)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0)}function zo(e){return"callTool"in e&&"function"===typeof e.callTool}function Bo(e){var t;const n=[];return(null===(t=null===e||void 0===e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(zo(e))return;const o=e;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(t)}),n):n}function $o(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class Jo extends N{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,o,r,a;const s=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,o;return null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>zo(e)))&&void 0!==o&&o}(e)||Ho(e.config))return await this.generateContentInternal(s);const i=Bo(e);if(i.length>0){const e=i.map(e=>"tools[".concat(e,"]")).join(", ");throw new Error("Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ".concat(e,"."))}let l,c;const u=Nt(s.contents),d=null!==(o=null===(n=null===(t=s.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let p=0;for(;p<d&&(l=await this.generateContentInternal(s),l.functionCalls&&0!==l.functionCalls.length);){const t=l.candidates[0].content,n=[];for(const o of null!==(a=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==a?a:[])if(zo(o)){const e=o,t=await e.callTool(l.functionCalls);n.push(...t)}p++,c={role:"user",parts:n},s.contents=Nt(s.contents),s.contents.push(t),s.contents.push(c),$o(s.config)&&(u.push(t),u.push(c))}return $o(s.config)&&(l.automaticFunctionCallingHistory=u),l},this.generateContentStream=async e=>{var t,n,o,r,a;if(this.maybeMoveToResponseJsonSchem(e),Ho(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const s=Bo(e);if(s.length>0){const e=s.map(e=>"tools[".concat(e,"]")).join(", ");throw new Error("Incompatible tools found at ".concat(e,'. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.'))}const i=null===(o=null===(n=null===(t=null===e||void 0===e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===o?void 0:o.streamFunctionCallArguments,l=null===(a=null===(r=null===e||void 0===e?void 0:e.config)||void 0===r?void 0:r.automaticFunctionCalling)||void 0===a?void 0:a.disable;if(i&&!l)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const o=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const a of e.generatedImages)a&&(null===a||void 0===a?void 0:a.safetyAttributes)&&"Positive Prompt"===(null===(t=null===a||void 0===a?void 0:a.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===a||void 0===a?void 0:a.safetyAttributes:o.push(a);let r;return r=n?{generatedImages:o,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:o,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new nn(Ue.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,o,r,a,s;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(r=null===(o=e.source)||void 0===o?void 0:o.video)||void 0===r?void 0:r.uri)&&(null===(s=null===(a=e.source)||void 0===a?void 0:a.video)||void 0===s?void 0:s.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,o;const r=null===(t=e.config)||void 0===t?void 0:t.tools;if(!r)return e;const a=await Promise.all(r.map(async e=>{if(zo(e)){const t=e;return await t.tool()}return e})),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(s.config.tools=a,e.config&&e.config.tools&&ko(e.config.tools)){const t=null!==(o=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==o?o:{};let r=Object.assign({},t);0===Object.keys(r).length&&(r=this.apiClient.getDefaultHeaders()),jo(r),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:r})}return s}async initAfcToolsMap(e){var t,n,o;const r=new Map;for(const a of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(zo(a)){const e=a,t=await e.tool();for(const n of null!==(o=t.functionDeclarations)&&void 0!==o?o:[]){if(!n.name)throw new Error("Function declaration name is required.");if(r.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));r.set(n.name,e)}}return r}async processAfcStream(e){var t,n,o;const r=null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let a=!1,s=0;return function(e,t,n){return gn(this,arguments,function*(){for(var o,i,l,c,u,d;s<r;){a&&(s++,a=!1);const g=yield hn(e.processParamsMaybeAddMcpUsage(n)),v=yield hn(e.generateContentStreamInternal(g)),y=[],b=[];try{for(var p,f=!0,m=(i=void 0,vn(v));!(o=(p=yield hn(m.next())).done);f=!0){c=p.value,f=!1;const e=c;if(yield yield hn(e),e.candidates&&(null===(u=e.candidates[0])||void 0===u?void 0:u.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(s<r&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield hn(t.get(n.functionCall.name).callTool([n.functionCall]));y.push(...e)}}}}}catch(h){i={error:h}}finally{try{f||o||!(l=m.return)||(yield hn(l.call(m)))}finally{if(i)throw i.error}}if(!(y.length>0))break;{a=!0;const e=new qe;e.candidates=[{content:{role:"user",parts:y}}],yield yield hn(e);const t=[];t.push(...b),t.push({role:"user",parts:y});const o=Nt(n.contents).concat(t);n.contents=o}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=zn(this.apiClient,e);return s=I("{model}:generateContent",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=$n(e),n=new qe;return Object.assign(n,t),n})}{const t=Hn(this.apiClient,e);return s=I("{model}:generateContent",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=Bn(e),n=new qe;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=zn(this.apiClient,e);s=I("{model}:streamGenerateContent?alt=sse",o._url),i=o._query,delete o._url,delete o._query;return a=this.apiClient.requestStream({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),a.then(function(e){return gn(this,arguments,function*(){var t,n,o,r;try{for(var a,s=!0,i=vn(e);!(t=(a=yield hn(i.next())).done);s=!0){r=a.value,s=!1;const e=r,t=$n(yield hn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new qe;Object.assign(n,t),yield yield hn(n)}}catch(l){n={error:l}}finally{try{s||t||!(o=i.return)||(yield hn(o.call(i)))}finally{if(n)throw n.error}}})})}{const t=Hn(this.apiClient,e);s=I("{model}:streamGenerateContent?alt=sse",t._url),i=t._query,delete t._url,delete t._query;return a=this.apiClient.requestStream({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}),a.then(function(e){return gn(this,arguments,function*(){var t,n,o,r;try{for(var a,s=!0,i=vn(e);!(t=(a=yield hn(i.next())).done);s=!0){r=a.value,s=!1;const e=r,t=Bn(yield hn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new qe;Object.assign(n,t),yield yield hn(n)}}catch(l){n={error:l}}finally{try{s||t||!(o=i.return)||(yield hn(o.call(i)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=qn(this.apiClient,e);return s=I("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["predictions[]","embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>jn(e))),T(t,["embeddings"],e)}const r=O(e,["metadata"]);return null!=r&&T(t,["metadata"],r),t}(e),n=new Ve;return Object.assign(n,t),n})}{const t=Ln(this.apiClient,e);return s=I("{model}:batchEmbedContents",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["embeddings"],e)}const r=O(e,["metadata"]);return null!=r&&T(t,["metadata"],r),t}(e),n=new Ve;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=Kn(this.apiClient,e);return s=I("{model}:predict",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>no(e))),T(t,["generatedImages"],e)}const r=O(e,["positivePromptSafetyAttributes"]);return null!=r&&T(t,["positivePromptSafetyAttributes"],fo(r)),t}(e),n=new Ge;return Object.assign(n,t),n})}{const t=Jn(this.apiClient,e);return s=I("{model}:predict",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=Wn(e),n=new Ge;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=Un(this.apiClient,e);return r=I("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>no(e))),T(t,["generatedImages"],e)}return t}(e),n=new He;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=bo(this.apiClient,e);return r=I("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>no(e))),T(t,["generatedImages"],e)}return t}(e),n=new ze;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=uo(this.apiClient,e);return r=I("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=O(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>no(e))),T(t,["generatedImages"],e)}return t}(e),n=new Be;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=mo(this.apiClient,e);return r=I("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=ho(e),n=new $e;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["model"]);return null!=o&&T(n,["_url","name"],ft(e,o)),n}(this.apiClient,e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>co(e))}{const t=function(e,t){const n={},o=O(t,["model"]);return null!=o&&T(n,["_url","name"],ft(e,o)),n}(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>lo(e))}}async listInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=io(this.apiClient,e);return s=I("{models_url}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["_self"]);if(null!=r){let e=Ut(r);Array.isArray(e)&&(e=e.map(e=>co(e))),T(t,["models"],e)}return t}(e),n=new Je;return Object.assign(n,t),n})}{const t=so(this.apiClient,e);return s=I("{models_url}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["_self"]);if(null!=r){let e=Ut(r);Array.isArray(e)&&(e=e.map(e=>lo(e))),T(t,["models"],e)}return t}(e),n=new Je;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=yo(this.apiClient,e);return s=I("{model}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>co(e))}{const t=vo(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>lo(e))}}async delete(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["model"]);return null!=o&&T(n,["_url","name"],ft(e,o)),n}(this.apiClient,e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new Ke;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=O(t,["model"]);return null!=o&&T(n,["_url","name"],ft(e,o)),n}(this.apiClient,e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new Ke;return Object.assign(n,t),n})}}async countTokens(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>e)),T(n,["contents"],e)}const a=O(t,["config"]);return null!=a&&Mn(a,n),n}(this.apiClient,e);return s=I("{model}:countTokens",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["totalTokens"]);return null!=o&&T(t,["totalTokens"],o),t}(e),n=new We;return Object.assign(n,t),n})}{const t=Fn(this.apiClient,e);return s=I("{model}:countTokens",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["totalTokens"]);null!=o&&T(t,["totalTokens"],o);const r=O(e,["cachedContentTokenCount"]);return null!=r&&T(t,["cachedContentTokenCount"],r),t}(e),n=new We;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["_url","model"],ft(e,o));const r=O(t,["contents"]);if(null!=r){let e=Nt(r);Array.isArray(e)&&(e=e.map(e=>e)),T(n,["contents"],e)}return n}(this.apiClient,e);return r=I("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["tokensInfo"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["tokensInfo"],e)}return t}(e),n=new Ye;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=to(this.apiClient,e);return s=I("{model}:predictLongRunning",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a.then(e=>{const t=Zn(e),n=new Qe;return Object.assign(n,t),n})}{const t=eo(this.apiClient,e);return s=I("{model}:predictLongRunning",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a.then(e=>{const t=Xn(e),n=new Qe;return Object.assign(n,t),n})}}}class Ko extends N{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=O(e,["operationName"]);return null!=n&&T(t,["_url","operationName"],n),t}(e);return s=I("{operationName}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),a}{const t=function(e){const t={},n=O(e,["operationName"]);return null!=n&&T(t,["_url","operationName"],n),t}(e);return s=I("{operationName}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),a}}async fetchPredictVideosOperationInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=function(e){const t={},n=O(e,["operationName"]);null!=n&&T(t,["operationName"],n);const o=O(e,["resourceName"]);return null!=o&&T(t,["_url","resourceName"],o),t}(e);return r=I("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o}throw new Error("This method is only supported by the Vertex AI.")}}function Wo(e){const t={},n=O(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=O(e,["mediaResolution"]);null!=n&&T(t,["mediaResolution"],n);const o=O(e,["codeExecutionResult"]);null!=o&&T(t,["codeExecutionResult"],o);const r=O(e,["executableCode"]);null!=r&&T(t,["executableCode"],r);const a=O(e,["fileData"]);null!=a&&T(t,["fileData"],function(e){const t={};if(void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=O(e,["fileUri"]);null!=n&&T(t,["fileUri"],n);const o=O(e,["mimeType"]);null!=o&&T(t,["mimeType"],o);return t}(a));const s=O(e,["functionCall"]);null!=s&&T(t,["functionCall"],function(e){const t={},n=O(e,["id"]);null!=n&&T(t,["id"],n);const o=O(e,["args"]);null!=o&&T(t,["args"],o);const r=O(e,["name"]);null!=r&&T(t,["name"],r);if(void 0!==O(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==O(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(s));const i=O(e,["functionResponse"]);null!=i&&T(t,["functionResponse"],i);const l=O(e,["inlineData"]);null!=l&&T(t,["inlineData"],function(e){const t={},n=O(e,["data"]);if(null!=n&&T(t,["data"],n),void 0!==O(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const o=O(e,["mimeType"]);return null!=o&&T(t,["mimeType"],o),t}(l));const c=O(e,["text"]);null!=c&&T(t,["text"],c);const u=O(e,["thought"]);null!=u&&T(t,["thought"],u);const d=O(e,["thoughtSignature"]);null!=d&&T(t,["thoughtSignature"],d);const p=O(e,["videoMetadata"]);null!=p&&T(t,["videoMetadata"],p);return t}(e))),T(t,["parts"],e)}const o=O(e,["role"]);return null!=o&&T(t,["role"],o),t}function Yo(e,t,n){const o=O(t,["expireTime"]);void 0!==n&&null!=o&&T(n,["expireTime"],o);const r=O(t,["newSessionExpireTime"]);void 0!==n&&null!=r&&T(n,["newSessionExpireTime"],r);const a=O(t,["uses"]);void 0!==n&&null!=a&&T(n,["uses"],a);const s=O(t,["liveConnectConstraints"]);void 0!==n&&null!=s&&T(n,["bidiGenerateContentSetup"],function(e,t){const n={},o=O(t,["model"]);null!=o&&T(n,["setup","model"],ft(e,o));const r=O(t,["config"]);null!=r&&T(n,["config"],function(e,t){const n={},o=O(e,["generationConfig"]);void 0!==t&&null!=o&&T(t,["setup","generationConfig"],o);const r=O(e,["responseModalities"]);void 0!==t&&null!=r&&T(t,["setup","generationConfig","responseModalities"],r);const a=O(e,["temperature"]);void 0!==t&&null!=a&&T(t,["setup","generationConfig","temperature"],a);const s=O(e,["topP"]);void 0!==t&&null!=s&&T(t,["setup","generationConfig","topP"],s);const i=O(e,["topK"]);void 0!==t&&null!=i&&T(t,["setup","generationConfig","topK"],i);const l=O(e,["maxOutputTokens"]);void 0!==t&&null!=l&&T(t,["setup","generationConfig","maxOutputTokens"],l);const c=O(e,["mediaResolution"]);void 0!==t&&null!=c&&T(t,["setup","generationConfig","mediaResolution"],c);const u=O(e,["seed"]);void 0!==t&&null!=u&&T(t,["setup","generationConfig","seed"],u);const d=O(e,["speechConfig"]);void 0!==t&&null!=d&&T(t,["setup","generationConfig","speechConfig"],At(d));const p=O(e,["thinkingConfig"]);void 0!==t&&null!=p&&T(t,["setup","generationConfig","thinkingConfig"],p);const f=O(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&T(t,["setup","generationConfig","enableAffectiveDialog"],f);const m=O(e,["systemInstruction"]);void 0!==t&&null!=m&&T(t,["setup","systemInstruction"],Wo(St(m)));const h=O(e,["tools"]);if(void 0!==t&&null!=h){let e=Pt(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==O(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=O(e,["computerUse"]);null!=n&&T(t,["computerUse"],n);const o=O(e,["fileSearch"]);null!=o&&T(t,["fileSearch"],o);const r=O(e,["codeExecution"]);null!=r&&T(t,["codeExecution"],r);if(void 0!==O(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=O(e,["functionDeclarations"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["functionDeclarations"],e)}const s=O(e,["googleMaps"]);null!=s&&T(t,["googleMaps"],function(e){const t={};if(void 0!==O(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=O(e,["enableWidget"]);null!=n&&T(t,["enableWidget"],n);return t}(s));const i=O(e,["googleSearch"]);null!=i&&T(t,["googleSearch"],function(e){const t={};if(void 0!==O(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==O(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=O(e,["timeRangeFilter"]);null!=n&&T(t,["timeRangeFilter"],n);return t}(i));const l=O(e,["googleSearchRetrieval"]);null!=l&&T(t,["googleSearchRetrieval"],l);const c=O(e,["urlContext"]);null!=c&&T(t,["urlContext"],c);return t}(Rt(e)))),T(t,["setup","tools"],e)}const g=O(e,["sessionResumption"]);void 0!==t&&null!=g&&T(t,["setup","sessionResumption"],function(e){const t={},n=O(e,["handle"]);null!=n&&T(t,["handle"],n);if(void 0!==O(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const v=O(e,["inputAudioTranscription"]);void 0!==t&&null!=v&&T(t,["setup","inputAudioTranscription"],v);const y=O(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&T(t,["setup","outputAudioTranscription"],y);const b=O(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&T(t,["setup","realtimeInputConfig"],b);const _=O(e,["contextWindowCompression"]);void 0!==t&&null!=_&&T(t,["setup","contextWindowCompression"],_);const E=O(e,["proactivity"]);void 0!==t&&null!=E&&T(t,["setup","proactivity"],E);if(void 0!==O(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(r,n));return n}(e,s));const i=O(t,["lockAdditionalFields"]);return void 0!==n&&null!=i&&T(n,["fieldMask"],i),{}}function Qo(e,t){let n=null;const o=e.bidiGenerateContentSetup;if("object"===typeof o&&null!==o&&"setup"in o){const t=o.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==o&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const o=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if("object"===typeof o&&null!=o&&Object.keys(o).length>0){const e=Object.keys(o).map(e=>"".concat(n,".").concat(e));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))o?e.fieldMask=o:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==r&&Array.isArray(r)&&r.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];r.length>0&&(n=r.map(e=>t.includes(e)?"generationConfig.".concat(e):e));const a=[];o&&a.push(o),n.length>0&&a.push(...n),a.length>0?e.fieldMask=a.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==r&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class Xo extends N{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},o=O(t,["config"]);return null!=o&&T(n,["config"],Yo(e,o,n)),n}(this.apiClient,e);r=I("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const i=Qo(s,e.config);return o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}}function Zo(e){const t={},n=O(e,["name"]);null!=n&&T(t,["_url","name"],n);const o=O(e,["config"]);return null!=o&&function(e,t){const n=O(e,["force"]);void 0!==t&&null!=n&&T(t,["_query","force"],n)}(o,t),t}function er(e){const t={},n=O(e,["parent"]);null!=n&&T(t,["_url","parent"],n);const o=O(e,["config"]);return null!=o&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o)}(o,t),t}class tr extends N{constructor(e){super(),this.apiClient=e,this.list=async e=>new nn(Ue.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return r=I("{name}",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Zo(e);o=I("{name}",a._url),r=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=er(e);return r=I("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["documents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["documents"],e)}return t}(e),n=new nt;return Object.assign(n,t),n})}}}class nr extends N{constructor(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tr(e);super(),t=this,this.apiClient=e,this.documents=n,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nn(Ue.PAGED_ITEM_FILE_SEARCH_STORES,e=>t.listInternal(e),await t.listInternal(e),e)}}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xo(e);return r=I("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async get(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return r=I("{name}",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wo(e);o=I("{name}",a._url),r=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=No(e);return r=I("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["fileSearchStores"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["fileSearchStores"],e)}return t}(e),n=new ot;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e){const t={},n=O(e,["fileSearchStoreName"]);null!=n&&T(t,["_url","file_search_store_name"],n);const o=O(e,["config"]);return null!=o&&Io(o,t),t}(e);return r=I("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new rt;return Object.assign(n,t),n})}}async importFile(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Co(e);return r=I("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=So(e),n=new at;return Object.assign(n,t),n})}}}let or=function(){const{crypto:e}=globalThis;if(null===e||void 0===e?void 0:e.randomUUID)return or=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};function rr(e){return"object"===typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const ar=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(da){}try{return new Error(JSON.stringify(e))}catch(t){}}return new Error(e)};class sr extends Error{}class ir extends sr{constructor(e,t,n,o){super("".concat(ir.makeMessage(e,t,n))),this.status=e,this.headers=o,this.error=t}static makeMessage(e,t,n){const o=(null===t||void 0===t?void 0:t.message)?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&o?"".concat(e," ").concat(o):e?"".concat(e," status code (no body)"):o||"(no status code or body)"}static generate(e,t,n,o){if(!e||!o)return new cr({message:n,cause:ar(t)});const r=t;return 400===e?new dr(e,r,n,o):401===e?new pr(e,r,n,o):403===e?new fr(e,r,n,o):404===e?new mr(e,r,n,o):409===e?new hr(e,r,n,o):422===e?new gr(e,r,n,o):429===e?new vr(e,r,n,o):e>=500?new yr(e,r,n,o):new ir(e,r,n,o)}}class lr extends ir{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class cr extends ir{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ur extends cr{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:null!==e&&void 0!==e?e:"Request timed out."})}}class dr extends ir{}class pr extends ir{}class fr extends ir{}class mr extends ir{}class hr extends ir{}class gr extends ir{}class vr extends ir{}class yr extends ir{}const br=/^[a-z][a-z0-9+.-]*:/i;let _r=e=>(_r=Array.isArray,_r(e));const Er=_r;const xr="0.0.1";const wr=()=>{var e,t,n,o,r;const a="undefined"!==typeof Deno&&null!=Deno.build?"deno":"undefined"!==typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call("undefined"!==typeof globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xr,"X-Stainless-OS":Cr(Deno.build.os),"X-Stainless-Arch":Sr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"other:".concat(EdgeRuntime),"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===a)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xr,"X-Stainless-OS":Cr(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Sr(null!==(o=globalThis.process.arch)&&void 0!==o?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(r=globalThis.process.version)&&void 0!==r?r:"unknown"};const s=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){const n=e[1]||0,o=e[2]||0,r=e[3]||0;return{browser:t,version:"".concat(n,".").concat(o,".").concat(r)}}}return null}();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"browser:".concat(s.browser),"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Sr=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?"other:".concat(e):"unknown",Cr=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?"Other:".concat(e):"Unknown";let Nr;function Ir(){const e=globalThis.ReadableStream;if("undefined"===typeof e)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return new e(...n)}function Tr(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Ir({start(){},async pull(e){const{done:n,value:o}=await t.next();n?e.close():e.enqueue(o)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function Or(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null===e||void 0===e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Ar=e=>{let{headers:t,body:n}=e;return{bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}},Rr=()=>{var e;if("undefined"===typeof File){const{process:t}=globalThis,n="string"===typeof(null===(e=null===t||void 0===t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pr(e,t,n){return Rr(),new File(e,null!==t&&void 0!==t?t:"unknown_file",n)}const kr=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function jr(e){var t,n,o,r,a;let s=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(kr(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator])(e)){const t=null===(a=null===e||void 0===e?void 0:e.constructor)||void 0===a?void 0:a.name;throw new Error("Unexpected data type: ".concat(typeof e).concat(t?"; constructor: ".concat(t):"").concat(function(e){if("object"!==typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return"; props: [".concat(t.map(e=>'"'.concat(e,'"')).join(", "),"]")}(e)))}try{for(var i,l=!0,c=vn(e);!(t=(i=await c.next()).done);l=!0){r=i.value,l=!1;const e=r;s.push(...await jr(e))}}catch(u){n={error:u}}finally{try{l||t||!(o=c.return)||await o.call(c)}finally{if(n)throw n.error}}}return s}class Dr{constructor(e){this._client=e}}function Mr(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}Dr._key=[];const Fr=Object.freeze(Object.create(null)),Ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr;return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];if(1===t.length)return t[0];let a=!1;const s=[],i=t.reduce((t,n,r)=>{var i,l,c;/[?#]/.test(n)&&(a=!0);const u=o[r];let d=(a?encodeURIComponent:e)(""+u);return r!==o.length&&(null==u||"object"===typeof u&&u.toString===(null===(c=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(i=u.hasOwnProperty)&&void 0!==i?i:Fr))&&void 0!==l?l:Fr))||void 0===c?void 0:c.toString))&&(d=u+"",s.push({start:t.length+n.length,length:d.length,error:"Value of type ".concat(Object.prototype.toString.call(u).slice(8,-1)," is not a valid path parameter")})),t+n+(r===o.length?"":d)},""),l=i.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let u;for(;null!==(u=c.exec(l));)s.push({start:u.index,length:u[0].length,error:'Value "'.concat(u[0],"\" can't be safely passed as a path parameter")});if(s.sort((e,t)=>e.start-t.start),s.length>0){let e=0;const t=s.reduce((t,n)=>{const o=" ".repeat(n.start-e),r="^".repeat(n.length);return e=n.start+n.length,t+o+r},"");throw new sr("Path parameters result in path with invalid segments:\n".concat(s.map(e=>e.error).join("\n"),"\n").concat(i,"\n").concat(t))}return i}},Lr=Ur(Mr);class qr extends Dr{create(e,t){var n;const{api_version:o=this._client.apiVersion}=e,r=fn(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new sr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new sr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Lr(b||(b=y(["/","/interactions"])),o),Object.assign(Object.assign({body:r},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const{api_version:o=this._client.apiVersion}=null!==t&&void 0!==t?t:{};return this._client.delete(Lr(_||(_=y(["/","/interactions/",""])),o,e),n)}cancel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const{api_version:o=this._client.apiVersion}=null!==t&&void 0!==t?t:{};return this._client.post(Lr(E||(E=y(["/","/interactions/","/cancel"])),o,e),n)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;var o;const r=null!==t&&void 0!==t?t:{},{api_version:a=this._client.apiVersion}=r,s=fn(r,["api_version"]);return this._client.get(Lr(x||(x=y(["/","/interactions/",""])),a,e),Object.assign(Object.assign({query:s},n),{stream:null!==(o=null===t||void 0===t?void 0:t.stream)&&void 0!==o&&o}))}}qr._key=Object.freeze(["interactions"]);class Vr extends qr{}let Gr,Hr;function zr(e){let t;return(null!==Gr&&void 0!==Gr?Gr:(t=new globalThis.TextEncoder,Gr=t.encode.bind(t)))(e)}function Br(e){let t;return(null!==Hr&&void 0!==Hr?Hr:(t=new globalThis.TextDecoder,Hr=t.decode.bind(t)))(e)}class $r{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?zr(e):e;this.buffer=function(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let o=0;for(const r of e)n.set(r,o),o+=r.length;return n}([this.buffer,t]);const n=[];let o;for(;null!=(o=Jr(this.buffer,this.carriageReturnIndex));){if(o.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=o.index;continue}if(null!=this.carriageReturnIndex&&(o.index!==this.carriageReturnIndex+1||o.carriage)){n.push(Br(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?o.preceding-1:o.preceding,t=Br(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function Jr(e,t){for(let n=null!==t&&void 0!==t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function Kr(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}$r.NEWLINE_CHARS=new Set(["\n","\r"]),$r.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Wr={off:0,error:200,warn:300,info:400,debug:500},Yr=(e,t,n)=>{var o,r;if(e)return o=Wr,r=e,Object.prototype.hasOwnProperty.call(o,r)?e:void ta(n).warn("".concat(t," was set to ").concat(JSON.stringify(e),", expected one of ").concat(JSON.stringify(Object.keys(Wr))))};function Qr(){}function Xr(e,t,n){return!t||Wr[e]>Wr[n]?Qr:t[e].bind(t)}const Zr={error:Qr,warn:Qr,info:Qr,debug:Qr};let ea=new WeakMap;function ta(e){var t;const n=e.logger,o=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return Zr;const r=ea.get(n);if(r&&r[0]===o)return r[1];const a={error:Xr("error",n,o),warn:Xr("warn",n,o),info:Xr("info",n,o),debug:Xr("debug",n,o)};return ea.set(n,[o,a]),a}const na=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(e=>{let[t,n]=e;return[t,"x-goog-api-key"===t.toLowerCase()||"authorization"===t.toLowerCase()||"cookie"===t.toLowerCase()||"set-cookie"===t.toLowerCase()?"***":n]}))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class oa{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let o=!1;const r=n?ta(n):console;return new oa(function(){return gn(this,arguments,function*(){var n,a,s,i;if(o)throw new sr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let l=!1;try{try{for(var c,u=!0,d=vn(function(e,t){return gn(this,arguments,function*(){var n,o,r,a;if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new sr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new sr("Attempted to iterate over a response with no body")}const s=new ra,i=new $r,l=Or(e.body);try{for(var c,u=!0,d=vn(function(e){return gn(this,arguments,function*(){var t,n,o,r;let a=new Uint8Array;try{for(var s,i=!0,l=vn(e);!(t=(s=yield hn(l.next())).done);i=!0){r=s.value,i=!1;const e=r;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?zr(e):e;let n,o=new Uint8Array(a.length+t.length);for(o.set(a),o.set(t,a.length),a=o;-1!==(n=Kr(a));)yield yield hn(a.slice(0,n)),a=a.slice(n)}}catch(c){n={error:c}}finally{try{i||t||!(o=l.return)||(yield hn(o.call(l)))}finally{if(n)throw n.error}}a.length>0&&(yield yield hn(a))})}(l));!(n=(c=yield hn(d.next())).done);u=!0){a=c.value,u=!1;const e=a;for(const t of i.decode(e)){const e=s.decode(t);e&&(yield yield hn(e))}}}catch(p){o={error:p}}finally{try{u||n||!(r=d.return)||(yield hn(r.call(d)))}finally{if(o)throw o.error}}for(const e of i.flush()){const t=s.decode(e);t&&(yield yield hn(t))}})}(e,t));!(n=(c=yield hn(d.next())).done);u=!0){i=c.value,u=!1;const e=i;if(!l)if(e.data.startsWith("[DONE]"))l=!0;else try{yield yield hn(JSON.parse(e.data))}catch(p){throw r.error("Could not parse message into JSON:",e.data),r.error("From chunk:",e.raw),p}}}catch(f){a={error:f}}finally{try{u||n||!(s=d.return)||(yield hn(s.call(d)))}finally{if(a)throw a.error}}l=!0}catch(p){if(rr(p))return yield hn(void 0);throw p}finally{l||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let o=!1;return new oa(function(){return gn(this,arguments,function*(){var n,r,a,s;if(o)throw new sr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let i=!1;try{try{for(var l,c=!0,u=vn(function(){return gn(this,arguments,function*(){var t,n,o,r;const a=new $r,s=Or(e);try{for(var i,l=!0,c=vn(s);!(t=(i=yield hn(c.next())).done);l=!0){r=i.value,l=!1;const e=r;for(const t of a.decode(e))yield yield hn(t)}}catch(u){n={error:u}}finally{try{l||t||!(o=c.return)||(yield hn(o.call(c)))}finally{if(n)throw n.error}}for(const e of a.flush())yield yield hn(e)})}());!(n=(l=yield hn(u.next())).done);c=!0){s=l.value,c=!1;const e=s;i||e&&(yield yield hn(JSON.parse(e)))}}catch(d){r={error:d}}finally{try{c||n||!(a=u.return)||(yield hn(a.call(u)))}finally{if(r)throw r.error}}i=!0}catch(p){if(rr(p))return yield hn(void 0);throw p}finally{i||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),o=o=>({next:()=>{if(0===o.length){const o=n.next();e.push(o),t.push(o)}return o.shift()}});return[new oa(()=>o(e),this.controller,this.client),new oa(()=>o(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Ir({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:o}=await t.next();if(o)return e.close();const r=zr(JSON.stringify(n)+"\n");e.enqueue(r)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class ra{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,o]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return o.startsWith(" ")&&(o=o.substring(1)),"event"===t?this.event=o:"data"===t&&this.data.push(o),null}}async function aa(e,t){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:a}=t,s=await(async()=>{var o;if(t.options.stream)return ta(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):oa.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const r=n.headers.get("content-type"),a=null===(o=null===r||void 0===r?void 0:r.split(";")[0])||void 0===o?void 0:o.trim();if((null===a||void 0===a?void 0:a.includes("application/json"))||(null===a||void 0===a?void 0:a.endsWith("+json"))){return await n.json()}return await n.text()})();return ta(e).debug("[".concat(o,"] response parsed"),na({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}class sa extends Promise{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aa;super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new sa(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const ia=Symbol("brand.privateNullableHeaders");function*la(e){if(!e)return;if(ia in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():Er(e)?t=e:(n=!0,t=Object.entries(null!==e&&void 0!==e?e:{}));for(let o of t){const e=o[0];if("string"!==typeof e)throw new TypeError("expected header name to be a string");const t=Er(o[1])?o[1]:[o[1]];let r=!1;for(const o of t)void 0!==o&&(n&&!r&&(r=!0,yield[e,null]),yield[e,o])}}const ca=e=>{const t=new Headers,n=new Set;for(const o of e){const e=new Set;for(const[r,a]of la(o)){const o=r.toLowerCase();e.has(o)||(t.delete(r),e.add(o)),null===a?(t.delete(r),n.add(o)):(t.append(r,a),n.delete(o))}}return{[ia]:!0,values:t,nulls:n}},ua=e=>{var t,n,o,r,a,s;return"undefined"!==typeof globalThis.process?null!==(o=null===(n=null===(t=globalThis.process.env)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==o?o:void 0:"undefined"!==typeof globalThis.Deno?null===(s=null===(a=null===(r=globalThis.Deno.env)||void 0===r?void 0:r.get)||void 0===a?void 0:a.call(r,e))||void 0===s?void 0:s.trim():void 0};var da;class pa{constructor(e){var t,n,o,r,a,s,i,{baseURL:l=ua("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(null!==(t=ua("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:u="v1beta"}=e,d=fn(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:c,apiVersion:u},d),{baseURL:l||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:pa.DEFAULT_TIMEOUT,this.logger=null!==(o=p.logger)&&void 0!==o?o:console;const f="warn";this.logLevel=f,this.logLevel=null!==(a=null!==(r=Yr(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==r?r:Yr(ua("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==a?a:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(s=p.maxRetries)&&void 0!==s?s:2,this.fetch=null!==(i=p.fetch)&&void 0!==i?i:function(){if("undefined"!==typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Ar,this._options=p,this.apiKey=c,this.apiVersion=u,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders(e){let{values:t,nulls:n}=e;if(!t.has("authorization")&&!t.has("x-goog-api-key")&&(!this.apiKey||!t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=ca([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?ca([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?ca([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(e=>{let[t,n]=e;return"undefined"!==typeof n}).map(e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n));if(null===n)return"".concat(encodeURIComponent(t),"=");throw new sr("Cannot stringify type ".concat(typeof n,"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case."))}).join("&")}getUserAgent(){return"".concat(this.constructor.name,"/JS ").concat(xr)}defaultIdempotencyKey(){return"stainless-node-retry-".concat(or())}makeStatusError(e,t,n,o){return ir.generate(e,t,n,o)}buildURL(e,t,n){const o=!this.baseURLOverridden()&&n||this.baseURL,r=(e=>br.test(e))(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(a)||(t=Object.assign(Object.assign({},a),t)),"object"===typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith("/".concat(this.apiVersion,"/projects/"))){const t=e.path.slice(this.apiVersion.length+1);e.path="/".concat(this.apiVersion,"/projects/").concat(this.clientAdapter.getProject(),"/locations/").concat(this.clientAdapter.getLocation()).concat(t)}}async prepareRequest(e,t){let{url:n,options:o}=t}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new sa(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var o,r,a;const s=await e,i=null!==(o=s.maxRetries)&&void 0!==o?o:this.maxRetries;null==t&&(t=i),await this.prepareOptions(s);const{req:l,url:c,timeout:u}=await this.buildRequest(s,{retryCount:i-t});await this.prepareRequest(l,{url:c,options:s});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":", retryOf: ".concat(n),f=Date.now();if(ta(this).debug("[".concat(d,"] sending request"),na({retryOfRequestLogID:n,method:s.method,url:c,options:s,headers:l.headers})),null===(r=s.signal)||void 0===r?void 0:r.aborted)throw new lr;const m=new AbortController,h=await this.fetchWithTimeout(c,l,u,m).catch(ar),g=Date.now();if(h instanceof globalThis.Error){const e="retrying, ".concat(t," attempts remaining");if(null===(a=s.signal)||void 0===a?void 0:a.aborted)throw new lr;const o=rr(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(t)return ta(this).info("[".concat(d,"] connection ").concat(o?"timed out":"failed"," - ").concat(e)),ta(this).debug("[".concat(d,"] connection ").concat(o?"timed out":"failed"," (").concat(e,")"),na({retryOfRequestLogID:n,url:c,durationMs:g-f,message:h.message})),this.retryRequest(s,t,null!==n&&void 0!==n?n:d);if(ta(this).info("[".concat(d,"] connection ").concat(o?"timed out":"failed"," - error; no more retries left")),ta(this).debug("[".concat(d,"] connection ").concat(o?"timed out":"failed"," (error; no more retries left)"),na({retryOfRequestLogID:n,url:c,durationMs:g-f,message:h.message})),o)throw new ur;throw new cr({cause:h})}const v="[".concat(d).concat(p,"] ").concat(l.method," ").concat(c," ").concat(h.ok?"succeeded":"failed"," with status ").concat(h.status," in ").concat(g-f,"ms");if(!h.ok){const e=await this.shouldRetry(h);if(t&&e){const e="retrying, ".concat(t," attempts remaining");return await async function(e){var t,n;if(null===e||"object"!==typeof e)return;if(e[Symbol.asyncIterator])return void await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t));const o=e.getReader(),r=o.cancel();o.releaseLock(),await r}(h.body),ta(this).info("".concat(v," - ").concat(e)),ta(this).debug("[".concat(d,"] response error (").concat(e,")"),na({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:g-f})),this.retryRequest(s,t,null!==n&&void 0!==n?n:d,h.headers)}const o=e?"error; no more retries left":"error; not retryable";ta(this).info("".concat(v," - ").concat(o));const r=await h.text().catch(e=>ar(e).message),a=(e=>{try{return JSON.parse(e)}catch(t){return}})(r),i=a?void 0:r;ta(this).debug("[".concat(d,"] response error (").concat(o,")"),na({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,message:i,durationMs:Date.now()-f}));throw this.makeStatusError(h.status,a,i,h.headers)}return ta(this).info(v),ta(this).debug("[".concat(d,"] response start"),na({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:g-f})),{response:h,options:s,controller:m,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,o){const r=t||{},{signal:a,method:s}=r,i=fn(r,["signal","method"]);a&&a.addEventListener("abort",()=>o.abort());const l=setTimeout(()=>o.abort(),n),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"===typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,u=Object.assign(Object.assign(Object.assign({signal:o.signal},c?{duplex:"half"}:{}),{method:"GET"}),i);s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,o){var r;let a;const s=null===o||void 0===o?void 0:o.get("retry-after-ms");if(s){const e=parseFloat(s);Number.isNaN(e)||(a=e)}const i=null===o||void 0===o?void 0:o.get("retry-after");if(i&&!a){const e=parseFloat(i);a=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(a&&0<=a&&a<6e4)){const n=null!==(r=e.maxRetries)&&void 0!==r?r:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(t,n)}var l;return await(l=a,new Promise(e=>setTimeout(e,l))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o,r;const a=Object.assign({},e),{method:s,path:i,query:l,defaultBaseURL:c}=a,u=this.buildURL(i,l,c);"timeout"in a&&((e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new sr("".concat(e," must be an integer"));if(t<0)throw new sr("".concat(e," must be a positive integer"))})("timeout",a.timeout),a.timeout=null!==(n=a.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:a}),f=await this.buildHeaders({options:e,method:s,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:f},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(o=this.fetchOptions)&&void 0!==o?o:{}),null!==(r=a.fetchOptions)&&void 0!==r?r:{}),url:u,timeout:a.timeout}}async buildHeaders(e){let{options:t,method:n,bodyHeaders:o,retryCount:r}=e,a={};this.idempotencyHeader&&"get"!==n&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let i=ca([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),null!==Nr&&void 0!==Nr?Nr:Nr=wr()),this._options.defaultHeaders,o,t.headers,s]);return this.validateHeaders(i),i.values}buildBody(e){let{options:{body:t,headers:n}}=e;if(!t)return{bodyHeaders:void 0,body:void 0};const o=ca([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||"string"===typeof t&&o.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:"object"===typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&"function"===typeof t.next)?{bodyHeaders:void 0,body:Tr(t)}:this.encoder({body:t,headers:o})}}pa.DEFAULT_TIMEOUT=6e4;class fa extends pa{constructor(){super(...arguments),this.interactions=new Vr(this)}}function ma(e,t){const n={},o=O(e,["baseModel"]);null!=o&&T(n,["baseModel"],o);const r=O(e,["preTunedModel"]);null!=r&&T(n,["preTunedModel"],r);const a=O(e,["trainingDataset"]);null!=a&&function(e){const t={};if(void 0!==O(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==O(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=O(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),T(t,["examples","examples"],e)}}(a);const s=O(e,["config"]);return null!=s&&function(e,t){const n={};if(void 0!==O(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=O(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=o&&T(t,["displayName"],o),void 0!==O(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=O(e,["epochCount"]);void 0!==t&&null!=r&&T(t,["tuningTask","hyperparameters","epochCount"],r);const a=O(e,["learningRateMultiplier"]);if(null!=a&&T(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),void 0!==O(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==O(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==O(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const s=O(e,["batchSize"]);void 0!==t&&null!=s&&T(t,["tuningTask","hyperparameters","batchSize"],s);const i=O(e,["learningRate"]);if(void 0!==t&&null!=i&&T(t,["tuningTask","hyperparameters","learningRate"],i),void 0!==O(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==O(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(s,n),n}function ha(e,t){const n={},o=O(e,["baseModel"]);null!=o&&T(n,["baseModel"],o);const r=O(e,["preTunedModel"]);null!=r&&T(n,["preTunedModel"],r);const a=O(e,["trainingDataset"]);null!=a&&function(e,t,n){const o={};let r=O(n,["config","method"]);void 0===r&&(r="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===r){const n=O(e,["gcsUri"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=O(e,["gcsUri"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let a=O(n,["config","method"]);void 0===a&&(a="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===a){const n=O(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===a){const n=O(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==O(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(a,n,t);const s=O(e,["config"]);return null!=s&&function(e,t,n){let o=O(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=O(e,["validationDataset"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec"],_a(n))}else if("PREFERENCE_TUNING"===o){const n=O(e,["validationDataset"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec"],_a(n))}const r=O(e,["tunedModelDisplayName"]);void 0!==t&&null!=r&&T(t,["tunedModelDisplayName"],r);const a=O(e,["description"]);void 0!==t&&null!=a&&T(t,["description"],a);let s=O(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=O(e,["epochCount"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===s){const n=O(e,["epochCount"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let i=O(n,["config","method"]);if(void 0===i&&(i="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===i){const n=O(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===i){const n=O(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let l=O(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=O(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===l){const n=O(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let c=O(n,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){const n=O(e,["adapterSize"]);void 0!==t&&null!=n&&T(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===c){const n=O(e,["adapterSize"]);void 0!==t&&null!=n&&T(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==O(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==O(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const u=O(e,["labels"]);void 0!==t&&null!=u&&T(t,["labels"],u);const d=O(e,["beta"]);void 0!==t&&null!=d&&T(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(s,n,t),n}function ga(e,t){const n={},o=O(e,["config"]);return null!=o&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o);const r=O(e,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(o,n),n}function va(e,t){const n={},o=O(e,["config"]);return null!=o&&function(e,t){const n=O(e,["pageSize"]);void 0!==t&&null!=n&&T(t,["_query","pageSize"],n);const o=O(e,["pageToken"]);void 0!==t&&null!=o&&T(t,["_query","pageToken"],o);const r=O(e,["filter"]);void 0!==t&&null!=r&&T(t,["_query","filter"],r)}(o,n),n}function ya(e,t){const n={},o=O(e,["sdkHttpResponse"]);null!=o&&T(n,["sdkHttpResponse"],o);const r=O(e,["name"]);null!=r&&T(n,["name"],r);const a=O(e,["state"]);null!=a&&T(n,["state"],jt(a));const s=O(e,["createTime"]);null!=s&&T(n,["createTime"],s);const i=O(e,["tuningTask","startTime"]);null!=i&&T(n,["startTime"],i);const l=O(e,["tuningTask","completeTime"]);null!=l&&T(n,["endTime"],l);const c=O(e,["updateTime"]);null!=c&&T(n,["updateTime"],c);const u=O(e,["description"]);null!=u&&T(n,["description"],u);const d=O(e,["baseModel"]);null!=d&&T(n,["baseModel"],d);const p=O(e,["_self"]);return null!=p&&T(n,["tunedModel"],function(e){const t={},n=O(e,["name"]);null!=n&&T(t,["model"],n);const o=O(e,["name"]);return null!=o&&T(t,["endpoint"],o),t}(p)),n}function ba(e,t){const n={},o=O(e,["sdkHttpResponse"]);null!=o&&T(n,["sdkHttpResponse"],o);const r=O(e,["name"]);null!=r&&T(n,["name"],r);const a=O(e,["state"]);null!=a&&T(n,["state"],jt(a));const s=O(e,["createTime"]);null!=s&&T(n,["createTime"],s);const i=O(e,["startTime"]);null!=i&&T(n,["startTime"],i);const l=O(e,["endTime"]);null!=l&&T(n,["endTime"],l);const c=O(e,["updateTime"]);null!=c&&T(n,["updateTime"],c);const u=O(e,["error"]);null!=u&&T(n,["error"],u);const d=O(e,["description"]);null!=d&&T(n,["description"],d);const p=O(e,["baseModel"]);null!=p&&T(n,["baseModel"],p);const f=O(e,["tunedModel"]);null!=f&&T(n,["tunedModel"],f);const m=O(e,["preTunedModel"]);null!=m&&T(n,["preTunedModel"],m);const h=O(e,["supervisedTuningSpec"]);null!=h&&T(n,["supervisedTuningSpec"],h);const g=O(e,["preferenceOptimizationSpec"]);null!=g&&T(n,["preferenceOptimizationSpec"],g);const v=O(e,["tuningDataStats"]);null!=v&&T(n,["tuningDataStats"],v);const y=O(e,["encryptionSpec"]);null!=y&&T(n,["encryptionSpec"],y);const b=O(e,["partnerModelTuningSpec"]);null!=b&&T(n,["partnerModelTuningSpec"],b);const _=O(e,["customBaseModel"]);null!=_&&T(n,["customBaseModel"],_);const E=O(e,["experiment"]);null!=E&&T(n,["experiment"],E);const x=O(e,["labels"]);null!=x&&T(n,["labels"],x);const w=O(e,["outputUri"]);null!=w&&T(n,["outputUri"],w);const S=O(e,["pipelineJob"]);null!=S&&T(n,["pipelineJob"],S);const C=O(e,["serviceAccount"]);null!=C&&T(n,["serviceAccount"],C);const N=O(e,["tunedModelDisplayName"]);null!=N&&T(n,["tunedModelDisplayName"],N);const I=O(e,["veoTuningSpec"]);return null!=I&&T(n,["veoTuningSpec"],I),n}function _a(e,t){const n={},o=O(e,["gcsUri"]);null!=o&&T(n,["validationDatasetUri"],o);const r=O(e,["vertexDatasetResource"]);return null!=r&&T(n,["validationDatasetUri"],r),n}da=fa,fa.GeminiNextGenAPIClient=da,fa.GeminiNextGenAPIClientError=sr,fa.APIError=ir,fa.APIConnectionError=cr,fa.APIConnectionTimeoutError=ur,fa.APIUserAbortError=lr,fa.NotFoundError=mr,fa.ConflictError=hr,fa.RateLimitError=vr,fa.BadRequestError=dr,fa.AuthenticationError=pr,fa.InternalServerError=yr,fa.PermissionDeniedError=fr,fa.UnprocessableEntityError=gr,fa.toFile=async function(e,t,n){if(Rr(),(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&kr(e))(e=await e))return e instanceof File?e:Pr([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob)(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Pr(await jr(o),t,n)}const o=await jr(e);if(t||(t=function(e){return("object"===typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null===n||void 0===n?void 0:n.type)){const e=o.find(e=>"object"===typeof e&&"type"in e&&e.type);"string"===typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Pr(o,t,n)},fa.Interactions=Vr;class Ea extends N{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new nn(Ue.PAGED_ITEM_TUNING_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},e),{preTunedModel:n});return o.baseModel=void 0,await this.tuneInternal(o)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let o="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?o=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(o=n.name.split("/operations/")[0]);return{name:o,state:ie.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return s=I("{name}",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>ba(e))}{const t=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return s=I("{name}",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>ya(e))}}async listInternal(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=va(e);return s=I("tuningJobs",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["tuningJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ba(e))),T(t,["tuningJobs"],e)}return t}(e),n=new Xe;return Object.assign(n,t),n})}{const t=ga(e);return s=I("tunedModels",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["nextPageToken"]);null!=o&&T(t,["nextPageToken"],o);const r=O(e,["tunedModels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ya(e))),T(t,["tuningJobs"],e)}return t}(e),n=new Xe;return Object.assign(n,t),n})}}async cancel(e){var t,n,o,r;let a,s="",i={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return s=I("{name}:cancel",o._url),i=o._query,delete o._url,delete o._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new Ze;return Object.assign(n,t),n})}{const t=function(e){const t={},n=O(e,["name"]);return null!=n&&T(t,["_url","name"],n),t}(e);return s=I("{name}:cancel",t._url),i=t._query,delete t._url,delete t._query,a=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),a.then(e=>{const t=function(e){const t={},n=O(e,["sdkHttpResponse"]);return null!=n&&T(t,["sdkHttpResponse"],n),t}(e),n=new Ze;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI()){const s=ha(e,e);return r=I("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>ba(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let o,r="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ma(e);return r=I("tunedModels",s._url),a=s._query,delete s._url,delete s._query,o=this.apiClient.request({path:r,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=O(e,["sdkHttpResponse"]);null!=n&&T(t,["sdkHttpResponse"],n);const o=O(e,["name"]);null!=o&&T(t,["name"],o);const r=O(e,["metadata"]);null!=r&&T(t,["metadata"],r);const a=O(e,["done"]);null!=a&&T(t,["done"],a);const s=O(e,["error"]);return null!=s&&T(t,["error"],s),t}(e))}}}class xa{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wa="x-goog-upload-status";async function Sa(e,t,n){var o,r;let a=0,s=0,i=new Le(new Response),l="upload";for(a=e.size;s<a;){const c=Math.min(8388608,a-s),u=e.slice(s,s+c);s+c>=a&&(l+=", finalize");let d=0,p=1e3;for(;d<3&&(i=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(null===(o=null===i||void 0===i?void 0:i.headers)||void 0===o?void 0:o[wa]));)d++,await Ca(p),p*=2;if(s+=c,"active"!==(null===(r=null===i||void 0===i?void 0:i.headers)||void 0===r?void 0:r[wa]))break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return i}function Ca(e){return new Promise(t=>setTimeout(t,e))}class Na{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var o;const r=await Sa(e,t,n),a=await(null===r||void 0===r?void 0:r.json());if("final"!==(null===(o=null===r||void 0===r?void 0:r.headers)||void 0===o?void 0:o[wa]))throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var o;const r=await Sa(e,t,n),a=await(null===r||void 0===r?void 0:r.json());if("final"!==(null===(o=null===r||void 0===r?void 0:r.headers)||void 0===o?void 0:o[wa]))throw new Error("Failed to upload file: Upload status is not finalized.");const s=D(a),i=new pt;return Object.assign(i,s),i}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Ia{create(e,t,n){return new Ta(e,t,n)}}class Ta{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Oa="x-goog-api-key";class Aa{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Oa)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Oa,this.apiKey)}}}class Ra{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;(null===e||void 0===e?void 0:e.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new fa({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null===e||void 0===e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=C(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new Aa(this.apiKey);this.apiClient=new Ao({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new Na,downloader:new xa}),this.models=new Jo(this.apiClient),this.live=new qo(this.apiClient,o,new Ia),this.batches=new on(this.apiClient),this.chats=new En(this.models,this.apiClient),this.caches=new pn(this.apiClient),this.files=new Cn(this.apiClient),this.operations=new Ko(this.apiClient),this.authTokens=new Xo(this.apiClient),this.tunings=new Ea(this.apiClient),this.fileSearchStores=new nr(this.apiClient)}}const Pa=e=>{if(!e)return"";return String(e).replace(/\D/g,"")},ka=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(t){const e=t[1].padStart(2,"0"),n=t[2].padStart(2,"0"),o=t[3];return"".concat(o,"-").concat(n,"-").concat(e)}return e},ja=e=>{if("number"===typeof e)return e;if(!e)return 0;let t=String(e);t.includes(",")&&!t.includes("US")&&(t=t.replace(/\./g,"").replace(",",".")),t=t.replace(/[^\d.-]/g,"");const n=parseFloat(t);return isNaN(n)?0:n};function Da(e){if(Array.isArray(e))return e.map(e=>Da(e));if("object"===typeof e&&null!==e){const t={};for(const n in e){const o=e[n];n.includes("cpf")||n.includes("cnpj")||n.includes("documento_numero")?t[n]=Pa(o):n.includes("data")||"vigencia_data_inicial"===n||"vigencia_data_final"===n?t[n]=ka(o):n.includes("valor")||n.includes("saldo")||n.includes("remuneracao")||n.includes("montante")?t[n]=ja(o):t[n]="object"===typeof o?Da(o):o}return t}return e}const Ma=new Ra({apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY});const Fa=t=>{let{section:n,onDataExtracted:o}=t;const[r,a]=(0,e.useState)(!1),[s,i]=(0,e.useState)(null);return(0,g.jsxs)("div",{className:"mb-6 p-4 bg-indigo-50 border border-indigo-200 rounded-lg shadow-sm",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("h3",{className:"text-sm font-bold text-indigo-800 flex items-center gap-2",children:[(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"OCR Inteligente (Gemini 2.0)"]}),(0,g.jsxs)("p",{className:"text-xs text-indigo-600 mt-1",children:["Extra\xe7\xe3o autom\xe1tica para se\xe7\xe3o: ",(0,g.jsx)("strong",{children:n})]})]}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("input",{type:"file",accept:"image/*,application/pdf",onChange:async e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];a(!0),i(null);const r=new FileReader;r.onloadend=async()=>{try{const e=r.result.split(",")[1],a=t.type,l=await async function(e,t,n){let o="Analyze this document for Audesp Phase V. Extract data strictly to JSON. Dates YYYY-MM-DD. Numbers as floats.",r=L.OBJECT,a={};switch(n){case"documentos_fiscais":o+=" Extract invoices (Notas Fiscais).",a={documentos_fiscais:{type:L.ARRAY,items:{type:L.OBJECT,properties:{numero:{type:L.STRING},data_emissao:{type:L.STRING},valor_bruto:{type:L.NUMBER},credor:{type:L.OBJECT,properties:{documento_numero:{type:L.STRING},nome:{type:L.STRING}}},descricao:{type:L.STRING}}}}};break;case"contratos":o+=" Extract contracts.",a={contratos:{type:L.ARRAY,items:{type:L.OBJECT,properties:{numero:{type:L.STRING},data_assinatura:{type:L.STRING},valor_montante:{type:L.NUMBER},objeto:{type:L.STRING},credor:{type:L.OBJECT,properties:{documento_numero:{type:L.STRING},nome:{type:L.STRING}}}}}}};break;case"pagamentos":o+=" Extract payments (comprovantes, extratos).",a={pagamentos:{type:L.ARRAY,items:{type:L.OBJECT,properties:{pagamento_data:{type:L.STRING},pagamento_valor:{type:L.NUMBER},identificacao_documento_fiscal:{type:L.OBJECT,properties:{numero:{type:L.STRING}}}}}}};break;case"empenhos":o+=" Extract commitments (Empenhos).",a={empenhos:{type:L.ARRAY,items:{type:L.OBJECT,properties:{numero:{type:L.STRING},data_emissao:{type:L.STRING},valor:{type:L.NUMBER},historico:{type:L.STRING}}}}};break;case"relacao_empregados":o+=" Extract payroll (Folha de Pagamento).",a={relacao_empregados:{type:L.ARRAY,items:{type:L.OBJECT,properties:{cpf:{type:L.STRING},data_admissao:{type:L.STRING},salario_contratual:{type:L.NUMBER},cbo:{type:L.STRING}}}}};break;default:o+=" Extract key fields.",a={info:{type:L.STRING}}}try{const n=await Ma.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}},{text:o}]},config:{responseMimeType:"application/json",responseSchema:{type:r,properties:a}}});return n.text?Da(JSON.parse(n.text)):null}catch(s){throw console.error("OCR Service Error:",s),s}}(e,a,n);l?o(l):i("OCR: N\xe3o foi poss\xedvel identificar dados estruturados neste documento.")}catch(e){i("Erro no processamento IA. Verifique conex\xe3o ou tente outro arquivo."),console.error(e)}finally{a(!1)}},r.readAsDataURL(t)}},disabled:r,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,g.jsx)("button",{disabled:r,className:"px-4 py-2 rounded text-sm font-medium shadow transition-colors ".concat(r?"bg-indigo-300":"bg-indigo-600 hover:bg-indigo-700"," text-white"),children:r?"Lendo Documento...":"Upload PDF/Imagem"})]})]}),s&&(0,g.jsx)("p",{className:"text-red-600 text-xs mt-2 font-medium",children:s})]})},Ua="w-full h-10 px-3 rounded-md border border-slate-300 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-all placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-500",La="w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-colors",qa="block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider",Va="bg-white p-6 rounded-lg shadow-sm border border-slate-200 mb-6 animate-in fade-in slide-in-from-bottom-2 duration-500",Ga="h-9 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium shadow-sm transition-colors flex items-center gap-2 cursor-pointer",Ha="text-red-500 hover:text-red-700 text-xs font-bold uppercase tracking-wide transition-colors px-2 py-1 rounded hover:bg-red-50 cursor-pointer",za="h-7 px-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded text-xs font-bold",Ba="text-xl font-bold text-slate-800",$a="flex justify-between items-center mb-6 pb-4 border-b border-slate-100",Ja="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",Ka="flex items-center gap-3",Wa=e=>{let{title:t,children:n}=e;return(0,g.jsxs)("div",{className:$a,children:[(0,g.jsx)("h2",{className:Ba,children:t}),(0,g.jsx)("div",{className:"flex gap-2",children:n})]})},Ya=e=>{let{label:t,error:n,children:o}=e;return(0,g.jsxs)("div",{className:"mb-1",children:[(0,g.jsx)("label",{className:qa,children:t}),o,n&&(0,g.jsx)("div",{className:"text-red-600 text-[10px] font-bold uppercase mt-1 animate-pulse",children:n})]})};function Qa(e){let{title:t,items:n,newItemTemplate:o,onAdd:r,onRemove:a,onUpdate:s,renderItem:l,ocrSection:c,onOcrData:u}=e;return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(Wa,{title:t,children:(0,g.jsx)("button",{onClick:()=>r(o),className:Ga,children:"+ Adicionar Item"})}),c&&(0,g.jsx)(Fa,{section:c,onDataExtracted:e=>{e&&("relacao_empregados"===c&&e.empregados&&Array.isArray(e.empregados)?e.empregados.forEach(e=>r(e)):u?u(e):r(i(i({},o),e)))}}),n&&n.length>0?n.map((e,t)=>(0,g.jsxs)("div",{className:Va+" relative border-l-4 border-l-slate-400",children:[(0,g.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,g.jsx)("button",{onClick:()=>a(t),className:Ha,children:"\ud83d\uddd1 Remover"})}),(0,g.jsx)("div",{className:"pt-2",children:l(e,t,(e,n)=>s(t,e,n))})]},t)):(0,g.jsx)("div",{className:"text-center p-8 border-2 border-dashed border-slate-200 rounded-lg bg-slate-50",children:(0,g.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Nenhum registro adicionado."})})]})}const Xa=e=>{let{label:t,value:n,onChange:o,type:r="text",error:a,options:s}=e;return(0,g.jsx)(Ya,{label:t,error:a,children:s?(0,g.jsx)("select",{className:Ua,value:n,onChange:e=>o(e.target.value),children:s.map(e=>(0,g.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,g.jsx)("input",{type:r,className:Ua,value:n,onChange:e=>o("number"===r?Number(e.target.value):e.target.value),step:"number"===r?"0.01":void 0})})},Za=e=>(e||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),es=e=>{if(!e)return"-";const[t,n,o]=e.split("-");return"".concat(o,"/").concat(n,"/").concat(t)},ts=e=>{var t,n,o,r,a,s;let{data:i,onDownloadJson:l}=e;const c=(null===(t=i.relacao_empregados)||void 0===t?void 0:t.reduce((e,t)=>{var n;return e+((null===(n=t.periodos_remuneracao)||void 0===n?void 0:n.reduce((e,t)=>e+t.remuneracao_bruta,0))||0)},0))||0,u=(null===(n=i.contratos)||void 0===n?void 0:n.reduce((e,t)=>e+t.valor_montante,0))||0,d=(null===(o=i.documentos_fiscais)||void 0===o?void 0:o.reduce((e,t)=>e+t.valor_bruto,0))||0,p=(null===(r=i.pagamentos)||void 0===r?void 0:r.reduce((e,t)=>e+t.pagamento_valor,0))||0,f=(null===(a=i.receitas)||void 0===a||null===(s=a.repasses_recebidos)||void 0===s?void 0:s.reduce((e,t)=>e+t.valor,0))||0;return(0,g.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden animate-in fade-in duration-500 max-w-5xl mx-auto border border-slate-200 print:shadow-none print:border-none",children:[(0,g.jsxs)("div",{className:"bg-slate-800 text-white p-6 flex justify-between items-center print:hidden",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-bold",children:"Relat\xf3rio de Confer\xeancia"}),(0,g.jsx)("p",{className:"text-xs text-slate-400",children:"Espelho da Presta\xe7\xe3o de Contas - Audesp Fase V"})]}),(0,g.jsxs)("div",{className:"flex gap-3",children:[(0,g.jsx)("button",{onClick:()=>window.print(),className:"bg-slate-600 hover:bg-slate-500 px-4 py-2 rounded text-sm font-bold transition-colors",children:"\ud83d\udda8\ufe0f Imprimir"}),(0,g.jsx)("button",{onClick:l,className:Ga,children:"\u2b07\ufe0f Baixar JSON"})]})]}),(0,g.jsxs)("div",{className:"p-8 print:p-0 font-serif text-slate-900 space-y-8",children:[(0,g.jsxs)("div",{className:"text-center border-b-2 border-slate-800 pb-6",children:[(0,g.jsx)("h1",{className:"text-2xl font-bold uppercase tracking-wide",children:"Presta\xe7\xe3o de Contas"}),(0,g.jsx)("h3",{className:"text-lg font-semibold",children:i.descritor.tipo_documento}),(0,g.jsxs)("div",{className:"mt-4 flex justify-center gap-8 text-sm",children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("strong",{children:"Entidade:"})," ",i.descritor.entidade]}),(0,g.jsxs)("span",{children:[(0,g.jsx)("strong",{children:"Munic\xedpio:"})," ",i.descritor.municipio]}),(0,g.jsxs)("span",{children:[(0,g.jsx)("strong",{children:"Compet\xeancia:"})," ",i.descritor.mes,"/",i.descritor.ano]}),(0,g.jsxs)("span",{children:[(0,g.jsx)("strong",{children:"C\xf3digo Ajuste:"})," ",i.codigo_ajuste||"N/A"]})]})]}),(0,g.jsxs)("section",{children:[(0,g.jsx)("h4",{className:"bg-slate-100 p-2 font-bold uppercase text-sm border-l-4 border-slate-800 mb-4",children:"1. Resumo Financeiro"}),(0,g.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,g.jsxs)("div",{className:"p-3 border rounded",children:[(0,g.jsx)("span",{className:"block text-xs uppercase text-slate-500",children:"Repasses Recebidos"}),(0,g.jsx)("span",{className:"block font-bold text-lg",children:Za(f)})]}),(0,g.jsxs)("div",{className:"p-3 border rounded",children:[(0,g.jsx)("span",{className:"block text-xs uppercase text-slate-500",children:"Total Contratado"}),(0,g.jsx)("span",{className:"block font-bold text-lg",children:Za(u)})]}),(0,g.jsxs)("div",{className:"p-3 border rounded",children:[(0,g.jsx)("span",{className:"block text-xs uppercase text-slate-500",children:"Notas Fiscais"}),(0,g.jsx)("span",{className:"block font-bold text-lg",children:Za(d)})]}),(0,g.jsxs)("div",{className:"p-3 border rounded",children:[(0,g.jsx)("span",{className:"block text-xs uppercase text-slate-500",children:"Pagamentos Efetuados"}),(0,g.jsx)("span",{className:"block font-bold text-lg",children:Za(p)})]})]})]}),(0,g.jsxs)("section",{children:[(0,g.jsxs)("h4",{className:"bg-slate-100 p-2 font-bold uppercase text-sm border-l-4 border-slate-800 mb-2 flex justify-between",children:[(0,g.jsx)("span",{children:"2. Rela\xe7\xe3o de Empregados"}),(0,g.jsxs)("span",{className:"text-xs font-normal",children:["Total Folha: ",Za(c)]})]}),i.relacao_empregados&&i.relacao_empregados.length>0?(0,g.jsxs)("table",{className:"w-full text-xs text-left",children:[(0,g.jsx)("thead",{className:"bg-slate-50 border-b",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2",children:"CPF"}),(0,g.jsx)("th",{className:"p-2",children:"Admiss\xe3o"}),(0,g.jsx)("th",{className:"p-2",children:"CBO"}),(0,g.jsx)("th",{className:"p-2",children:"Sal\xe1rio Contratual"}),(0,g.jsx)("th",{className:"p-2",children:"Per\xedodos (M\xeas/Valor)"})]})}),(0,g.jsx)("tbody",{children:i.relacao_empregados.map((e,t)=>{var n,o;return(0,g.jsxs)("tr",{className:"border-b hover:bg-slate-50",children:[(0,g.jsx)("td",{className:"p-2",children:(o=e.cpf,o||"-")}),(0,g.jsx)("td",{className:"p-2",children:es(e.data_admissao)}),(0,g.jsx)("td",{className:"p-2",children:e.cbo}),(0,g.jsx)("td",{className:"p-2",children:Za(e.salario_contratual)}),(0,g.jsx)("td",{className:"p-2",children:null===(n=e.periodos_remuneracao)||void 0===n?void 0:n.map((e,t)=>(0,g.jsxs)("div",{children:["M\xeas ",e.mes,": ",Za(e.remuneracao_bruta)]},t))})]},t)})})]}):(0,g.jsx)("p",{className:"text-xs text-slate-500 italic p-2",children:"Nenhum registro."})]}),(0,g.jsxs)("section",{children:[(0,g.jsx)("h4",{className:"bg-slate-100 p-2 font-bold uppercase text-sm border-l-4 border-slate-800 mb-2",children:"3. Documentos Fiscais"}),i.documentos_fiscais&&i.documentos_fiscais.length>0?(0,g.jsxs)("table",{className:"w-full text-xs text-left",children:[(0,g.jsx)("thead",{className:"bg-slate-50 border-b",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2",children:"N\xfamero"}),(0,g.jsx)("th",{className:"p-2",children:"Emiss\xe3o"}),(0,g.jsx)("th",{className:"p-2",children:"Credor"}),(0,g.jsx)("th",{className:"p-2",children:"Descri\xe7\xe3o"}),(0,g.jsx)("th",{className:"p-2 text-right",children:"Valor"})]})}),(0,g.jsx)("tbody",{children:i.documentos_fiscais.map((e,t)=>{var n,o;return(0,g.jsxs)("tr",{className:"border-b hover:bg-slate-50",children:[(0,g.jsx)("td",{className:"p-2 font-bold",children:e.numero}),(0,g.jsx)("td",{className:"p-2",children:es(e.data_emissao)}),(0,g.jsxs)("td",{className:"p-2",children:[null===(n=e.credor)||void 0===n?void 0:n.nome," ",(0,g.jsx)("br",{}),(0,g.jsx)("span",{className:"text-[10px] text-slate-500",children:null===(o=e.credor)||void 0===o?void 0:o.documento_numero})]}),(0,g.jsx)("td",{className:"p-2 max-w-[200px] truncate",children:e.descricao}),(0,g.jsx)("td",{className:"p-2 text-right font-mono",children:Za(e.valor_bruto)})]},t)})})]}):(0,g.jsx)("p",{className:"text-xs text-slate-500 italic p-2",children:"Nenhum registro."})]}),(0,g.jsxs)("section",{children:[(0,g.jsx)("h4",{className:"bg-slate-100 p-2 font-bold uppercase text-sm border-l-4 border-slate-800 mb-2",children:"4. Pagamentos"}),i.pagamentos&&i.pagamentos.length>0?(0,g.jsxs)("table",{className:"w-full text-xs text-left",children:[(0,g.jsx)("thead",{className:"bg-slate-50 border-b",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2",children:"Data"}),(0,g.jsx)("th",{className:"p-2",children:"NF Vinculada"}),(0,g.jsx)("th",{className:"p-2",children:"Meio Pgto"}),(0,g.jsx)("th",{className:"p-2 text-right",children:"Valor Pago"})]})}),(0,g.jsx)("tbody",{children:i.pagamentos.map((e,t)=>{var n;return(0,g.jsxs)("tr",{className:"border-b hover:bg-slate-50",children:[(0,g.jsx)("td",{className:"p-2",children:es(e.pagamento_data)}),(0,g.jsx)("td",{className:"p-2",children:(null===(n=e.identificacao_documento_fiscal)||void 0===n?void 0:n.numero)||"N/A"}),(0,g.jsxs)("td",{className:"p-2",children:[1===e.meio_pagamento_tipo?"Cheque":2===e.meio_pagamento_tipo?"Transf/Pix":"Esp\xe9cie",e.numero_transacao&&(0,g.jsxs)("span",{className:"block text-[10px] text-slate-500",children:["Tx: ",e.numero_transacao]})]}),(0,g.jsx)("td",{className:"p-2 text-right font-mono",children:Za(e.pagamento_valor)})]},t)})})]}):(0,g.jsx)("p",{className:"text-xs text-slate-500 italic p-2",children:"Nenhum registro."})]}),(0,g.jsx)("section",{className:"mt-12 pt-8 border-t break-inside-avoid",children:(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-16",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"border-b border-black mb-2 h-8"}),(0,g.jsx)("p",{className:"font-bold text-sm",children:"Respons\xe1vel Legal"}),(0,g.jsx)("p",{className:"text-xs text-slate-500",children:"Assinatura"})]}),(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"border-b border-black mb-2 h-8"}),(0,g.jsx)("p",{className:"font-bold text-sm",children:"Contador Respons\xe1vel"}),(0,g.jsx)("p",{className:"text-xs text-slate-500",children:"CRC/Assinatura"})]})]})}),(0,g.jsxs)("div",{className:"text-[10px] text-slate-400 text-center mt-8",children:["Gerado via Audesp Connect Phase V \u2022 ",(new Date).toLocaleString()]})]})]})},ns=e=>{let{data:t,updateField:n}=e;return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"1. Descritor da Presta\xe7\xe3o"}),(0,g.jsx)(Xa,{label:"Tipo de Documento",value:t.descritor.tipo_documento,onChange:e=>n("descritor.tipo_documento",e),options:[{value:"Presta\xe7\xe3o de Contas de Conv\xeanio",label:"Presta\xe7\xe3o de Contas de Conv\xeanio"},{value:"Presta\xe7\xe3o de Contas de Contrato de Gest\xe3o",label:"Presta\xe7\xe3o de Contas de Contrato de Gest\xe3o"},{value:"Presta\xe7\xe3o de Contas de Termo de Parceria",label:"Presta\xe7\xe3o de Contas de Termo de Parceria"},{value:"Presta\xe7\xe3o de Contas de Termo de Fomento",label:"Presta\xe7\xe3o de Contas de Termo de Fomento"},{value:"Presta\xe7\xe3o de Contas de Termo de Colabora\xe7\xe3o",label:"Presta\xe7\xe3o de Contas de Termo de Colabora\xe7\xe3o"},{value:"Declara\xe7\xe3o Negativa",label:"Declara\xe7\xe3o Negativa"}]}),(0,g.jsxs)("div",{className:Ja+" mt-4",children:[(0,g.jsx)(Xa,{label:"Munic\xedpio (C\xf3digo IBGE)",type:"number",value:t.descritor.municipio,onChange:e=>n("descritor.municipio",e)}),(0,g.jsx)(Xa,{label:"Entidade (C\xf3digo TCESP)",type:"number",value:t.descritor.entidade,onChange:e=>n("descritor.entidade",e)}),(0,g.jsx)(Xa,{label:"Ano de Refer\xeancia",type:"number",value:t.descritor.ano,onChange:e=>n("descritor.ano",e)}),(0,g.jsx)(Xa,{label:"M\xeas de Refer\xeancia",type:"number",value:t.descritor.mes,onChange:e=>n("descritor.mes",e)})]}),(0,g.jsx)("p",{className:"mt-4 text-xs text-slate-500 italic bg-blue-50 p-2 rounded",children:"Certifique-se de que o C\xf3digo da Entidade e o Munic\xedpio correspondam exatamente ao seu cadastro no TCESP para evitar rejei\xe7\xe3o do lote."})]})},os=e=>{let{data:t,updateField:n}=e;return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"2. C\xf3digo do Ajuste"}),(0,g.jsx)("div",{className:"max-w-md",children:(0,g.jsx)(Xa,{label:"C\xf3digo do Ajuste (Fornecido pelo Tribunal)",value:t.codigo_ajuste,onChange:e=>n("codigo_ajuste",e)})}),(0,g.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Este c\xf3digo identifica unicamente o Conv\xeanio/Parceria no sistema Audesp."})]})},rs=e=>{let{data:t,updateField:n}=e;return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"3. Retifica\xe7\xe3o"}),(0,g.jsxs)("div",{className:"bg-orange-50 p-4 rounded border border-orange-200 flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:t.retificacao,onChange:e=>n("retificacao",e.target.checked)}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"font-bold text-slate-800 text-sm",children:"Este envio \xe9 uma RETIFICA\xc7\xc3O?"}),(0,g.jsx)("p",{className:"text-xs text-slate-500",children:"Marque apenas se voc\xea j\xe1 enviou uma presta\xe7\xe3o para este m\xeas e deseja corrigir dados."})]})]})]})},as=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"6. Contratos",items:t.contratos||[],newItemTemplate:{numero:"",credor:{documento_numero:"",nome:"",documento_tipo:2},valor_montante:0,data_assinatura:"",objeto:"",natureza_contratacao:[],criterio_selecao:1,valor_tipo:2,vigencia_tipo:1,vigencia_data_inicial:""},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"contratos",renderItem:(e,t,n)=>{var o,r;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,g.jsx)(Xa,{label:"N\xfamero Contrato",value:e.numero,onChange:e=>n("numero",e)}),(0,g.jsx)(Xa,{label:"Data Assinatura",type:"date",value:e.data_assinatura,onChange:e=>n("data_assinatura",e)}),(0,g.jsx)(Xa,{label:"Vig\xeancia Inicial",type:"date",value:e.vigencia_data_inicial,onChange:e=>n("vigencia_data_inicial",e)}),(0,g.jsx)(Xa,{label:"Valor Global (R$)",type:"number",value:e.valor_montante,onChange:e=>n("valor_montante",e)}),(0,g.jsx)("div",{className:"col-span-2",children:(0,g.jsx)(Xa,{label:"Objeto",value:e.objeto,onChange:e=>n("objeto",e)})}),(0,g.jsxs)("div",{className:"col-span-2 p-3 bg-blue-50/50 border border-blue-100 rounded",children:[(0,g.jsx)("h4",{className:"text-[10px] font-bold uppercase text-blue-800 mb-2",children:"Credor"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsx)(Xa,{label:"CNPJ/CPF",value:null===(o=e.credor)||void 0===o?void 0:o.documento_numero,onChange:e=>n("credor.documento_numero",e)}),(0,g.jsx)(Xa,{label:"Nome/Raz\xe3o Social",value:null===(r=e.credor)||void 0===r?void 0:r.nome,onChange:e=>n("credor.nome",e)})]})]})]})}})},ss=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r,fullData:a}=e;const s=a.contratos||[];return(0,g.jsx)(Qa,{title:"7. Documentos Fiscais",items:t.documentos_fiscais||[],newItemTemplate:{numero:"",data_emissao:"",valor_bruto:0,credor:{documento_numero:"",documento_tipo:2},descricao:"",estado_emissor:35,categoria_despesas_tipo:1,rateio_proveniente_tipo:2},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"documentos_fiscais",renderItem:(e,t,n)=>{var o,r,a;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"N\xfamero Nota/Recibo",value:e.numero,onChange:e=>n("numero",e)}),(0,g.jsx)(Xa,{label:"Data Emiss\xe3o",type:"date",value:e.data_emissao,onChange:e=>n("data_emissao",e)}),(0,g.jsx)(Xa,{label:"Valor Bruto (R$)",type:"number",value:e.valor_bruto,onChange:e=>n("valor_bruto",e)}),(0,g.jsx)("div",{className:"col-span-3 bg-amber-50 p-3 rounded border border-amber-100",children:(0,g.jsx)(Ya,{label:"Vincular a Contrato Existente",children:(0,g.jsxs)("select",{className:Ua,value:(null===(o=e.identificacao_contrato)||void 0===o?void 0:o.numero)||"",onChange:t=>{const o=t.target.value,r=s.find(e=>e.numero===o);var a;r?(n("identificacao_contrato",{numero:o,data_assinatura:r.data_assinatura,identificacao_credor:r.credor}),null!==(a=e.credor)&&void 0!==a&&a.documento_numero||n("credor",r.credor)):n("identificacao_contrato",void 0)},children:[(0,g.jsx)("option",{value:"",children:"-- Sem V\xednculo Contratual --"}),s.map(e=>(0,g.jsxs)("option",{value:e.numero,children:["Contrato ",e.numero," - ",e.credor.nome]},e.numero))]})})}),(0,g.jsxs)("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[(0,g.jsx)(Xa,{label:"CNPJ/CPF Emitente",value:null===(r=e.credor)||void 0===r?void 0:r.documento_numero,onChange:e=>n("credor.documento_numero",e)}),(0,g.jsx)(Xa,{label:"Nome Emitente",value:null===(a=e.credor)||void 0===a?void 0:a.nome,onChange:e=>n("credor.nome",e)})]})]})}})},is=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r,fullData:a}=e;const s=a.documentos_fiscais||[];return(0,g.jsx)(Qa,{title:"8. Pagamentos",items:t.pagamentos||[],newItemTemplate:{identificacao_documento_fiscal:{numero:"",identificacao_credor:{documento_numero:"",documento_tipo:2}},pagamento_data:"",pagamento_valor:0,fonte_recurso_tipo:1,meio_pagamento_tipo:2},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"pagamentos",renderItem:(e,t,n)=>{var o;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)("div",{className:"col-span-3 bg-emerald-50 p-3 rounded border border-emerald-100",children:(0,g.jsx)(Ya,{label:"Vincular Documento Fiscal (Nota)",children:(0,g.jsxs)("select",{className:Ua,value:null===(o=e.identificacao_documento_fiscal)||void 0===o?void 0:o.numero,onChange:t=>{const o=t.target.value,r=s.find(e=>e.numero===o);n("identificacao_documento_fiscal.numero",o),r&&(n("identificacao_documento_fiscal.identificacao_credor",r.credor),0===e.pagamento_valor&&n("pagamento_valor",r.valor_bruto))},children:[(0,g.jsx)("option",{value:"",children:"-- Selecione Nota --"}),s.map(e=>(0,g.jsxs)("option",{value:e.numero,children:["NF ",e.numero," (",e.credor.nome,") - R$",e.valor_bruto]},e.numero))]})})}),(0,g.jsx)(Xa,{label:"Data Pagamento",type:"date",value:e.pagamento_data,onChange:e=>n("pagamento_data",e)}),(0,g.jsx)(Xa,{label:"Valor Pago (R$)",type:"number",value:e.pagamento_valor,onChange:e=>n("pagamento_valor",e)}),(0,g.jsx)(Xa,{label:"Meio Pagamento",value:e.meio_pagamento_tipo,onChange:e=>n("meio_pagamento_tipo",Number(e)),options:[{value:1,label:"Cheque"},{value:2,label:"Transfer\xeancia/DOC/TED/Pix"},{value:3,label:"Esp\xe9cie"}]}),2===e.meio_pagamento_tipo&&(0,g.jsx)(Xa,{label:"ID Transa\xe7\xe3o / Autentica\xe7\xe3o",value:e.numero_transacao,onChange:e=>n("numero_transacao",e)})]})}})},ls=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"4. Rela\xe7\xe3o de Empregados",items:t.relacao_empregados||[],newItemTemplate:{cpf:"",data_admissao:"",salario_contratual:0,cbo:"",cns:"",data_demissao:"",periodos_remuneracao:[]},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"relacao_empregados",renderItem:(e,t,n)=>{var o;return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,g.jsx)(Xa,{label:"CPF",value:e.cpf,onChange:e=>n("cpf",e)}),(0,g.jsx)(Xa,{label:"Data Admiss\xe3o",type:"date",value:e.data_admissao,onChange:e=>n("data_admissao",e)}),(0,g.jsx)(Xa,{label:"Data Demiss\xe3o",type:"date",value:e.data_demissao||"",onChange:e=>n("data_demissao",e)}),(0,g.jsx)(Xa,{label:"CBO",value:e.cbo,onChange:e=>n("cbo",e)}),(0,g.jsx)(Xa,{label:"CNS (Cart\xe3o SUS)",value:e.cns||"",onChange:e=>n("cns",e)}),(0,g.jsx)(Xa,{label:"Sal\xe1rio Contratual",type:"number",value:e.salario_contratual,onChange:e=>n("salario_contratual",e)})]}),(0,g.jsxs)("div",{className:"bg-slate-50 p-3 rounded border border-slate-200",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,g.jsx)("h5",{className:"text-xs font-bold uppercase text-slate-500",children:"Holerites / Remunera\xe7\xf5es"}),(0,g.jsx)("button",{onClick:()=>{const t=[...e.periodos_remuneracao||[],{mes:1,carga_horaria:160,remuneracao_bruta:e.salario_contratual}];n("periodos_remuneracao",t)},className:"text-[10px] text-blue-600 font-bold hover:underline",children:"+ Adicionar Per\xedodo"})]}),null===(o=e.periodos_remuneracao)||void 0===o?void 0:o.map((t,o)=>(0,g.jsxs)("div",{className:"flex gap-2 items-end mb-2 border-b border-slate-100 pb-2",children:[(0,g.jsxs)("div",{className:"w-16",children:[(0,g.jsx)("label",{className:"text-[9px] font-bold text-slate-400",children:"M\xeas"}),(0,g.jsx)("input",{type:"number",min:"1",max:"12",className:Ua+" h-8 py-0 text-xs",value:t.mes,onChange:t=>{const r=[...e.periodos_remuneracao];r[o].mes=Number(t.target.value),n("periodos_remuneracao",r)}})]}),(0,g.jsxs)("div",{className:"w-20",children:[(0,g.jsx)("label",{className:"text-[9px] font-bold text-slate-400",children:"C. Hor\xe1ria"}),(0,g.jsx)("input",{type:"number",className:Ua+" h-8 py-0 text-xs",value:t.carga_horaria,onChange:t=>{const r=[...e.periodos_remuneracao];r[o].carga_horaria=Number(t.target.value),n("periodos_remuneracao",r)}})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{className:"text-[9px] font-bold text-slate-400",children:"Bruto (R$)"}),(0,g.jsx)("input",{type:"number",className:Ua+" h-8 py-0 text-xs",value:t.remuneracao_bruta,onChange:t=>{const r=[...e.periodos_remuneracao];r[o].remuneracao_bruta=Number(t.target.value),n("periodos_remuneracao",r)}})]}),(0,g.jsx)("button",{onClick:()=>{const t=[...e.periodos_remuneracao];t.splice(o,1),n("periodos_remuneracao",t)},className:"text-red-400 font-bold text-xs pb-1 hover:text-red-600",children:"\u2715"})]},o))]})]})}})},cs=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"12. Servidores Cedidos",items:t.servidores_cedidos||[],newItemTemplate:{cpf:"",cargo_publico_ocupado:"",funcao_desempenhada_entidade_beneficiaria:"",data_inicial_cessao:"",onus_pagamento:1,periodos_cessao:[]},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"servidores_cedidos",renderItem:(e,t,n)=>(0,g.jsx)("div",{className:"space-y-4",children:(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsx)(Xa,{label:"CPF",value:e.cpf,onChange:e=>n("cpf",e)}),(0,g.jsx)(Xa,{label:"Data In\xedcio Cess\xe3o",type:"date",value:e.data_inicial_cessao,onChange:e=>n("data_inicial_cessao",e)}),(0,g.jsx)(Xa,{label:"Cargo Origem",value:e.cargo_publico_ocupado,onChange:e=>n("cargo_publico_ocupado",e)}),(0,g.jsx)(Xa,{label:"Fun\xe7\xe3o Entidade",value:e.funcao_desempenhada_entidade_beneficiaria,onChange:e=>n("funcao_desempenhada_entidade_beneficiaria",e)}),(0,g.jsx)(Xa,{label:"\xd4nus Pagamento",value:e.onus_pagamento,onChange:e=>n("onus_pagamento",Number(e)),options:[{value:1,label:"Origem"},{value:2,label:"Destino"},{value:3,label:"Parcial"}]})]})})})},us=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;const a=t.ajustes_saldo||{};return(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"11. Ajustes de Saldo"}),(0,g.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Utilize esta se\xe7\xe3o apenas para corrigir diverg\xeancias de saldo conciliado banc\xe1rio x cont\xe1bil."})]}),(0,g.jsx)(Qa,{title:"11.1 Retifica\xe7\xe3o de Repasses",items:a.retificacao_repasses||[],newItemTemplate:{data_prevista:"",data_repasse:"",valor_retificado:0,fonte_recurso_tipo:1},onAdd:e=>o(i(i({},a),{},{retificacao_repasses:[...a.retificacao_repasses||[],e]}),"ajustes_saldo"),onRemove:e=>{const t=[...a.retificacao_repasses||[]];t.splice(e,1),n("ajustes_saldo.retificacao_repasses",t)},onUpdate:(e,t,o)=>{const r=[...a.retificacao_repasses||[]];r[e]=i(i({},r[e]),{},{[t]:o}),n("ajustes_saldo.retificacao_repasses",r)},renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"Data Repasse",type:"date",value:e.data_repasse,onChange:e=>n("data_repasse",e)}),(0,g.jsx)(Xa,{label:"Valor Retificado",type:"number",value:e.valor_retificado,onChange:e=>n("valor_retificado",e)}),(0,g.jsx)(Xa,{label:"Fonte Recurso",type:"number",value:e.fonte_recurso_tipo,onChange:e=>n("fonte_recurso_tipo",e)})]})}),(0,g.jsx)(Qa,{title:"11.3 Retifica\xe7\xe3o de Pagamentos",items:a.retificacao_pagamentos||[],newItemTemplate:{identificacao_documento_fiscal:{numero:"",identificacao_credor:{documento_numero:"",documento_tipo:2}},pagamento_data:"",pagamento_valor:0,fonte_recurso_tipo:1,valor_retificado:0},onAdd:e=>o(i(i({},a),{},{retificacao_pagamentos:[...a.retificacao_pagamentos||[],e]}),"ajustes_saldo"),onRemove:e=>{const t=[...a.retificacao_pagamentos||[]];t.splice(e,1),n("ajustes_saldo.retificacao_pagamentos",t)},onUpdate:(e,t,o)=>{const r=[...a.retificacao_pagamentos||[]];r[e]=i(i({},r[e]),{},{[t]:o}),n("ajustes_saldo.retificacao_pagamentos",r)},renderItem:(e,t,n)=>{var o;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsx)(Xa,{label:"N\xfamero NF Original",value:null===(o=e.identificacao_documento_fiscal)||void 0===o?void 0:o.numero,onChange:e=>n("identificacao_documento_fiscal.numero",e)}),(0,g.jsx)(Xa,{label:"Valor Retificado (Correto)",type:"number",value:e.valor_retificado,onChange:e=>n("valor_retificado",e)})]})}})]})},ds=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r,fullData:a}=e;const s=a.empenhos||[];return(0,g.jsx)(Qa,{title:"17. Repasses Recebidos (Financeiro)",items:t.repasses||[],newItemTemplate:{identificacao_empenho:{numero:"",data_emissao:""},data_prevista:"",data_repasse:"",valor_previsto:0,valor_repasse:0,tipo_documento_bancario:1,numero_documento:"",banco:0,agencia:0,conta:""},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"repasses",renderItem:(e,t,n)=>{var o;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsxs)("div",{className:"col-span-3 bg-indigo-50 p-3 rounded border border-indigo-100 mb-2",children:[(0,g.jsx)("label",{className:qa,children:"Vincular a Empenho"}),(0,g.jsxs)("select",{className:Ua,value:null===(o=e.identificacao_empenho)||void 0===o?void 0:o.numero,onChange:t=>{const o=t.target.value,r=s.find(e=>e.numero===o);r&&(n("identificacao_empenho",{numero:r.numero,data_emissao:r.data_emissao}),0===e.valor_repasse&&n("valor_repasse",r.valor))},children:[(0,g.jsx)("option",{value:"",children:"-- Selecione Empenho --"}),s.map(e=>(0,g.jsxs)("option",{value:e.numero,children:["Empenho ",e.numero," (",e.data_emissao,") - R$",e.valor]},e.numero))]})]}),(0,g.jsx)(Xa,{label:"Data Repasse",type:"date",value:e.data_repasse,onChange:e=>n("data_repasse",e)}),(0,g.jsx)(Xa,{label:"Valor Recebido (R$)",type:"number",value:e.valor_repasse,onChange:e=>n("valor_repasse",e)}),(0,g.jsx)(Xa,{label:"Nr. Doc Banc\xe1rio",value:e.numero_documento,onChange:e=>n("numero_documento",e)}),(0,g.jsx)(Xa,{label:"Banco",type:"number",value:e.banco,onChange:e=>n("banco",e)}),(0,g.jsx)(Xa,{label:"Ag\xeancia",type:"number",value:e.agencia,onChange:e=>n("agencia",e)}),(0,g.jsx)(Xa,{label:"Conta",value:e.conta,onChange:e=>n("conta",e)})]})}})},ps=e=>{var t;let{data:n,onUpdate:o,onAdd:r,onRemove:a}=e;return(0,g.jsx)(Qa,{title:"5. Rela\xe7\xe3o de Bens (M\xf3veis Adquiridos)",items:(null===(t=n.relacao_bens)||void 0===t?void 0:t.relacao_bens_moveis_adquiridos)||[],newItemTemplate:{numero_patrimonio:"",descricao:"",valor_aquisicao:0,data_aquisicao:""},onAdd:e=>{const t=n.relacao_bens||{},o=t.relacao_bens_moveis_adquiridos||[];r(i(i({},t),{},{relacao_bens_moveis_adquiridos:[...o,e]}),"relacao_bens")},onRemove:e=>{var t;const r=[...(null===(t=n.relacao_bens)||void 0===t?void 0:t.relacao_bens_moveis_adquiridos)||[]];r.splice(e,1),o("relacao_bens.relacao_bens_moveis_adquiridos",r)},onUpdate:(e,t,r)=>{var a;const s=[...(null===(a=n.relacao_bens)||void 0===a?void 0:a.relacao_bens_moveis_adquiridos)||[]];s[e]=i(i({},s[e]),{},{[t]:r}),o("relacao_bens.relacao_bens_moveis_adquiridos",s)},ocrSection:"relacao_bens",renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,g.jsx)(Xa,{label:"Patrim\xf4nio",value:e.numero_patrimonio,onChange:e=>n("numero_patrimonio",e)}),(0,g.jsx)("div",{className:"md:col-span-2",children:(0,g.jsx)(Xa,{label:"Descri\xe7\xe3o",value:e.descricao,onChange:e=>n("descricao",e)})}),(0,g.jsx)(Xa,{label:"Data Aquisi\xe7\xe3o",type:"date",value:e.data_aquisicao,onChange:e=>n("data_aquisicao",e)}),(0,g.jsx)(Xa,{label:"Valor (R$)",type:"number",value:e.valor_aquisicao,onChange:e=>n("valor_aquisicao",e)})]})})},fs=e=>{var t,n;let{data:o,onUpdate:r,onAdd:a,onRemove:s}=e;return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(Qa,{title:"9. Disponibilidades (Saldos Banc\xe1rios)",items:(null===(t=o.disponibilidades)||void 0===t?void 0:t.saldos)||[],newItemTemplate:{banco:0,agencia:0,conta:"",saldo_bancario:0,saldo_contabil:0,conta_tipo:1},onAdd:e=>{const t=o.disponibilidades||{saldo_fundo_fixo:0,saldos:[]},n=t.saldos||[];a(i(i({},t),{},{saldos:[...n,e]}),"disponibilidades")},onRemove:e=>{var t;const n=[...(null===(t=o.disponibilidades)||void 0===t?void 0:t.saldos)||[]];n.splice(e,1),r("disponibilidades.saldos",n)},onUpdate:(e,t,n)=>{var a;const s=[...(null===(a=o.disponibilidades)||void 0===a?void 0:a.saldos)||[]];s[e]=i(i({},s[e]),{},{[t]:n}),r("disponibilidades.saldos",s)},ocrSection:"disponibilidades",renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,g.jsx)(Xa,{label:"Banco",type:"number",value:e.banco,onChange:e=>n("banco",e)}),(0,g.jsx)(Xa,{label:"Ag\xeancia",type:"number",value:e.agencia,onChange:e=>n("agencia",e)}),(0,g.jsx)(Xa,{label:"Conta",value:e.conta,onChange:e=>n("conta",e)}),(0,g.jsx)(Xa,{label:"Saldo Banco (R$)",type:"number",value:e.saldo_bancario,onChange:e=>n("saldo_bancario",e)}),(0,g.jsx)(Xa,{label:"Saldo Cont\xe1bil (R$)",type:"number",value:e.saldo_contabil,onChange:e=>n("saldo_contabil",e)})]})}),(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)("h4",{className:"text-sm font-bold text-slate-700 uppercase mb-4",children:"Outros Saldos"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3",children:(0,g.jsx)(Xa,{label:"Saldo Fundo Fixo (Caixa)",type:"number",value:(null===(n=o.disponibilidades)||void 0===n?void 0:n.saldo_fundo_fixo)||0,onChange:e=>r("disponibilidades.saldo_fundo_fixo",e)})})]})]})},ms=e=>{var t,n,o,r;let{data:a,onUpdate:s,onAdd:l,onRemove:c}=e;return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)(Qa,{title:"10.1 Repasses Recebidos",items:(null===(t=a.receitas)||void 0===t?void 0:t.repasses_recebidos)||[],newItemTemplate:{data_repasse:"",valor:0,fonte_recurso_tipo:1,data_prevista:""},onAdd:e=>{const t=a.receitas||{},n=t.repasses_recebidos||[];l(i(i({},t),{},{repasses_recebidos:[...n,e]}),"receitas")},onRemove:e=>{var t;const n=[...(null===(t=a.receitas)||void 0===t?void 0:t.repasses_recebidos)||[]];n.splice(e,1),s("receitas.repasses_recebidos",n)},onUpdate:(e,t,n)=>{var o;const r=[...(null===(o=a.receitas)||void 0===o?void 0:o.repasses_recebidos)||[]];r[e]=i(i({},r[e]),{},{[t]:n}),s("receitas.repasses_recebidos",r)},ocrSection:"receitas",renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"Data Prevista",type:"date",value:e.data_prevista,onChange:e=>n("data_prevista",e)}),(0,g.jsx)(Xa,{label:"Data Efetiva",type:"date",value:e.data_repasse,onChange:e=>n("data_repasse",e)}),(0,g.jsx)(Xa,{label:"Valor (R$)",type:"number",value:e.valor,onChange:e=>n("valor",e)})]})}),(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"10.2 Rendimentos de Aplica\xe7\xe3o Financeira"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"Rend. Municipal (R$)",type:"number",value:(null===(n=a.receitas)||void 0===n?void 0:n.receitas_aplic_financ_repasses_publicos_municipais)||0,onChange:e=>s("receitas.receitas_aplic_financ_repasses_publicos_municipais",e)}),(0,g.jsx)(Xa,{label:"Rend. Estadual (R$)",type:"number",value:(null===(o=a.receitas)||void 0===o?void 0:o.receitas_aplic_financ_repasses_publicos_estaduais)||0,onChange:e=>s("receitas.receitas_aplic_financ_repasses_publicos_estaduais",e)}),(0,g.jsx)(Xa,{label:"Rend. Federal (R$)",type:"number",value:(null===(r=a.receitas)||void 0===r?void 0:r.receitas_aplic_financ_repasses_publicos_federais)||0,onChange:e=>s("receitas.receitas_aplic_financ_repasses_publicos_federais",e)})]})]})]})},hs=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"13. Descontos",items:t.descontos||[],newItemTemplate:{data:"",descricao:"",valor:0},onAdd:o,onRemove:r,onUpdate:n,renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)("div",{className:"md:col-span-2",children:(0,g.jsx)(Xa,{label:"Descri\xe7\xe3o",value:e.descricao,onChange:e=>n("descricao",e)})}),(0,g.jsx)(Xa,{label:"Data",type:"date",value:e.data,onChange:e=>n("data",e)}),(0,g.jsx)(Xa,{label:"Valor (R$)",type:"number",value:e.valor,onChange:e=>n("valor",e)})]})})},gs=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"14. Devolu\xe7\xf5es de Saldo",items:t.devolucoes||[],newItemTemplate:{data:"",natureza_devolucao_tipo:1,valor:0},onAdd:o,onRemove:r,onUpdate:n,renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"Data",type:"date",value:e.data,onChange:e=>n("data",e)}),(0,g.jsx)(Xa,{label:"Valor (R$)",type:"number",value:e.valor,onChange:e=>n("valor",e)}),(0,g.jsx)(Xa,{label:"Natureza",value:e.natureza_devolucao_tipo,onChange:e=>n("natureza_devolucao_tipo",Number(e)),options:[{value:1,label:"Saldo de Recursos n\xe3o Utilizados"},{value:2,label:"Glosas"},{value:3,label:"Rendimentos de Aplica\xe7\xe3o"}]})]})})},vs=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"15. Glosas",items:t.glosas||[],newItemTemplate:{identificacao_documento_fiscal:{numero:"",identificacao_credor:{documento_numero:"",documento_tipo:2}},resultado_analise:1,valor_glosa:0},onAdd:o,onRemove:r,onUpdate:n,renderItem:(e,t,n)=>{var o;return(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"N\xfamero Nota Fiscal",value:null===(o=e.identificacao_documento_fiscal)||void 0===o?void 0:o.numero,onChange:e=>n("identificacao_documento_fiscal.numero",e)}),(0,g.jsx)(Xa,{label:"Valor Glosado (R$)",type:"number",value:e.valor_glosa,onChange:e=>n("valor_glosa",e)}),(0,g.jsx)(Xa,{label:"Tipo Glosa",value:e.resultado_analise,onChange:e=>n("resultado_analise",Number(e)),options:[{value:1,label:"Total"},{value:2,label:"Parcial"}]})]})}})},ys=e=>{let{data:t,onUpdate:n,onAdd:o,onRemove:r}=e;return(0,g.jsx)(Qa,{title:"16. Empenhos",items:t.empenhos||[],newItemTemplate:{numero:"",data_emissao:"",valor:0,historico:"",classificacao_economica_tipo:"",fonte_recurso_tipo:1,cpf_ordenador_despesa:""},onAdd:o,onRemove:r,onUpdate:n,ocrSection:"empenhos",renderItem:(e,t,n)=>(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"N\xfamero Empenho",value:e.numero,onChange:e=>n("numero",e)}),(0,g.jsx)(Xa,{label:"Data Emiss\xe3o",type:"date",value:e.data_emissao,onChange:e=>n("data_emissao",e)}),(0,g.jsx)(Xa,{label:"Valor (R$)",type:"number",value:e.valor,onChange:e=>n("valor",e)}),(0,g.jsx)("div",{className:"md:col-span-3",children:(0,g.jsx)(Xa,{label:"Hist\xf3rico",value:e.historico,onChange:e=>n("historico",e)})})]})})},bs=e=>{var t;let{data:n,updateField:o}=e;const r=n.relatorio_atividades||{programas:[]},a=e=>{o("relatorio_atividades.programas",e)};return(0,g.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"18. Relat\xf3rio de Atividades",children:(0,g.jsx)("button",{onClick:()=>a([...r.programas||[],{nome_programa:"",metas:[]}]),className:Ga,children:"+ Novo Programa"})}),(0,g.jsx)(Fa,{section:"relatorio_atividades",onDataExtracted:e=>{if(e&&Array.isArray(e.programas)){const t=[...r.programas||[]];a([...t,...e.programas])}}}),(!r.programas||0===r.programas.length)&&(0,g.jsx)("p",{className:"text-slate-400 text-sm text-center py-8 border-2 border-dashed border-slate-200 rounded",children:"Nenhum programa cadastrado. Adicione manualmente ou use o OCR."})]}),null===(t=r.programas)||void 0===t?void 0:t.map((e,t)=>(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-l-indigo-500 border-y border-r border-slate-200 relative",children:[(0,g.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,g.jsxs)("div",{className:"w-full mr-4",children:[(0,g.jsxs)("h3",{className:"text-sm font-bold uppercase text-indigo-600 mb-2",children:["Programa #",t+1]}),(0,g.jsx)(Xa,{label:"Nome do Programa",value:e.nome_programa,onChange:e=>{const n=[...r.programas];n[t].nome_programa=e,a(n)}})]}),(0,g.jsx)("button",{onClick:()=>{const e=[...r.programas];e.splice(t,1),a(e)},className:Ha+" mt-6",children:"Remover Programa"})]}),(0,g.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b border-slate-200 pb-2",children:[(0,g.jsx)("h4",{className:"text-xs font-bold text-slate-700 uppercase tracking-wider",children:"Metas do Programa"}),(0,g.jsx)("button",{onClick:()=>{const e=[...r.programas];e[t].metas.push({codigo_meta:"",periodicidades:[],meta_atendida:!1,justificativa:""}),a(e)},className:za,children:"+ Adicionar Meta"})]}),e.metas.map((e,n)=>(0,g.jsxs)("div",{className:"bg-white p-4 rounded border border-slate-200 mb-4 shadow-sm",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mb-4",children:[(0,g.jsx)("div",{className:"md:col-span-3",children:(0,g.jsx)(Xa,{label:"C\xf3digo Meta",value:e.codigo_meta,onChange:e=>{const o=[...r.programas];o[t].metas[n].codigo_meta=e,a(o)}})}),(0,g.jsx)("div",{className:"md:col-span-7",children:(0,g.jsx)(Xa,{label:"Descri\xe7\xe3o (Opcional)",value:e.descricao||"",onChange:e=>{const o=[...r.programas];o[t].metas[n].descricao=e,a(o)}})}),(0,g.jsx)("div",{className:"md:col-span-2 flex items-center justify-end",children:(0,g.jsx)("button",{onClick:()=>{const e=[...r.programas];e[t].metas.splice(n,1),a(e)},className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"Remover Meta",children:"\u2715"})})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-4 bg-indigo-50 p-2 rounded w-fit",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:e.meta_atendida,onChange:e=>{const o=[...r.programas];o[t].metas[n].meta_atendida=e.target.checked,a(o)}}),(0,g.jsx)("label",{className:"text-xs font-bold text-indigo-900 cursor-pointer",children:"A Meta foi plenamente atendida?"})]}),!e.meta_atendida&&(0,g.jsx)("div",{className:"mb-4 animate-in fade-in",children:(0,g.jsx)(Xa,{label:"Justificativa do N\xe3o Atendimento",value:e.justificativa||"",onChange:e=>{const o=[...r.programas];o[t].metas[n].justificativa=e,a(o)}})}),(0,g.jsxs)("div",{className:"pl-4 border-l-2 border-indigo-100",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,g.jsx)("h5",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Execu\xe7\xe3o F\xedsica (Periodicidade)"}),(0,g.jsx)("button",{onClick:()=>{const e=[...r.programas];e[t].metas[n].periodicidades.push({periodo:1,quantidade_realizada:0}),a(e)},className:"text-[10px] text-blue-600 font-bold hover:underline",children:"+ Adicionar Per\xedodo"})]}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:e.periodicidades.map((e,o)=>(0,g.jsxs)("div",{className:"flex gap-2 items-center bg-slate-50 p-2 rounded border border-slate-100",children:[(0,g.jsx)("div",{className:"w-24",children:(0,g.jsx)("select",{className:Ua+" h-8 py-0 text-xs",value:e.periodo,onChange:e=>{const s=[...r.programas];s[t].metas[n].periodicidades[o].periodo=Number(e.target.value),a(s)},children:Array.from({length:12},(e,t)=>(0,g.jsx)("option",{value:t+1,children:new Date(0,t).toLocaleString("pt-BR",{month:"long"})},t+1))})}),(0,g.jsx)("div",{className:"flex-1",children:(0,g.jsx)("input",{type:"number",placeholder:"Qtd.",className:Ua+" h-8 py-0 text-xs",value:e.quantidade_realizada,onChange:e=>{const s=[...r.programas];s[t].metas[n].periodicidades[o].quantidade_realizada=Number(e.target.value),a(s)}})}),(0,g.jsx)("button",{onClick:()=>{const e=[...r.programas];e[t].metas[n].periodicidades.splice(o,1),a(e)},className:"text-red-400 hover:text-red-600 text-xs font-bold px-1",children:"\u2715"})]},o))})]})]},n))]})]},t))]})},_s=e=>{let{data:t,updateField:n}=e;const o=t.parecer_conclusivo||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"26. Parecer Conclusivo"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,g.jsx)(Xa,{label:"Identifica\xe7\xe3o do Parecer (ID/N\xfamero)",value:o.identificacao_parecer,onChange:e=>n("parecer_conclusivo.identificacao_parecer",e)}),(0,g.jsx)(Xa,{label:"Conclus\xe3o",value:o.conclusao_parecer,onChange:e=>n("parecer_conclusivo.conclusao_parecer",Number(e)),options:[{value:1,label:"Aprovado"},{value:2,label:"Aprovado com Ressalvas"},{value:3,label:"Rejeitado"}]}),(0,g.jsxs)("div",{className:"col-span-1",children:[(0,g.jsx)("label",{className:qa,children:"Considera\xe7\xf5es do Conselho Fiscal"}),(0,g.jsx)("textarea",{className:Ua+" h-24 py-2",value:o.consideracoes_parecer,onChange:e=>n("parecer_conclusivo.consideracoes_parecer",e.target.value)})]})]}),(0,g.jsxs)("div",{className:"bg-slate-50 p-4 rounded border border-slate-200",children:[(0,g.jsx)("h4",{className:"font-bold text-slate-700 mb-4",children:"Declara\xe7\xf5es do Parecer"}),(0,g.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>{var t,r,a,s;return(0,g.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center border-b border-slate-100 pb-2",children:[(0,g.jsxs)("div",{className:"flex-1 text-sm font-medium text-slate-600",children:[1===e&&"A entidade aplicou os recursos conforme o plano de trabalho?",2===e&&"As despesas est\xe3o comprovadas por documentos fiscais?",3===e&&"Houve cumprimento das metas estabelecidas?"]}),(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsxs)("label",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{type:"radio",name:"dec_".concat(e),checked:1===(null===(t=o.declaracoes)||void 0===t||null===(r=t.find(t=>t.tipo_declaracao===e))||void 0===r?void 0:r.declaracao),onChange:()=>{const t=[...o.declaracoes||[]],r=t.findIndex(t=>t.tipo_declaracao===e);r>=0?t[r].declaracao=1:t.push({tipo_declaracao:e,declaracao:1}),n("parecer_conclusivo.declaracoes",t)}})," Sim"]}),(0,g.jsxs)("label",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{type:"radio",name:"dec_".concat(e),checked:2===(null===(a=o.declaracoes)||void 0===a||null===(s=a.find(t=>t.tipo_declaracao===e))||void 0===s?void 0:s.declaracao),onChange:()=>{const t=[...o.declaracoes||[]],r=t.findIndex(t=>t.tipo_declaracao===e);r>=0?t[r].declaracao=2:t.push({tipo_declaracao:e,declaracao:2}),n("parecer_conclusivo.declaracoes",t)}})," N\xe3o"]})]})]},e)})})]})]})},Es=e=>{var t,n,o;let{data:r,updateField:a}=e;const s=r.demonstracoes_contabeis||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"23. Demonstra\xe7\xf5es Cont\xe1beis"}),(0,g.jsxs)("div",{className:"bg-blue-50 p-4 rounded border border-blue-100 mb-6",children:[(0,g.jsx)("h4",{className:"text-xs font-bold uppercase text-blue-800 mb-2",children:"Respons\xe1vel T\xe9cnico (Contador)"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(Xa,{label:"Nome",value:null===(t=s.responsavel)||void 0===t?void 0:t.numero_crc,onChange:e=>a("demonstracoes_contabeis.responsavel.numero_crc",e)})," ",(0,g.jsx)(Xa,{label:"CPF",value:null===(n=s.responsavel)||void 0===n?void 0:n.cpf,onChange:e=>a("demonstracoes_contabeis.responsavel.cpf",e)}),(0,g.jsxs)("div",{className:Ka+" h-10 mt-5",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:null===(o=s.responsavel)||void 0===o?void 0:o.situacao_regular_crc,onChange:e=>a("demonstracoes_contabeis.responsavel.situacao_regular_crc",e.target.checked)}),(0,g.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Regular no CRC?"})]})]})]}),(0,g.jsx)("h4",{className:qa,children:"Publica\xe7\xf5es das Demonstra\xe7\xf5es"}),(s.publicacoes||[]).map((e,t)=>(0,g.jsxs)("div",{className:"flex gap-2 items-center mb-2",children:[(0,g.jsx)("input",{className:Ua,placeholder:"Ve\xedculo",value:e.nome_veiculo,onChange:e=>{const n=[...s.publicacoes||[]];n[t].nome_veiculo=e.target.value,a("demonstracoes_contabeis.publicacoes",n)}}),(0,g.jsx)("input",{type:"date",className:Ua,value:e.data_publicacao,onChange:e=>{const n=[...s.publicacoes||[]];n[t].data_publicacao=e.target.value,a("demonstracoes_contabeis.publicacoes",n)}}),(0,g.jsx)("button",{className:Ha,onClick:()=>{const e=[...s.publicacoes||[]];e.splice(t,1),a("demonstracoes_contabeis.publicacoes",e)},children:"X"})]},t)),(0,g.jsx)("button",{onClick:()=>{const e=[...s.publicacoes||[]];e.push({tipo_veiculo_publicacao:1,data_publicacao:"",nome_veiculo:""}),a("demonstracoes_contabeis.publicacoes",e)},className:Ga,children:"+ Publica\xe7\xe3o"})]})},xs=e=>{let{data:t,updateField:n}=e;const o=t.relatorio_governamental_analise_execucao||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"22. Relat\xf3rio Governamental (An\xe1lise Execu\xe7\xe3o)"}),(0,g.jsxs)("div",{className:"mb-6 bg-yellow-50 p-4 rounded border border-yellow-100",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:o.houve_emissao_relatorio_final,onChange:e=>n("relatorio_governamental_analise_execucao.houve_emissao_relatorio_final",e.target.checked)}),(0,g.jsx)("label",{className:"font-bold text-slate-800 text-sm",children:"Houve emiss\xe3o de Relat\xf3rio Final pelo \xd3rg\xe3o P\xfablico?"})]}),o.houve_emissao_relatorio_final&&(0,g.jsxs)("div",{className:"animate-in fade-in space-y-4",children:[(0,g.jsx)(Xa,{label:"Conclus\xe3o do Relat\xf3rio",value:o.conclusao_relatorio,onChange:e=>n("relatorio_governamental_analise_execucao.conclusao_relatorio",Number(e)),options:[{value:1,label:"Favor\xe1vel"},{value:2,label:"Favor\xe1vel com Ressalvas"},{value:3,label:"Desfavor\xe1vel"}]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:qa,children:"Justificativa / Considera\xe7\xf5es"}),(0,g.jsx)("textarea",{className:Ua+" h-24 py-2",value:o.justificativa,onChange:e=>n("relatorio_governamental_analise_execucao.justificativa",e.target.value)})]})]})]})]})},ws=e=>{let{data:t,updateField:n}=e;const o=t.publicacoes_parecer_ata||[],r=(e,t,r)=>{const a=[...o];"root"===t?a[e]=i(i({},a[e]),r):a[e][t]=r,n("publicacoes_parecer_ata",a)};return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsx)("div",{className:Va,children:(0,g.jsx)(Wa,{title:"24. Publica\xe7\xf5es de Pareceres e Atas",children:(0,g.jsx)("button",{onClick:()=>{n("publicacoes_parecer_ata",[...o,{tipo_parecer_ata:1,houve_publicacao:!1,conclusao_parecer:1,publicacoes:[]}])},className:Ga,children:"+ Adicionar Registro"})})}),o.map((e,t)=>(0,g.jsxs)("div",{className:Va+" border-l-4 border-purple-400",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsx)(Xa,{label:"Tipo de Documento",value:e.tipo_parecer_ata,onChange:e=>r(t,"tipo_parecer_ata",Number(e)),options:[{value:1,label:"Parecer do Conselho Fiscal"},{value:2,label:"Ata da Assembleia Geral"},{value:3,label:"Ata do Conselho de Administra\xe7\xe3o"}]}),(0,g.jsx)("button",{onClick:()=>(e=>{const t=[...o];t.splice(e,1),n("publicacoes_parecer_ata",t)})(t),className:Ha+" mt-4",children:"Remover"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 h-10 mt-5 bg-slate-50 px-3 rounded border",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:e.houve_publicacao,onChange:e=>r(t,"houve_publicacao",e.target.checked)}),(0,g.jsx)("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Houve Publica\xe7\xe3o?"})]}),(0,g.jsx)(Xa,{label:"Conclus\xe3o",value:e.conclusao_parecer,onChange:e=>r(t,"conclusao_parecer",Number(e)),options:[{value:1,label:"Aprova\xe7\xe3o"},{value:2,label:"Aprova\xe7\xe3o com Ressalvas"},{value:3,label:"Rejei\xe7\xe3o"}]})]}),e.houve_publicacao&&(0,g.jsxs)("div",{className:"pl-4 border-l-2 border-purple-100 mt-4",children:[(0,g.jsx)("label",{className:qa+" text-purple-700",children:"Ve\xedculos de Publica\xe7\xe3o"}),(e.publicacoes||[]).map((n,o)=>(0,g.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,g.jsx)("input",{className:Ua,placeholder:"Nome Ve\xedculo",value:n.nome_veiculo,onChange:n=>{const a=[...e.publicacoes||[]];a[o]=i(i({},a[o]),{},{nome_veiculo:n.target.value}),r(t,"publicacoes",a)}}),(0,g.jsx)("input",{type:"date",className:Ua,value:n.data_publicacao,onChange:n=>{const a=[...e.publicacoes||[]];a[o]=i(i({},a[o]),{},{data_publicacao:n.target.value}),r(t,"publicacoes",a)}}),(0,g.jsx)("button",{onClick:()=>{const n=[...e.publicacoes||[]];n.splice(o,1),r(t,"publicacoes",n)},className:"text-red-500 font-bold px-2",children:"X"})]},o)),(0,g.jsx)("button",{onClick:()=>{const n=[...e.publicacoes||[]];n.push({tipo_veiculo_publicacao:1,nome_veiculo:"",data_publicacao:""}),r(t,"publicacoes",n)},className:"text-xs font-bold text-blue-600 hover:underline",children:"+ Adicionar Publica\xe7\xe3o"})]})]},t))]})},Ss=e=>{let{data:t,updateField:n}=e;const o=t.prestacao_contas_entidade_beneficiaria||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"25. Dados da Presta\xe7\xe3o (Entidade)"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,g.jsx)(Xa,{label:"Data da Presta\xe7\xe3o",type:"date",value:o.data_prestacao,onChange:e=>n("prestacao_contas_entidade_beneficiaria.data_prestacao",e)}),(0,g.jsx)(Xa,{label:"Per\xedodo Ref. In\xedcio",type:"date",value:o.periodo_referencia_data_inicial,onChange:e=>n("prestacao_contas_entidade_beneficiaria.periodo_referencia_data_inicial",e)}),(0,g.jsx)(Xa,{label:"Per\xedodo Ref. Final",type:"date",value:o.periodo_referencia_data_final,onChange:e=>n("prestacao_contas_entidade_beneficiaria.periodo_referencia_data_final",e)})]}),(0,g.jsx)("p",{className:"mt-4 text-xs text-slate-500 bg-slate-50 p-2 rounded border border-slate-100",children:"Estes dados referem-se ao per\xedodo de execu\xe7\xe3o e \xe0 data em que a entidade finalizou internamente a presta\xe7\xe3o de contas."})]})},Cs=e=>{let{data:t,updateField:n}=e;const o=t.dados_gerais_entidade_beneficiaria||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"19. Dados Gerais da Entidade"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,g.jsx)(Xa,{label:"Certid\xe3o de Dados Gerais (C\xf3digo/Hash)",value:o.identificacao_certidao_dados_gerais,onChange:e=>n("dados_gerais_entidade_beneficiaria.identificacao_certidao_dados_gerais",e)}),(0,g.jsx)(Xa,{label:"Certid\xe3o Corpo Diretivo (C\xf3digo/Hash)",value:o.identificacao_certidao_corpo_diretivo,onChange:e=>n("dados_gerais_entidade_beneficiaria.identificacao_certidao_corpo_diretivo",e)}),(0,g.jsx)(Xa,{label:"Certid\xe3o Membros Conselho (C\xf3digo/Hash)",value:o.identificacao_certidao_membros_conselho,onChange:e=>n("dados_gerais_entidade_beneficiaria.identificacao_certidao_membros_conselho",e)})]}),(0,g.jsx)("p",{className:"mt-4 text-xs text-slate-500 italic",children:"* Informe o c\xf3digo de autentica\xe7\xe3o das certid\xf5es emitidas no cadastro do TCESP."})]})},Ns=e=>{let{data:t,updateField:n}=e;const o=t.responsaveis_membros_orgao_concessor||{};return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"20. Respons\xe1veis (\xd3rg\xe3o Concessor)"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,g.jsx)(Xa,{label:"Certid\xe3o Respons\xe1veis (C\xf3digo)",value:o.identificacao_certidao_responsaveis,onChange:e=>n("responsaveis_membros_orgao_concessor.identificacao_certidao_responsaveis",e)}),(0,g.jsx)(Xa,{label:"Certid\xe3o Comiss\xe3o Avalia\xe7\xe3o (C\xf3digo)",value:o.identificacao_certidao_membros_comissao_avaliacao,onChange:e=>n("responsaveis_membros_orgao_concessor.identificacao_certidao_membros_comissao_avaliacao",e)}),(0,g.jsx)(Xa,{label:"Certid\xe3o Controle Interno (C\xf3digo)",value:o.identificacao_certidao_membros_controle_interno,onChange:e=>n("responsaveis_membros_orgao_concessor.identificacao_certidao_membros_controle_interno",e)})]})]})},Is=e=>{let{data:t,updateField:n}=e;const o=t.declaracoes||{},r=(e,t)=>{n("declaracoes.".concat(e),t)};return(0,g.jsx)("div",{className:"space-y-6",children:(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"21. Declara\xe7\xf5es Obrigat\xf3rias"}),(0,g.jsxs)("div",{className:"mb-6 border-b border-slate-100 pb-6",children:[(0,g.jsxs)("div",{className:Ka+" mb-4",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:o.houve_contratacao_empresas_pertencentes,onChange:e=>r("houve_contratacao_empresas_pertencentes",e.target.checked)}),(0,g.jsx)("label",{className:"font-bold text-slate-700",children:"Houve contrata\xe7\xe3o de empresas pertencentes a dirigentes?"})]}),o.houve_contratacao_empresas_pertencentes&&(0,g.jsxs)("div",{className:"pl-6 bg-red-50 p-4 rounded border border-red-100",children:[(0,g.jsx)("h4",{className:"text-sm font-bold text-red-800 mb-2",children:"Relacionar Empresas"}),(o.empresas_pertencentes||[]).map((e,t)=>(0,g.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,g.jsx)("div",{className:"w-1/2",children:(0,g.jsx)("input",{className:Ua,placeholder:"CNPJ",value:e.cnpj,onChange:e=>{const n=[...o.empresas_pertencentes||[]];n[t].cnpj=e.target.value,r("empresas_pertencentes",n)}})}),(0,g.jsx)("div",{className:"w-1/2",children:(0,g.jsx)("input",{className:Ua,placeholder:"CPF Dirigente",value:e.cpf,onChange:e=>{const n=[...o.empresas_pertencentes||[]];n[t].cpf=e.target.value,r("empresas_pertencentes",n)}})}),(0,g.jsx)("button",{onClick:()=>{const e=[...o.empresas_pertencentes||[]];e.splice(t,1),r("empresas_pertencentes",e)},className:Ha,children:"X"})]},t)),(0,g.jsx)("button",{onClick:()=>{const e=[...o.empresas_pertencentes||[]];e.push({cnpj:"",cpf:""}),r("empresas_pertencentes",e)},className:Ga+" mt-2",children:"+ Adicionar Empresa"})]})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:Ka+" mb-4",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:o.houve_participacao_quadro_diretivo_administrativo,onChange:e=>r("houve_participacao_quadro_diretivo_administrativo",e.target.checked)}),(0,g.jsx)("label",{className:"font-bold text-slate-700",children:"Houve participa\xe7\xe3o do quadro diretivo em contrata\xe7\xf5es?"})]})})]})})},Ts=e=>{let{title:t,items:n,onChange:o}=e;return(0,g.jsxs)("div",{className:"mb-6 border border-slate-200 rounded-lg overflow-hidden",children:[(0,g.jsx)("div",{className:"bg-slate-50 p-3 border-b border-slate-200",children:(0,g.jsx)("h4",{className:"font-bold text-slate-700 text-sm uppercase",children:t})}),(0,g.jsx)("div",{className:"p-4 space-y-3 bg-white",children:[{id:1,label:"Registro das compet\xeancias e estrutura organizacional"},{id:2,label:"Endere\xe7os, telefones e hor\xe1rios de atendimento"},{id:3,label:"Registros de repasses ou transfer\xeancias de recursos financeiros"},{id:4,label:"Registros das despesas"},{id:5,label:"Informa\xe7\xf5es sobre procedimentos licitat\xf3rios/compras"},{id:6,label:"Disponibiliza\xe7\xe3o de dados para acompanhamento de programas"}].map(e=>{const t=n.find(t=>t.requisito===e.id),r=!0===(null===t||void 0===t?void 0:t.atende);return(0,g.jsxs)("div",{className:"flex items-start gap-3 p-2 hover:bg-slate-50 rounded transition-colors",children:[(0,g.jsx)("input",{type:"checkbox",className:La+" mt-1",checked:r,onChange:t=>((e,t)=>{let r=[...n];const a=r.find(t=>t.requisito===e);t?a?a.atende=!0:r.push({requisito:e,atende:!0}):a?a.atende=!1:r.push({requisito:e,atende:!1}),o(r)})(e.id,t.target.checked)}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-sm text-slate-700 font-medium block",children:e.label}),(0,g.jsxs)("span",{className:"text-[10px] text-slate-400 font-mono",children:["C\xf3digo Requisito: ",e.id]})]})]},e.id)})})]})},Os=e=>{let{data:t,updateField:n}=e;const o=t.transparencia||{entidade_beneficiaria_mantem_sitio_internet:!1,sitios_internet:[],requisitos_artigos_7o_8o_paragrafo_1o:[],requisitos_sitio_artigo_8o_paragrafo_3o:[],requisitos_divulgacao_informacoes:[]};return(0,g.jsx)("div",{className:"space-y-6",children:(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"27. Transpar\xeancia e Acesso \xe0 Informa\xe7\xe3o"}),(0,g.jsx)("div",{className:"mb-6 bg-blue-50 p-4 rounded border border-blue-100",children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",className:La,checked:o.entidade_beneficiaria_mantem_sitio_internet,onChange:e=>n("transparencia.entidade_beneficiaria_mantem_sitio_internet",e.target.checked)}),(0,g.jsx)("label",{className:"font-bold text-blue-900",children:"Entidade benefici\xe1ria mant\xe9m S\xedtio na Internet?"})]})}),o.entidade_beneficiaria_mantem_sitio_internet&&(0,g.jsxs)("div",{className:"animate-in fade-in space-y-6",children:[(0,g.jsx)(Qa,{title:"Endere\xe7os dos S\xedtios Eletr\xf4nicos",items:o.sitios_internet||[],newItemTemplate:"",onAdd:()=>n("transparencia.sitios_internet",[...o.sitios_internet||[],""]),onRemove:e=>{const t=[...o.sitios_internet||[]];t.splice(e,1),n("transparencia.sitios_internet",t)},onUpdate:(e,t,r)=>{const a=[...o.sitios_internet||[]];a[e]=r,n("transparencia.sitios_internet",a)},renderItem:(e,t,n)=>(0,g.jsx)(Xa,{label:"URL do S\xedtio",value:e,onChange:e=>n("",e)})}),(0,g.jsx)("hr",{className:"border-slate-200"}),(0,g.jsx)(Ts,{title:"Requisitos Art. 7\xba e 8\xba, \xa7 1\xba (Conte\xfado M\xednimo)",items:o.requisitos_artigos_7o_8o_paragrafo_1o||[],onChange:e=>n("transparencia.requisitos_artigos_7o_8o_paragrafo_1o",e)}),(0,g.jsx)(Ts,{title:"Requisitos Art. 8\xba, \xa7 3\xba (Ferramentas do S\xedtio)",items:o.requisitos_sitio_artigo_8o_paragrafo_3o||[],onChange:e=>n("transparencia.requisitos_sitio_artigo_8o_paragrafo_3o",e)}),(0,g.jsx)(Ts,{title:"Requisitos de Divulga\xe7\xe3o de Informa\xe7\xf5es (Prazos e Formatos)",items:o.requisitos_divulgacao_informacoes||[],onChange:e=>n("transparencia.requisitos_divulgacao_informacoes",e)})]})]})})},As=e=>{let{activeSection:t,formData:n,updateField:o,updateItem:r,addItem:a,removeItem:s,handleDownload:i}=e;const l=(e,t)=>{"string"===typeof t?o(t,e):console.error("Critical: handleComplexAdd received invalid path:",t)};switch(t){case"descritor":case"1":return(0,g.jsx)(ns,{data:n,updateField:o});case"codigo_ajuste":case"2":return(0,g.jsx)(os,{data:n,updateField:o});case"retificacao":case"3":return(0,g.jsx)(rs,{data:n,updateField:o});case"dados_gerais":case"19":return(0,g.jsx)(Cs,{data:n,updateField:o});case"prestacao_benef":case"25":return(0,g.jsx)(Ss,{data:n,updateField:o});case"responsaveis":case"20":return(0,g.jsx)(Ns,{data:n,updateField:o});case"empenhos":case"16":return(0,g.jsx)(ys,{data:n,onUpdate:(e,t,n)=>r("empenhos",e,t,n),onAdd:e=>a("empenhos",e),onRemove:e=>s("empenhos",e)});case"repasses":case"17":return(0,g.jsx)(ds,{data:n,fullData:n,onUpdate:(e,t,n)=>r("repasses",e,t,n),onAdd:e=>a("repasses",e),onRemove:e=>s("repasses",e)});case"receitas":case"10":return(0,g.jsx)(ms,{data:n,onUpdate:o,onAdd:l,onRemove:()=>{}});case"contratos":case"6":return(0,g.jsx)(as,{data:n,onUpdate:(e,t,n)=>r("contratos",e,t,n),onAdd:e=>a("contratos",e),onRemove:e=>s("contratos",e)});case"documentos_fiscais":case"7":return(0,g.jsx)(ss,{data:n,fullData:n,onUpdate:(e,t,n)=>r("documentos_fiscais",e,t,n),onAdd:e=>a("documentos_fiscais",e),onRemove:e=>s("documentos_fiscais",e)});case"pagamentos":case"8":return(0,g.jsx)(is,{data:n,fullData:n,onUpdate:(e,t,n)=>r("pagamentos",e,t,n),onAdd:e=>a("pagamentos",e),onRemove:e=>s("pagamentos",e)});case"glosas":case"15":return(0,g.jsx)(vs,{data:n,onUpdate:(e,t,n)=>r("glosas",e,t,n),onAdd:e=>a("glosas",e),onRemove:e=>s("glosas",e)});case"ajustes_saldo":case"11":return(0,g.jsx)(us,{data:n,onUpdate:o,onAdd:l,onRemove:()=>{}});case"descontos":case"13":return(0,g.jsx)(hs,{data:n,onUpdate:(e,t,n)=>r("descontos",e,t,n),onAdd:e=>a("descontos",e),onRemove:e=>s("descontos",e)});case"devolucoes":case"14":return(0,g.jsx)(gs,{data:n,onUpdate:(e,t,n)=>r("devolucoes",e,t,n),onAdd:e=>a("devolucoes",e),onRemove:e=>s("devolucoes",e)});case"disponibilidades":case"9":return(0,g.jsx)(fs,{data:n,onUpdate:o,onAdd:l,onRemove:()=>{}});case"relatorio_atividades":case"18":return(0,g.jsx)(bs,{data:n,updateField:o});case"relatorio_gov":case"22":return(0,g.jsx)(xs,{data:n,updateField:o});case"relacao_empregados":case"4":return(0,g.jsx)(ls,{data:n,onUpdate:(e,t,n)=>r("relacao_empregados",e,t,n),onAdd:e=>a("relacao_empregados",e),onRemove:e=>s("relacao_empregados",e)});case"servidores_cedidos":case"12":return(0,g.jsx)(cs,{data:n,onUpdate:(e,t,n)=>r("servidores_cedidos",e,t,n),onAdd:e=>a("servidores_cedidos",e),onRemove:e=>s("servidores_cedidos",e)});case"relacao_bens":case"5":return(0,g.jsx)(ps,{data:n,onUpdate:o,onAdd:l,onRemove:()=>{}});case"demonstracoes":case"23":return(0,g.jsx)(Es,{data:n,updateField:o});case"publicacoes":case"24":return(0,g.jsx)(ws,{data:n,updateField:o});case"declaracoes":case"21":return(0,g.jsx)(Is,{data:n,updateField:o});case"transparencia":case"27":return(0,g.jsx)(Os,{data:n,updateField:o});case"parecer":case"26":return(0,g.jsx)(_s,{data:n,updateField:o});case"preview":return(0,g.jsx)(ts,{data:n,onDownloadJson:i});case"dashboard":return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"Dashboard"}),(0,g.jsx)("p",{className:"text-slate-500",children:"Vis\xe3o geral do preenchimento."})]});default:return(0,g.jsxs)("div",{className:Va,children:[(0,g.jsx)(Wa,{title:"Se\xe7\xe3o ".concat(t)}),(0,g.jsx)("p",{className:"text-slate-500",children:"Selecione uma se\xe7\xe3o no menu lateral."})]})}},Rs=e=>{var t,n,o,r,a,s,i,l,c;let{data:u,sectionStatus:d,onNavigate:p}=e;const f=((null===(t=u.receitas)||void 0===t||null===(n=t.repasses_recebidos)||void 0===n?void 0:n.reduce((e,t)=>e+(t.valor||0),0))||0)+(((null===(o=u.receitas)||void 0===o||null===(r=o.outras_receitas)||void 0===r?void 0:r.reduce((e,t)=>e+(t.valor||0),0))||0)+((null===(a=u.receitas)||void 0===a?void 0:a.receitas_aplic_financ_repasses_publicos_municipais)||0)+((null===(s=u.receitas)||void 0===s?void 0:s.receitas_aplic_financ_repasses_publicos_estaduais)||0)+((null===(i=u.receitas)||void 0===i?void 0:i.receitas_aplic_financ_repasses_publicos_federais)||0)),m=((null===(l=u.pagamentos)||void 0===l?void 0:l.reduce((e,t)=>e+(t.pagamento_valor||0),0))||0)+((null===(c=u.devolucoes)||void 0===c?void 0:c.reduce((e,t)=>e+(t.valor||0),0))||0),h=f-m,v=["descritor","codigo_ajuste","dados_gerais","responsaveis","empenhos","contratos","documentos_fiscais","pagamentos","repasses","receitas","glosas","ajustes_saldo","descontos","devolucoes","disponibilidades","relatorio_atividades","relatorio_gov","relacao_empregados","servidores_cedidos","relacao_bens","demonstracoes","publicacoes","declaracoes","transparencia","parecer"],y=v.length,b=Object.values(d).filter(e=>"valid"===e.status).length,_=Math.round(b/y*100);return(0,g.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[(0,g.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Progresso do Preenchimento"}),(0,g.jsxs)("div",{className:"flex items-end gap-2",children:[(0,g.jsxs)("span",{className:"text-3xl font-bold text-slate-800",children:[_,"%"]}),(0,g.jsxs)("span",{className:"text-sm text-slate-500 mb-1",children:[b,"/",y," Blocos"]})]}),(0,g.jsx)("div",{className:"w-full bg-slate-100 h-2 mt-3 rounded-full overflow-hidden",children:(0,g.jsx)("div",{className:"bg-blue-600 h-full transition-all duration-1000",style:{width:"".concat(_,"%")}})})]}),(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[(0,g.jsx)("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider mb-2",children:"Total Receitas"}),(0,g.jsx)("span",{className:"text-2xl font-bold text-slate-800",children:f.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,g.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Repasses + Rendimentos"})]}),(0,g.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[(0,g.jsx)("h3",{className:"text-xs font-bold text-red-500 uppercase tracking-wider mb-2",children:"Total Despesas"}),(0,g.jsx)("span",{className:"text-2xl font-bold text-slate-800",children:m.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,g.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:"Pagamentos + Devolu\xe7\xf5es"})]}),(0,g.jsxs)("div",{className:"p-6 rounded-lg shadow-sm border ".concat(h>=0?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"),children:[(0,g.jsx)("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Saldo Final Estimado"}),(0,g.jsx)("span",{className:"text-2xl font-bold ".concat(h>=0?"text-blue-700":"text-red-700"),children:h.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),(0,g.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"Calculado automaticamente"})]})]}),(0,g.jsxs)("div",{className:Va,children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsx)("h2",{className:Ba,children:"Status dos Blocos"}),(0,g.jsxs)("div",{className:"flex gap-4 text-xs font-medium",children:[(0,g.jsxs)("span",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Completo"]}),(0,g.jsxs)("span",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"})," Inv\xe1lido/Pendente"]}),(0,g.jsxs)("span",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{className:"w-2 h-2 rounded-full bg-slate-300"})," Vazio (Opcional)"]})]})]}),(0,g.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:v.map(e=>{const t=d[e];let n="bg-slate-50 border-slate-200 text-slate-400",o="\u26aa";"valid"===(null===t||void 0===t?void 0:t.status)?(n="bg-green-50 border-green-200 text-green-800 hover:bg-green-100",o="\u2705"):"invalid"===(null===t||void 0===t?void 0:t.status)&&(n="bg-red-50 border-red-200 text-red-800 hover:bg-red-100",o="\u26a0\ufe0f");return(0,g.jsxs)("button",{onClick:()=>p(e),className:"p-3 rounded border text-left transition-all ".concat(n," relative group"),children:[(0,g.jsxs)("div",{className:"flex justify-between items-start",children:[(0,g.jsx)("span",{className:"font-bold text-xs uppercase tracking-wide opacity-70",children:"Se\xe7\xe3o"}),(0,g.jsx)("span",{children:o})]}),(0,g.jsx)("div",{className:"font-semibold text-sm mt-1 truncate",children:{descritor:"Descritor",codigo_ajuste:"C\xf3digo Ajuste",dados_gerais:"Dados Gerais",responsaveis:"Respons\xe1veis",empenhos:"Empenhos",contratos:"Contratos",documentos_fiscais:"Docs Fiscais",pagamentos:"Pagamentos",repasses:"Repasses",receitas:"Receitas",glosas:"Glosas",ajustes_saldo:"Ajustes Saldo",descontos:"Descontos",devolucoes:"Devolu\xe7\xf5es",disponibilidades:"Disponibilidades",relatorio_atividades:"Rel. Atividades",relatorio_gov:"Rel. Governo",relacao_empregados:"Empregados",servidores_cedidos:"Cedidos",relacao_bens:"Bens",demonstracoes:"Dem. Cont\xe1beis",publicacoes:"Publica\xe7\xf5es",declaracoes:"Declara\xe7\xf5es",transparencia:"Transpar\xeancia",parecer:"Parecer"}[e]||e}),(null===t||void 0===t?void 0:t.errors.length)>0&&(0,g.jsxs)("div",{className:"hidden group-hover:block absolute bottom-full left-0 w-full bg-slate-800 text-white text-[10px] p-2 rounded mb-2 z-10 shadow-lg",children:[t.errors[0]," ",t.errors.length>1&&"(+".concat(t.errors.length-1,")")]})]},e)})})]})]})},Ps=new Ra({apiKey:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_KEY}),ks={type:L.OBJECT,properties:{documento_numero:{type:L.STRING,description:"CNPJ or CPF numbers only"},nome:{type:L.STRING},documento_tipo:{type:L.NUMBER,description:"2 for CNPJ, 1 for CPF"}}},js={type:L.OBJECT,properties:{numero:{type:L.STRING},data_emissao:{type:L.STRING,description:"YYYY-MM-DD"},valor_bruto:{type:L.NUMBER},credor:ks,descricao:{type:L.STRING},categoria_despesas_tipo:{type:L.NUMBER}}},Ds={type:L.OBJECT,properties:{cpf:{type:L.STRING},data_admissao:{type:L.STRING},salario_contratual:{type:L.NUMBER},cbo:{type:L.STRING},periodos_remuneracao:{type:L.ARRAY,items:{type:L.OBJECT,properties:{mes:{type:L.NUMBER},carga_horaria:{type:L.NUMBER},remuneracao_bruta:{type:L.NUMBER}}}}}},Ms={type:L.OBJECT,properties:{numero:{type:L.STRING},objeto:{type:L.STRING},data_assinatura:{type:L.STRING},valor_montante:{type:L.NUMBER},vigencia_data_inicial:{type:L.STRING},credor:ks}},Fs={type:L.OBJECT,properties:{pagamento_data:{type:L.STRING},pagamento_valor:{type:L.NUMBER},numero_transacao:{type:L.STRING},identificacao_documento_fiscal:{type:L.OBJECT,properties:{numero:{type:L.STRING}}},meio_pagamento_tipo:{type:L.NUMBER}}};L.OBJECT,L.STRING,L.STRING,L.STRING,L.NUMBER,L.OBJECT,L.NUMBER,L.NUMBER,L.STRING,L.NUMBER,L.NUMBER,L.OBJECT,L.STRING,L.NUMBER,L.STRING,L.OBJECT,L.STRING,L.STRING,L.STRING,L.NUMBER;const Us=t=>{let{onDataMerge:n,onCancel:o}=t;const[r,a]=(0,e.useState)(!1),[s,i]=(0,e.useState)(""),[l,c]=(0,e.useState)(null),u=()=>{l&&n(l)};var d,p,f,m;return l?(0,g.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 z-50 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-lg shadow-2xl flex flex-col",children:[(0,g.jsxs)("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Revis\xe3o da Importa\xe7\xe3o Inteligente"}),(0,g.jsx)("p",{className:"text-sm text-slate-500",children:"O OCR identificou os seguintes registros no seu documento."})]}),(0,g.jsxs)("div",{className:"flex gap-3",children:[(0,g.jsx)("button",{onClick:o,className:"text-slate-500 hover:text-slate-800 font-bold text-sm px-4",children:"Cancelar"}),(0,g.jsx)("button",{onClick:u,className:Ga,children:"Confirmar e Importar Tudo"})]})]}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-100 space-y-6",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,g.jsx)(Ls,{label:"Empregados",count:(null===(d=l.relacao_empregados)||void 0===d?void 0:d.length)||0}),(0,g.jsx)(Ls,{label:"Contratos",count:(null===(p=l.contratos)||void 0===p?void 0:p.length)||0}),(0,g.jsx)(Ls,{label:"Notas Fiscais",count:(null===(f=l.documentos_fiscais)||void 0===f?void 0:f.length)||0}),(0,g.jsx)(Ls,{label:"Pagamentos",count:(null===(m=l.pagamentos)||void 0===m?void 0:m.length)||0})]}),(0,g.jsxs)("div",{className:"bg-white p-4 rounded border border-slate-200",children:[(0,g.jsx)("h3",{className:"font-bold text-sm mb-2 text-slate-700",children:"Pr\xe9-visualiza\xe7\xe3o dos Dados Estruturados"}),(0,g.jsx)("pre",{className:"text-xs font-mono bg-slate-900 text-green-400 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(l,null,2)})]})]})]})}):(0,g.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 z-50 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-2xl p-8 text-center",children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsx)("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 011.414.586l4.414 4.414a1 1 0 01.586 1.414V19a2 2 0 01-2 2z"})})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Importar Presta\xe7\xe3o Completa"}),(0,g.jsx)("p",{className:"text-slate-500 mt-2 text-sm",children:"Fa\xe7a upload de um PDF contendo m\xfaltiplos documentos (Notas, Extratos, Folha). A IA ir\xe1 separar e classificar tudo automaticamente."})]}),(0,g.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 hover:bg-slate-50 transition-colors relative cursor-pointer",children:[(0,g.jsx)("input",{type:"file",accept:"application/pdf",onChange:async e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0];a(!0),i("Lendo arquivo (Isso pode levar alguns segundos)...");const n=new FileReader;n.onloadend=async()=>{try{const e=n.result.split(",")[1];i("Enviando para IA (Gemini 2.0)...");const o=await async function(e,t){const n={type:L.OBJECT,properties:{descritor:{type:L.OBJECT,properties:{ano:{type:L.NUMBER},mes:{type:L.NUMBER},entidade:{type:L.NUMBER},municipio:{type:L.NUMBER}}},relacao_empregados:{type:L.ARRAY,items:Ds},contratos:{type:L.ARRAY,items:Ms},documentos_fiscais:{type:L.ARRAY,items:js},pagamentos:{type:L.ARRAY,items:Fs},empenhos:{type:L.ARRAY,items:{type:L.OBJECT,properties:{numero:{type:L.STRING},data_emissao:{type:L.STRING},valor:{type:L.NUMBER},historico:{type:L.STRING}}}},repasses:{type:L.ARRAY,items:{type:L.OBJECT,properties:{data_repasse:{type:L.STRING},valor_repasse:{type:L.NUMBER},numero_documento:{type:L.STRING}}}}}};try{const o=await Ps.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{mimeType:t,data:e}},{text:"\n    You are an expert accountant and auditor for TCESP Audesp Phase V.\n    Analyze this ENTIRE document (Accountability Report / Presta\xe7\xe3o de Contas).\n    \n    Your task is to identify and extract ALL relevant sections into a single JSON structure.\n    \n    1. Identify the 'Descritor' (Year, Month, Entity, City).\n    2. Identify 'Empregados' (Payroll).\n    3. Identify 'Contratos' (Contracts).\n    4. Identify 'Documentos Fiscais' (Invoices, Receipts).\n    5. Identify 'Pagamentos' (Bank transfers, checks).\n    6. Identify 'Empenhos' (Commitments).\n    7. Identify 'Repasses' (Transfers received).\n    \n    If a section is not found, return an empty array for it.\n    Normalize all dates to YYYY-MM-DD.\n    Normalize all values to float (e.g. 1250.50).\n    Clean CPF/CNPJ (numbers only).\n    "}]},config:{responseMimeType:"application/json",responseSchema:n}});return o.text?Da(JSON.parse(o.text)):null}catch(o){throw console.error("Full Report Extraction Error:",o),o}}(e,t.type);o?(c(o),i("An\xe1lise conclu\xedda. Revise os dados abaixo.")):i("Falha: Nenhum dado estruturado encontrado.")}catch(e){i("Erro: ".concat(e.message))}finally{a(!1)}},n.readAsDataURL(t)}},disabled:r,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),r?(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,g.jsx)("p",{className:"text-sm font-bold text-blue-600",children:s})]}):(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-bold text-slate-700",children:"Clique ou arraste o PDF aqui"}),(0,g.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Suporta arquivos PDF digitalizados (OCR via Gemini)"})]})]}),(0,g.jsx)("button",{onClick:o,className:"mt-6 text-slate-400 hover:text-slate-600 text-sm font-medium",children:"Cancelar"})]})})},Ls=e=>{let{label:t,count:n}=e;return(0,g.jsxs)("div",{className:"bg-white p-4 rounded border border-slate-200 shadow-sm text-center",children:[(0,g.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n}),(0,g.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold",children:t})]})},qs=e=>{let{result:t,onClose:n}=e;const o="Recebido"===t.status,r="Armazenado"===t.status;t.status;return(0,g.jsx)("div",{className:"fixed inset-0 bg-slate-900/80 z-[60] flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[(0,g.jsx)("div",{className:"p-6 border-b-4 ".concat(o?"border-green-500 bg-green-100":r?"border-yellow-500 bg-yellow-100":"border-red-500 bg-red-100"),children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("span",{className:"text-3xl",children:o?"\u2705":r?"\u26a0\ufe0f":"\u26d4"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:o?"SUCESSO: DOCUMENTO RECEBIDO":r?"ATEN\xc7\xc3O: DOCUMENTO ARMAZENADO COM RESSALVAS":"ERRO: DOCUMENTO REJEITADO"}),(0,g.jsx)("p",{className:"text-sm font-bold text-slate-600 opacity-80",children:t.tipoDocumento})]})]})}),(0,g.jsxs)("div",{className:"p-6 overflow-y-auto bg-slate-50 flex-1 space-y-6",children:[(0,g.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm flex justify-between items-center",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Protocolo Audesp"}),(0,g.jsx)("div",{className:"text-2xl font-mono font-bold text-slate-800 select-all",children:t.protocolo})]}),(0,g.jsxs)("div",{className:"text-right",children:[(0,g.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Data/Hora"}),(0,g.jsx)("div",{className:"text-sm font-bold text-slate-600",children:t.dataHora})]})]}),t.erros&&t.erros.length>0&&(0,g.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[(0,g.jsx)("div",{className:"bg-slate-100 p-2 border-b border-slate-200",children:(0,g.jsx)("h4",{className:"text-xs font-bold text-slate-600 uppercase",children:"Detalhamento da An\xe1lise"})}),(0,g.jsxs)("table",{className:"w-full text-xs text-left",children:[(0,g.jsx)("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{className:"p-2",children:"Tipo"}),(0,g.jsx)("th",{className:"p-2",children:"C\xf3digo"}),(0,g.jsx)("th",{className:"p-2",children:"Campo"}),(0,g.jsx)("th",{className:"p-2",children:"Mensagem"})]})}),(0,g.jsx)("tbody",{className:"divide-y divide-slate-100",children:t.erros.map((e,t)=>(0,g.jsxs)("tr",{className:"Impedittivo"===e.classificacao?"bg-red-50/50":"",children:[(0,g.jsx)("td",{className:"p-2 font-bold",children:(0,g.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] ".concat("Impedittivo"===e.classificacao?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.classificacao})}),(0,g.jsx)("td",{className:"p-2 font-mono text-slate-500",children:e.codigoErro}),(0,g.jsx)("td",{className:"p-2 font-mono text-slate-600",children:e.campo}),(0,g.jsx)("td",{className:"p-2 text-slate-800",children:e.mensagem})]},t))})]})]})]}),(0,g.jsxs)("div",{className:"p-4 border-t border-slate-200 bg-white flex justify-end gap-3",children:[(0,g.jsx)("button",{onClick:n,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded shadow transition-colors",children:"Fechar"}),o&&(0,g.jsx)("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded shadow transition-colors",children:"Imprimir Recibo"})]})]})})},Vs={descritor:{tipo_documento:"Presta\xe7\xe3o de Contas de Conv\xeanio",municipio:0,entidade:0,ano:2025,mes:1},codigo_ajuste:"",retificacao:!1,relacao_empregados:[],relacao_bens:{relacao_bens_moveis_adquiridos:[],relacao_bens_moveis_cedidos:[],relacao_bens_moveis_baixados_devolvidos:[],relacao_bens_imoveis_adquiridos:[],relacao_bens_imoveis_cedidos:[],relacao_bens_imoveis_baixados_devolvidos:[]},contratos:[],documentos_fiscais:[],pagamentos:[],disponibilidades:{saldos:[],saldo_fundo_fixo:0},receitas:{repasses_recebidos:[],outras_receitas:[],recursos_proprios:[]},ajustes_saldo:{retificacao_repasses:[],inclusao_repasses:[],retificacao_pagamentos:[],inclusao_pagamentos:[]},servidores_cedidos:[],descontos:[],devolucoes:[],glosas:[],empenhos:[],repasses:[],relatorio_atividades:{programas:[]},dados_gerais_entidade_beneficiaria:{identificacao_certidao_dados_gerais:"",identificacao_certidao_corpo_diretivo:"",identificacao_certidao_membros_conselho:""},responsaveis_membros_orgao_concessor:{identificacao_certidao_responsaveis:"",identificacao_certidao_membros_comissao_avaliacao:"",identificacao_certidao_membros_controle_interno:""},declaracoes:{houve_contratacao_empresas_pertencentes:!1,houve_participacao_quadro_diretivo_administrativo:!1},relatorio_governamental_analise_execucao:{houve_emissao_relatorio_final:!1},demonstracoes_contabeis:{publicacoes:[],responsavel:{numero_crc:"",cpf:"",situacao_regular_crc:!1}},publicacoes_parecer_ata:[],prestacao_contas_entidade_beneficiaria:{data_prestacao:"",periodo_referencia_data_inicial:"",periodo_referencia_data_final:""},parecer_conclusivo:{identificacao_parecer:"",conclusao_parecer:1,declaracoes:[]},transparencia:{entidade_beneficiaria_mantem_sitio_internet:!1,sitios_internet:[],requisitos_artigos_7o_8o_paragrafo_1o:[],requisitos_sitio_artigo_8o_paragrafo_3o:[],requisitos_divulgacao_informacoes:[]}},Gs="audesp_token",Hs="audesp_expire";function zs(){return sessionStorage.getItem(Gs)}function Bs(){if(!zs())return!1;const e=sessionStorage.getItem(Hs);return!e||Date.now()<parseInt(e,10)}const $s="audesp_protocolos";function Js(e){const t=function(){const e=localStorage.getItem($s);if(!e)return[];try{return JSON.parse(e)}catch(t){return[]}}();t.unshift(e),localStorage.setItem($s,JSON.stringify(t))}const Ks={"Presta\xe7\xe3o de Contas de Conv\xeanio":"/enviar-prestacao-contas-convenio","Presta\xe7\xe3o de Contas de Contrato de Gest\xe3o":"/enviar-prestacao-contas-contrato-gestao","Presta\xe7\xe3o de Contas de Termo de Parceria":"/enviar-prestacao-contas-parceria","Presta\xe7\xe3o de Contas de Termo de Fomento":"/enviar-prestacao-contas-termo-fomento","Presta\xe7\xe3o de Contas de Termo de Colabora\xe7\xe3o":"/enviar-prestacao-contas-termo-colaboracao","Declara\xe7\xe3o Negativa":"/enviar-prestacao-contas-declaracao-negativa"};var Ws=n(7003),Ys=n.n(Ws),Qs=n(483),Xs=n.n(Qs);const Zs=new(Ys())({allErrors:!0,verbose:!0,coerceTypes:!0});function ei(e){const t={};return Array.from({length:27},(e,t)=>String(t+1)).forEach(n=>{const o=function(e,t){var n,o,r,a,s,i,l,c,u,d,p,f,m,h,g,v,y;const b=[];switch(e){case"1":t.descritor.municipio||b.push("Munic\xedpio \xe9 obrigat\xf3rio."),t.descritor.entidade||b.push("C\xf3digo da Entidade \xe9 obrigat\xf3rio."),t.descritor.ano||b.push("Ano \xe9 obrigat\xf3rio."),t.descritor.mes||b.push("M\xeas \xe9 obrigat\xf3rio.");break;case"2":t.codigo_ajuste||b.push("C\xf3digo do Ajuste \xe9 obrigat\xf3rio.");break;case"3":case"11":case"22":break;case"4":null===(n=t.relacao_empregados)||void 0===n||n.forEach((e,t)=>{var n;e.cpf&&11===e.cpf.length||b.push("Empregado #".concat(t+1,": CPF inv\xe1lido (deve ter 11 d\xedgitos).")),e.data_admissao||b.push("Empregado #".concat(t+1,": Data de admiss\xe3o obrigat\xf3ria.")),e.periodos_remuneracao&&0!==e.periodos_remuneracao.length||b.push("Empregado #".concat(t+1,": Deve ter ao menos um per\xedodo de remunera\xe7\xe3o.")),null===(n=e.periodos_remuneracao)||void 0===n||n.forEach((e,n)=>{e.remuneracao_bruta<=0&&b.push("Empregado #".concat(t+1,", M\xeas ").concat(e.mes,": Remunera\xe7\xe3o deve ser maior que zero.")),(e.mes>12||e.mes<1)&&b.push("Empregado #".concat(t+1,": M\xeas ").concat(e.mes," inv\xe1lido."))})});break;case"5":const e=null===(o=t.relacao_bens)||void 0===o?void 0:o.relacao_bens_moveis_adquiridos;null===e||void 0===e||e.forEach((e,t)=>{e.numero_patrimonio||b.push("Bem #".concat(t+1,": N\xba Patrim\xf4nio obrigat\xf3rio.")),e.descricao||b.push("Bem #".concat(t+1,": Descri\xe7\xe3o obrigat\xf3ria.")),(!e.valor_aquisicao||e.valor_aquisicao<=0)&&b.push("Bem #".concat(t+1,": Valor inv\xe1lido."))});break;case"6":null===(r=t.contratos)||void 0===r||r.forEach((e,t)=>{var n;e.numero||b.push("Contrato #".concat(t+1,": N\xfamero obrigat\xf3rio.")),null!==(n=e.credor)&&void 0!==n&&n.documento_numero||b.push("Contrato #".concat(t+1,": Credor obrigat\xf3rio.")),e.valor_montante<=0&&b.push("Contrato #".concat(t+1,": Valor deve ser positivo.")),e.vigencia_data_inicial&&e.vigencia_data_final&&new Date(e.vigencia_data_inicial)>new Date(e.vigencia_data_final)&&b.push("Contrato #".concat(t+1,": Data final de vig\xeancia anterior \xe0 inicial."))});break;case"7":null===(a=t.documentos_fiscais)||void 0===a||a.forEach((e,t)=>{var n;e.numero||b.push("Doc. Fiscal #".concat(t+1,": N\xfamero obrigat\xf3rio.")),e.valor_bruto<=0&&b.push("Doc. Fiscal #".concat(t+1,": Valor deve ser positivo.")),null!==(n=e.credor)&&void 0!==n&&n.documento_numero||b.push("Doc. Fiscal #".concat(t+1,": Credor obrigat\xf3rio.")),e.data_emissao||b.push("Doc. Fiscal #".concat(t+1,": Data emiss\xe3o obrigat\xf3ria."))});break;case"8":null===(s=t.pagamentos)||void 0===s||s.forEach((e,n)=>{var o;if(e.pagamento_data||b.push("Pagamento #".concat(n+1,": Data obrigat\xf3ria.")),e.pagamento_valor<=0&&b.push("Pagamento #".concat(n+1,": Valor deve ser positivo.")),null!==(o=e.identificacao_documento_fiscal)&&void 0!==o&&o.numero||b.push("Pagamento #".concat(n+1,": V\xednculo com Nota Fiscal obrigat\xf3rio.")),t.documentos_fiscais){const o=t.documentos_fiscais.find(t=>t.numero===e.identificacao_documento_fiscal.numero);o?o.data_emissao&&e.pagamento_data&&new Date(e.pagamento_data)<new Date(o.data_emissao)&&b.push("Pagamento #".concat(n+1,": Data do pagamento (").concat(e.pagamento_data,") anterior \xe0 emiss\xe3o da nota (").concat(o.data_emissao,").")):b.push("Pagamento #".concat(n+1,": Nota Fiscal vinculada (").concat(e.identificacao_documento_fiscal.numero,") n\xe3o encontrada na se\xe7\xe3o 7."))}});break;case"9":null===(i=t.disponibilidades)||void 0===i||i.saldos.forEach((e,t)=>{e.conta||b.push("Saldo #".concat(t+1,": Conta obrigat\xf3ria.")),e.banco||b.push("Saldo #".concat(t+1,": Banco obrigat\xf3rio.")),void 0===e.saldo_bancario&&b.push("Saldo #".concat(t+1,": Valor banc\xe1rio obrigat\xf3rio."))});break;case"10":null!==(l=t.receitas)&&void 0!==l&&l.repasses_recebidos&&t.receitas.repasses_recebidos.forEach((e,t)=>{e.data_repasse||b.push("Receita (Repasse) #".concat(t+1,": Data obrigat\xf3ria.")),e.valor<=0&&b.push("Receita (Repasse) #".concat(t+1,": Valor deve ser positivo."))});break;case"12":null===(c=t.servidores_cedidos)||void 0===c||c.forEach((e,t)=>{e.cpf||b.push("Servidor #".concat(t+1,": CPF obrigat\xf3rio.")),e.data_inicial_cessao||b.push("Servidor #".concat(t+1,": Data in\xedcio obrigat\xf3ria."))});break;case"16":null===(u=t.empenhos)||void 0===u||u.forEach((e,t)=>{e.numero||b.push("Empenho #".concat(t+1,": N\xfamero obrigat\xf3rio.")),e.valor<=0&&b.push("Empenho #".concat(t+1,": Valor inv\xe1lido."))});break;case"17":null===(d=t.repasses)||void 0===d||d.forEach((e,t)=>{(!e.valor_repasse||e.valor_repasse<=0)&&b.push("Repasse #".concat(t+1,": Valor inv\xe1lido.")),e.data_repasse||b.push("Repasse #".concat(t+1,": Data obrigat\xf3ria."))});break;case"18":null!==(p=t.relatorio_atividades)&&void 0!==p&&p.programas?(0===t.relatorio_atividades.programas.length&&b.push("Pelo menos um Programa deve ser cadastrado."),t.relatorio_atividades.programas.forEach((e,t)=>{e.nome_programa||b.push("Programa #".concat(t+1,": Nome obrigat\xf3rio.")),e.metas&&0!==e.metas.length||b.push("Programa #".concat(t+1,": Deve ter ao menos uma meta.")),e.metas.forEach((e,n)=>{e.codigo_meta||b.push("Programa #".concat(t+1,", Meta #").concat(n+1,": C\xf3digo obrigat\xf3rio.")),e.meta_atendida||e.justificativa||b.push("Programa #".concat(t+1,", Meta #").concat(n+1,": Justificativa obrigat\xf3ria para meta n\xe3o atendida."))})})):b.push("Relat\xf3rio de atividades vazio (Se\xe7\xe3o 18).");break;case"19":null!==(f=t.dados_gerais_entidade_beneficiaria)&&void 0!==f&&f.identificacao_certidao_dados_gerais||b.push("Certid\xe3o de Dados Gerais obrigat\xf3ria."),null!==(m=t.dados_gerais_entidade_beneficiaria)&&void 0!==m&&m.identificacao_certidao_corpo_diretivo||b.push("Certid\xe3o de Corpo Diretivo obrigat\xf3ria.");break;case"20":null!==(h=t.responsaveis_membros_orgao_concessor)&&void 0!==h&&h.identificacao_certidao_responsaveis||b.push("Certid\xe3o de Respons\xe1veis obrigat\xf3ria.");break;case"21":const _=t.declaracoes;null===_||void 0===_||!_.houve_contratacao_empresas_pertencentes||_.empresas_pertencentes&&0!==_.empresas_pertencentes.length||b.push("Se houve contrata\xe7\xe3o de empresas pertencentes, a lista de empresas \xe9 obrigat\xf3ria.");break;case"23":null!==(g=t.demonstracoes_contabeis)&&void 0!==g&&null!==(v=g.responsavel)&&void 0!==v&&v.cpf||b.push("CPF do Respons\xe1vel T\xe9cnico obrigat\xf3rio.");break;case"26":null!==(y=t.parecer_conclusivo)&&void 0!==y&&y.identificacao_parecer||b.push("Identifica\xe7\xe3o do Parecer Conclusivo obrigat\xf3ria.");break;case"27":const E=t.transparencia;null!==E&&void 0!==E&&E.entidade_beneficiaria_mantem_sitio_internet&&(E.sitios_internet&&0!==E.sitios_internet.length&&!E.sitios_internet.some(e=>!e.trim())||b.push("Se mant\xe9m s\xedtio na internet, informe a URL."))}return b}(n,e);let r="valid";const a=function(e,t){var n,o,r,a,s,i,l,c,u,d,p;switch(e){case"1":return!t.descritor.municipio;case"2":return!t.codigo_ajuste;case"3":case"27":return!1;case"4":return!t.relacao_empregados||0===t.relacao_empregados.length;case"5":return!(null!==(n=t.relacao_bens)&&void 0!==n&&n.relacao_bens_moveis_adquiridos)||0===t.relacao_bens.relacao_bens_moveis_adquiridos.length;case"6":return!t.contratos||0===t.contratos.length;case"7":return!t.documentos_fiscais||0===t.documentos_fiscais.length;case"8":return!t.pagamentos||0===t.pagamentos.length;case"9":return!(null!==(o=t.disponibilidades)&&void 0!==o&&o.saldos)||0===t.disponibilidades.saldos.length;case"10":return!(null!==(r=t.receitas)&&void 0!==r&&r.repasses_recebidos)||0===t.receitas.repasses_recebidos.length;case"11":return!(null!==(a=t.ajustes_saldo)&&void 0!==a&&a.retificacao_repasses)||0===t.ajustes_saldo.retificacao_repasses.length;case"12":return!t.servidores_cedidos||0===t.servidores_cedidos.length;case"13":return!t.descontos||0===t.descontos.length;case"14":return!t.devolucoes||0===t.devolucoes.length;case"15":return!t.glosas||0===t.glosas.length;case"16":return!t.empenhos||0===t.empenhos.length;case"17":return!t.repasses||0===t.repasses.length;case"18":return!(null!==(s=t.relatorio_atividades)&&void 0!==s&&s.programas)||0===t.relatorio_atividades.programas.length;case"19":return!(null!==(i=t.dados_gerais_entidade_beneficiaria)&&void 0!==i&&i.identificacao_certidao_dados_gerais);case"20":return!(null!==(l=t.responsaveis_membros_orgao_concessor)&&void 0!==l&&l.identificacao_certidao_responsaveis);case"21":return!t.declaracoes;case"22":return!(null!==(c=t.relatorio_governamental_analise_execucao)&&void 0!==c&&c.houve_emissao_relatorio_final);case"23":return!(null!==(u=t.demonstracoes_contabeis)&&void 0!==u&&u.publicacoes)||0===t.demonstracoes_contabeis.publicacoes.length;case"24":return!t.publicacoes_parecer_ata||0===t.publicacoes_parecer_ata.length;case"25":return!(null!==(d=t.prestacao_contas_entidade_beneficiaria)&&void 0!==d&&d.data_prestacao);case"26":return!(null!==(p=t.parecer_conclusivo)&&void 0!==p&&p.identificacao_parecer);default:return!0}}(n,e);o.length>0?r="invalid":a&&(r="empty",["1","2","18","19","20","21","26","27"].includes(n)&&(r="invalid",0===o.length&&o.push("Se\xe7\xe3o obrigat\xf3ria n\xe3o preenchida."))),t[n]={id:n,status:r,errors:o}}),t}function ti(e){var t,n,o,r,a,s,i,l,c,u;null===(t=e.pagamentos)||void 0===t||t.reduce((e,t)=>e+(t.pagamento_valor||0),0),null===(n=e.devolucoes)||void 0===n||n.reduce((e,t)=>e+(t.valor||0),0),null===(o=e.receitas)||void 0===o||null===(r=o.repasses_recebidos)||void 0===r||r.reduce((e,t)=>e+(t.valor||0),0),null===(a=e.receitas)||void 0===a||null===(s=a.outras_receitas)||void 0===s||s.reduce((e,t)=>e+(t.valor||0),0),null===(i=e.receitas)||void 0===i||i.receitas_aplic_financ_repasses_publicos_municipais,null===(l=e.receitas)||void 0===l||l.receitas_aplic_financ_repasses_publicos_estaduais,null===(c=e.receitas)||void 0===c||c.receitas_aplic_financ_repasses_publicos_federais,null===(u=e.disponibilidades)||void 0===u||u.saldos.reduce((e,t)=>e+(t.saldo_bancario||0),0);return[]}Xs()(Zs);const ni=()=>{const[t,n]=(0,e.useState)("dashboard"),[o,r]=(0,e.useState)(Vs),[a,s]=(0,e.useState)([]),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!1),[p,f]=(0,e.useState)("idle"),[m,h]=(0,e.useState)(null),[y,b]=(0,e.useState)(null),_=(0,e.useMemo)(()=>ei(o),[o]),[E,x]=(0,e.useState)(!1),[w,S]=(0,e.useState)(null),[C,N]=(0,e.useState)("afpereira@saude.sp.gov.br"),[I,T]=(0,e.useState)("M@dmax2026"),[O,A]=(0,e.useState)(null),[R,P]=(0,e.useState)(!1),k=(0,e.useRef)(w);(0,e.useEffect)(()=>{k.current=w},[w]),(0,e.useEffect)(()=>{if(Bs()){x(!0),S(zs());const t=localStorage.getItem("audesp_draft");if(t)try{r(JSON.parse(t))}catch(e){}}else M()},[]);const j=function(e){h({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>h(null),5e3)},D=async e=>{e.preventDefault(),P(!0),A(null);try{const e=await async function(e,t){const n="".concat("https://audesp-piloto.tce.sp.gov.br","/login"),o=e.trim(),r=t.trim();console.log("[Auth] Iniciando login para: ".concat(n));try{const e=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-authorization":"".concat(o,":").concat(r)},body:void 0}),t=await e.text();let s;console.log("[Auth] Resposta Body: ".concat(t.substring(0,50),"..."));try{s=JSON.parse(t)}catch(a){s={message:t||"Erro n\xe3o-JSON do servidor"}}if(!e.ok){let t=s.message||s.error||"Falha na autentica\xe7\xe3o";throw 401===e.status?t="Credenciais inv\xe1lidas ou usu\xe1rio sem permiss\xe3o.":404===e.status?t="Endpoint de Login n\xe3o encontrado (404).":e.status>=500&&(t="Erro do Servidor Audesp (".concat(e.status,")")),new Error(t)}const i=s.access_token||s.token;if(!i)throw new Error("Token n\xe3o encontrado na resposta.");let l;l=s.expire_in?"number"===typeof s.expire_in&&s.expire_in<1e10?1e3*s.expire_in:new Date(s.expire_in).getTime():Date.now()+72e5;const c={token:i,expire_in:l,token_type:s.token_type||"bearer"};return sessionStorage.setItem(Gs,c.token),sessionStorage.setItem(Hs,c.expire_in.toString()),c}catch(s){if(console.error("[Auth Error]",s),s.message&&s.message.includes("Failed to fetch"))throw new Error("ERRO DE REDE LOCAL.\nFalha ao conectar via Proxy.\nVerifique se o servidor Audesp Piloto est\xe1 online.");throw s}}(C,I);S(e.token),x(!0),j("Login no Ambiente Piloto realizado!","success");const n=localStorage.getItem("audesp_draft");if(n)try{r(JSON.parse(n))}catch(t){}}catch(n){A(n.message)}finally{P(!1)}},M=()=>{sessionStorage.clear(),S(null),x(!1)},F=()=>{try{((e,t)=>{const n=JSON.stringify(e,null,2),o=new Blob([n],{type:"application/json"}),r=URL.createObjectURL(o),a="prestacao_".concat(e.descritor.entidade,"_").concat(e.descritor.mes,"_").concat(e.descritor.ano,".json"),s=document.createElement("a");s.href=r,s.download=t||a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)})(o),j("Arquivo JSON baixado com sucesso!","success")}catch(e){j("Erro ao gerar arquivo.","error")}};return E?(0,g.jsxs)("div",{className:"flex bg-slate-100 min-h-screen font-sans text-slate-900",children:[(0,g.jsx)(v,{activeSection:t,setActiveSection:n,onTransmit:()=>{c(!0),f("processing"),s(["Iniciando processo de transmiss\xe3o..."]),b(null),setTimeout(async()=>{try{if(!Bs()||!k.current)throw new Error("Sess\xe3o expirada. Fa\xe7a login novamente.");s(e=>[...e,"Validando estrutura de dados..."]);const e=function(e){const t=ei(e),n=[];return Object.values(t).forEach(e=>{"invalid"===e.status&&e.errors.forEach(t=>n.push("[Se\xe7\xe3o ".concat(e.id,"] ").concat(t)))}),ti(e).forEach(e=>n.push("[Consist\xeancia] ".concat(e))),n}(o);s(e=>[...e,"Verificando consist\xeancia cont\xe1bil (cross-check)..."]);const t=ti(o);if(e.length>0||t.length>0)return f("error"),void s(["ERRO DE VALIDA\xc7\xc3O LOCAL:",...e,...t]);s(e=>[...e,"Valida\xe7\xe3o OK. Enviando JSON para API Piloto Audesp..."]);const n=await async function(e,t){const n=t.descritor.tipo_documento,o=Ks[n];if(!o)throw new Error("Tipo de documento n\xe3o mapeado: ".concat(n));const r="".concat("https://audesp-piloto.tce.sp.gov.br/f5").concat(o);console.log("[Transmission] Enviando para: ".concat(r));const a=t,s=new FormData,i=new Blob([JSON.stringify(a)],{type:"application/json"});s.append("documentoJSON",i,"prestacao_".concat(t.descritor.entidade,"_").concat(t.descritor.mes,"_").concat(t.descritor.ano,".json"));try{const t=await fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"},body:s}),n=await t.text();let o;console.log("[Transmission] Status: ".concat(t.status));try{o=JSON.parse(n)}catch(l){throw new Error("Erro n\xe3o-JSON do servidor (".concat(t.status,"): ").concat(n.substring(0,100)))}if(!t.ok){const e=JSON.stringify(o,null,2);throw new Error(e)}return o.protocolo&&Js({protocolo:o.protocolo,dataHora:o.dataHora,status:o.status,tipoDocumento:o.tipoDocumento}),o}catch(c){throw console.error("[Transmission Error]",c),c}}(k.current,o);"Rejeitado"===n.status?(f("error"),s(e=>[...e,"FALHA: Documento Rejeitado pelo Audesp.","Protocolo: ".concat(n.protocolo)])):"Armazenado"===n.status?(f("success"),s(e=>[...e,"ALERTA: Documento Armazenado com Ressalvas.","Protocolo: ".concat(n.protocolo)])):(f("success"),s(e=>[...e,"SUCESSO: Documento Recebido.","Protocolo: ".concat(n.protocolo)])),b(n),c(!1)}catch(e){f("error");let n=e.message;try{const e=JSON.parse(n);n=JSON.stringify(e,null,2)}catch(t){}s(e=>[...e,"ERRO T\xc9CNICO NA TRANSMISS\xc3O:",n]),(n.includes("401")||n.includes("Unauthorized"))&&setTimeout(()=>M(),3e3)}},500)},onDownload:F,onLoadJson:async e=>{try{const t=await(e=>new Promise((t,n)=>{const o=new FileReader;o.onload=e=>{try{var o;if(null!==(o=e.target)&&void 0!==o&&o.result){const n=JSON.parse(e.target.result);if(!n.descritor)throw new Error("Arquivo inv\xe1lido: Objeto 'descritor' n\xe3o encontrado.");t(n)}else n(new Error("Arquivo vazio ou ileg\xedvel."))}catch(r){n(r)}},o.onerror=()=>{n(new Error("Erro ao ler o arquivo."))},o.readAsText(e)}))(e);r(t),j("Dados carregados com sucesso!","success")}catch(t){j("Erro ao ler arquivo: ".concat(t.message),"error")}},onNew:()=>{window.confirm("Tem certeza? Isso apagar\xe1 todos os dados atuais.")&&(r(Vs),localStorage.removeItem("audesp_draft"),j("Formul\xe1rio reiniciado.","info"))},onSaveDraft:()=>{localStorage.setItem("audesp_draft",JSON.stringify(o)),j("Rascunho salvo no navegador.","success")},onImportFullPdf:()=>d(!0),sectionStatus:_}),(0,g.jsxs)("main",{className:"flex-1 ml-64 p-8",children:[(0,g.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Presta\xe7\xe3o de Contas"}),(0,g.jsx)("p",{className:"text-sm text-slate-500",children:"Audesp Fase V - Piloto Oficial"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("span",{className:"text-xs text-green-600 font-bold bg-green-50 px-2 py-1 rounded border border-green-200",children:"\u25cf Conectado ao Piloto"}),(0,g.jsx)("button",{onClick:M,className:"text-red-600 font-bold text-sm bg-red-50 hover:bg-red-100 px-4 py-2 rounded transition-colors border border-red-100",children:"SAIR"})]})]}),(0,g.jsx)("div",{className:"max-w-6xl mx-auto pb-20",children:"dashboard"===t?(0,g.jsx)(Rs,{data:o,sectionStatus:_,onNavigate:n}):(0,g.jsx)(As,{activeSection:t,formData:o,updateField:(e,t)=>{"string"===typeof e?r(n=>{const o=JSON.parse(JSON.stringify(n)),r=e.split(".");let a=o;for(let e=0;e<r.length-1;e++)a=a[r[e]]=a[r[e]]||{};return a[r[r.length-1]]=t,o}):console.error("CRITICAL: updateField received invalid path. Ignoring.",e,t)},updateItem:(e,t,n,o)=>{"string"===typeof e?r(r=>{const a=JSON.parse(JSON.stringify(r)),s=e.split(".");let i=a;for(let e=0;e<s.length;e++)i=i[s[e]];if(Array.isArray(i)&&i[t]){const e=n.split(".");let r=i[t];for(let t=0;t<e.length-1;t++)r=r[e[t]]=r[e[t]]||{};r[e[e.length-1]]=o}return a}):console.error("CRITICAL: updateItem received invalid path.",e)},addItem:(e,t)=>{"string"===typeof e?r(n=>{const o=JSON.parse(JSON.stringify(n)),r=e.split(".");let a=o;for(let e=0;e<r.length-1;e++)a=a[r[e]]=a[r[e]]||{};const s=r[r.length-1];return Array.isArray(a[s])||(a[s]=[]),a[s].push(t),o}):console.error("CRITICAL: addItem received invalid path.",e)},removeItem:(e,t)=>{"string"===typeof e&&r(n=>{const o=JSON.parse(JSON.stringify(n)),r=e.split(".");let a=o;for(let e=0;e<r.length-1;e++)a=a[r[e]];const s=r[r.length-1];return Array.isArray(a[s])&&a[s].splice(t,1),o})},handleExtraction:()=>{},handleDownload:F})})]}),m&&(0,g.jsx)("div",{className:"fixed top-4 right-4 z-50 px-6 py-4 rounded shadow-xl border-l-4 ".concat("error"===m.type?"bg-white border-red-500 text-red-700":"bg-white border-green-500 text-green-700"),children:m.message}),u&&(0,g.jsx)(Us,{onDataMerge:e=>{r(t=>{const n=i({},t);return e.relacao_empregados&&(n.relacao_empregados=[...t.relacao_empregados||[],...e.relacao_empregados]),e.contratos&&(n.contratos=[...t.contratos||[],...e.contratos]),e.documentos_fiscais&&(n.documentos_fiscais=[...t.documentos_fiscais||[],...e.documentos_fiscais]),e.pagamentos&&(n.pagamentos=[...t.pagamentos||[],...e.pagamentos]),e.empenhos&&(n.empenhos=[...t.empenhos||[],...e.empenhos]),e.descritor&&e.descritor.ano&&(n.descritor=i(i({},t.descritor),e.descritor)),n}),d(!1),j("Dados importados e mesclados com sucesso!","success")},onCancel:()=>d(!1)}),l&&!y&&(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-hidden",children:[(0,g.jsx)("div",{className:"p-4 border-b flex justify-between bg-slate-50",children:(0,g.jsx)("h3",{className:"font-bold text-slate-800",children:"Processando Transmiss\xe3o..."})}),(0,g.jsx)("div",{className:"p-6 bg-slate-900 text-green-400 font-mono text-xs h-80 overflow-y-auto whitespace-pre-wrap",children:a.join("\n")})]})}),y&&(0,g.jsx)(qs,{result:y,onClose:()=>b(null)})]}):(0,g.jsx)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center items-center p-4",children:(0,g.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg border border-slate-200 p-8",children:[(0,g.jsxs)("div",{className:"text-center mb-6",children:[(0,g.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1a/Bras%C3%A3o_do_estado_de_S%C3%A3o_Paulo.svg",className:"h-16 mx-auto mb-2",alt:"Logo"}),(0,g.jsx)("h1",{className:"text-xl font-bold text-slate-800",children:"Audesp Connect - Piloto V"}),(0,g.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Sistema de Presta\xe7\xe3o de Contas (v1.9.4)"})]}),(0,g.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),(0,g.jsx)("input",{type:"email",value:C,onChange:e=>N(e.target.value),className:"w-full h-10 px-3 border rounded",required:!0,placeholder:"email@instituicao.org.br"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Senha"}),(0,g.jsx)("input",{type:"password",value:I,onChange:e=>T(e.target.value),className:"w-full h-10 px-3 border rounded",required:!0})]}),O&&(0,g.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-red-600 text-xs font-semibold",children:[(0,g.jsx)("strong",{className:"block mb-1 text-red-700",children:"Falha no Login:"}),(0,g.jsx)("span",{className:"whitespace-pre-line leading-relaxed block",children:O})]}),(0,g.jsx)("button",{type:"submit",disabled:R,className:"w-full bg-blue-600 hover:bg-blue-700 text-white h-10 rounded font-bold transition-colors shadow-sm disabled:opacity-70",children:R?"Autenticando...":"Acessar Ambiente Piloto"})]}),(0,g.jsxs)("div",{className:"mt-8 text-center text-[10px] text-slate-400 border-t pt-4",children:[(0,g.jsxs)("p",{children:["Ambiente Oficial: ",(0,g.jsx)("span",{className:"font-mono text-slate-600",children:"audesp-piloto.tce.sp.gov.br"})]}),(0,g.jsx)("p",{className:"mt-2 text-yellow-600 bg-yellow-50 inline-block px-2 py-1 rounded",children:"Nota: Reinicie 'npm start' se mudou o Proxy."})]})]})})},oi=document.getElementById("root");if(!oi)throw new Error("Could not find root element to mount to");t.createRoot(oi).render((0,g.jsx)(e.StrictMode,{children:(0,g.jsx)(ni,{})}))})()})();
//# sourceMappingURL=main.4f867a92.js.map