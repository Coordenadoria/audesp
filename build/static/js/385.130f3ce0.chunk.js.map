{"version":3,"file":"static/js/385.130f3ce0.chunk.js","mappings":"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","sources":["components/ui/BlockBase.tsx","services/ocrServiceBackend.ts","components/GeminiUploader.tsx","components/Dashboard.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { GeminiUploader } from '../GeminiUploader';\n\n// --- Shared Styles ---\nexport const CLS = {\n    INPUT: \"w-full h-10 px-3 rounded-md border border-slate-300 text-sm text-slate-700 shadow-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-all placeholder:text-slate-400 disabled:bg-slate-50 disabled:text-slate-500\",\n    CHECKBOX: \"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500 cursor-pointer transition-colors\",\n    LABEL: \"block text-xs font-bold text-slate-500 uppercase mb-1.5 tracking-wider\",\n    SECTION: \"bg-white p-6 rounded-lg shadow-sm border border-slate-200 mb-6 animate-in fade-in slide-in-from-bottom-2 duration-500\",\n    BTN_ADD: \"h-9 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium shadow-sm transition-colors flex items-center gap-2 cursor-pointer\",\n    BTN_REMOVE: \"text-red-500 hover:text-red-700 text-xs font-bold uppercase tracking-wide transition-colors px-2 py-1 rounded hover:bg-red-50 cursor-pointer\",\n    BTN_SUB: \"h-7 px-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded text-xs font-bold\",\n    HEADER_TITLE: \"text-xl font-bold text-slate-800\",\n    HEADER_DIVIDER: \"flex justify-between items-center mb-6 pb-4 border-b border-slate-100\",\n    GRID_CONTAINER: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5\",\n    FLEX_ROW_CENTER: \"flex items-center gap-3\",\n};\n\nexport const SectionHeader = ({ title, children }: { title: string, children?: React.ReactNode }) => (\n    <div className={CLS.HEADER_DIVIDER}>\n        <h2 className={CLS.HEADER_TITLE}>{title}</h2>\n        <div className=\"flex gap-2\">{children}</div>\n    </div>\n);\n\nexport const InputGroup = ({ label, error, children }: { label: string, error?: string, children?: React.ReactNode }) => (\n    <div className=\"mb-1\">\n        <label className={CLS.LABEL}>{label}</label>\n        {children}\n        {error && <div className=\"text-red-600 text-[10px] font-bold uppercase mt-1 animate-pulse\">{error}</div>}\n    </div>\n);\n\n// --- Block Factory Props ---\ninterface ArrayBlockProps<T> {\n    title: string;\n    items: T[];\n    newItemTemplate: T;\n    onAdd: (item: T) => void;\n    onRemove: (index: number) => void;\n    onUpdate: (index: number, field: string, value: any) => void;\n    renderItem: (item: T, index: number, update: (field: string, val: any) => void) => React.ReactNode;\n    ocrSection?: string;\n    onOcrData?: (data: any) => void;\n    errors?: string[]; // Errors passed from parent validation logic\n}\n\nexport function ArrayBlock<T>({ \n    title, \n    items, \n    newItemTemplate, \n    onAdd, \n    onRemove, \n    onUpdate, \n    renderItem, \n    ocrSection,\n    onOcrData\n}: ArrayBlockProps<T>) {\n\n    const handleOcr = (data: any) => {\n        if (!data) return;\n        \n        // Strategy: if data is array, add all. if object, add one.\n        if (ocrSection === 'relacao_empregados' && data.empregados && Array.isArray(data.empregados)) {\n            data.empregados.forEach((emp: any) => onAdd(emp));\n        } else if (onOcrData) {\n            onOcrData(data); // Custom handler\n        } else {\n            // Default generic merge\n            onAdd({ ...newItemTemplate, ...data });\n        }\n    };\n\n    return (\n        <div className=\"space-y-6\">\n            <SectionHeader title={title}>\n                <button onClick={() => onAdd(newItemTemplate)} className={CLS.BTN_ADD}>+ Adicionar Item</button>\n            </SectionHeader>\n            \n            {ocrSection && <GeminiUploader section={ocrSection as any} onDataExtracted={handleOcr} />}\n            \n            {items && items.length > 0 ? (\n                items.map((item, idx) => (\n                    <div key={idx} className={CLS.SECTION + \" relative border-l-4 border-l-slate-400\"}>\n                        <div className=\"absolute top-4 right-4 z-10\">\n                            <button onClick={() => onRemove(idx)} className={CLS.BTN_REMOVE}>üóë Remover</button>\n                        </div>\n                        <div className=\"pt-2\">\n                             {renderItem(item, idx, (field, val) => onUpdate(idx, field, val))}\n                        </div>\n                    </div>\n                ))\n            ) : (\n                <div className=\"text-center p-8 border-2 border-dashed border-slate-200 rounded-lg bg-slate-50\">\n                    <p className=\"text-slate-400 text-sm font-medium\">Nenhum registro adicionado.</p>\n                </div>\n            )}\n        </div>\n    );\n}\n\n// --- Simple Field Wrapper ---\nexport const Field = ({ label, value, onChange, type = \"text\", error, options }: any) => (\n    <InputGroup label={label} error={error}>\n        {options ? (\n            <select className={CLS.INPUT} value={value} onChange={e => onChange(e.target.value)}>\n                {options.map((opt: any) => (\n                    <option key={opt.value} value={opt.value}>{opt.label}</option>\n                ))}\n            </select>\n        ) : (\n            <input \n                type={type} \n                className={CLS.INPUT} \n                value={value} \n                onChange={e => onChange(type === 'number' ? Number(e.target.value) : e.target.value)} \n                step={type === 'number' ? \"0.01\" : undefined}\n            />\n        )}\n    </InputGroup>\n);\n","/**\n * OCR Service - Python Backend Integration\n * \n * This service communicates with the Python FastAPI backend for advanced PDF OCR\n * instead of using client-side Tesseract.js to avoid CDN/worker issues.\n */\n\nconst API_BASE = process.env.REACT_APP_OCR_API || 'http://localhost:8000';\n\nexport interface ExtractedPattern {\n  cnpj: string[];\n  cpf: string[];\n  dates: string[];\n  currency: string[];\n  percentages: string[];\n  phones: string[];\n  emails: string[];\n  urls: string[];\n}\n\nexport interface OCRResponse {\n  success: boolean;\n  total_pages?: number;\n  full_text?: string;\n  patterns?: ExtractedPattern;\n  summary?: {\n    total_characters: number;\n    total_lines: number;\n    unique_patterns: number;\n  };\n  error?: string;\n}\n\nexport interface BlockData {\n  [key: string]: any;\n}\n\n/**\n * Extract text from PDF using Python backend\n */\nexport async function extractTextFromPDF(file: File): Promise<OCRResponse> {\n  if (!file.type.includes('pdf')) {\n    throw new Error('‚ùå Apenas PDF √© suportado');\n  }\n\n  const formData = new FormData();\n  formData.append('file', file);\n\n  try {\n    console.log('[OCRService] Enviando PDF para backend:', file.name);\n    \n    const response = await fetch(`${API_BASE}/api/ocr/extract`, {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.detail || `HTTP ${response.status}`);\n    }\n\n    const data: OCRResponse = await response.json();\n    console.log('[OCRService] Resposta recebida:', {\n      pages: data.total_pages,\n      characters: data.summary?.total_characters,\n      patterns: data.summary?.unique_patterns,\n    });\n\n    return data;\n  } catch (error: any) {\n    const errorMsg = error.message || 'Erro ao processar PDF no backend';\n    console.error('[OCRService] Erro:', errorMsg);\n    throw new Error(`‚ùå Erro ao processar PDF: ${errorMsg}`);\n  }\n}\n\n/**\n * Extract and structure data for specific form blocks\n */\nexport async function extractBlockData(\n  file: File,\n  blockType: 'general' | 'finance' | 'all' = 'general'\n): Promise<BlockData> {\n  if (!file.type.includes('pdf')) {\n    throw new Error('‚ùå Apenas PDF √© suportado');\n  }\n\n  const formData = new FormData();\n  formData.append('file', file);\n\n  try {\n    console.log('[OCRService] Extraindo dados de bloco:', blockType);\n    \n    const response = await fetch(`${API_BASE}/api/ocr/extract-block?block_type=${blockType}`, {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.detail || `HTTP ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    // Map extracted patterns to form fields\n    return mapExtractedDataToForm(data.patterns, blockType);\n  } catch (error: any) {\n    const errorMsg = error.message || 'Erro ao extrair dados de bloco';\n    console.error('[OCRService] Erro ao extrair bloco:', errorMsg);\n    throw new Error(`‚ùå Erro na extra√ß√£o: ${errorMsg}`);\n  }\n}\n\n/**\n * Map extracted patterns to form field structure\n */\nfunction mapExtractedDataToForm(patterns: ExtractedPattern, blockType: string): BlockData {\n  const mappedData: BlockData = {};\n\n  switch (blockType) {\n    case 'general':\n      // CNPJ (primary, take first match)\n      if (patterns.cnpj && patterns.cnpj.length > 0) {\n        mappedData['cnpj'] = patterns.cnpj[0];\n      }\n      // CPF (primary, take first match)\n      if (patterns.cpf && patterns.cpf.length > 0) {\n        mappedData['cpf'] = patterns.cpf[0];\n      }\n      // Dates\n      if (patterns.dates && patterns.dates.length > 0) {\n        mappedData['dates'] = patterns.dates;\n      }\n      // Contact info\n      if (patterns.phones && patterns.phones.length > 0) {\n        mappedData['phone'] = patterns.phones[0];\n      }\n      if (patterns.emails && patterns.emails.length > 0) {\n        mappedData['email'] = patterns.emails[0];\n      }\n      break;\n\n    case 'finance':\n      // Currency values\n      if (patterns.currency && patterns.currency.length > 0) {\n        mappedData['values'] = patterns.currency;\n        // Try to extract numeric value from first currency string\n        const currencyMatch = patterns.currency[0].match(/[\\d.,]+/);\n        if (currencyMatch) {\n          mappedData['primary_value'] = currencyMatch[0];\n        }\n      }\n      // Percentages\n      if (patterns.percentages && patterns.percentages.length > 0) {\n        mappedData['percentages'] = patterns.percentages;\n      }\n      break;\n\n    case 'all':\n    default:\n      // Return all patterns\n      mappedData['patterns'] = patterns;\n      break;\n  }\n\n  return mappedData;\n}\n\n/**\n * Check if Python backend is available\n */\nexport async function checkBackendHealth(): Promise<boolean> {\n  try {\n    const response = await fetch(`${API_BASE}/health`);\n    return response.ok;\n  } catch (error) {\n    console.warn('[OCRService] Backend n√£o dispon√≠vel:', error);\n    return false;\n  }\n}\n\n/**\n * Get backend capabilities and supported features\n */\nexport async function getOCRCapabilities() {\n  try {\n    const response = await fetch(`${API_BASE}/api/ocr/info`);\n    if (!response.ok) throw new Error('Failed to get OCR info');\n    return await response.json();\n  } catch (error) {\n    console.error('[OCRService] Erro ao obter capacidades:', error);\n    return null;\n  }\n}\n\n/**\n * Detect patterns in text (useful for quick validation)\n */\nexport function detectPatterns(text: string): Partial<ExtractedPattern> {\n  const patterns: Partial<ExtractedPattern> = {};\n\n  // CNPJ pattern\n  patterns.cnpj = (text.match(/\\d{2}\\.\\d{3}\\.\\d{3}\\/\\d{4}-\\d{2}/g) || []);\n\n  // CPF pattern\n  patterns.cpf = (text.match(/\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}/g) || []);\n\n  // Dates\n  patterns.dates = (text.match(/\\d{1,2}[/-]\\d{1,2}[/-]\\d{4}/g) || []);\n\n  // Currency\n  patterns.currency = (text.match(/R\\$\\s*[\\d.,]+/g) || []);\n\n  // Percentages\n  patterns.percentages = (text.match(/\\d+(?:,\\d+)?\\s*%/g) || []);\n\n  return patterns;\n}\n","\nimport React, { useState } from 'react';\nimport { extractBlockData, checkBackendHealth } from '../services/ocrServiceBackend';\n\ninterface GeminiUploaderProps {\n  section: string; // Chave sem√¢ntica (ex: 'contratos', 'empenhos')\n  onDataExtracted: (data: any) => void;\n}\n\nexport const GeminiUploader: React.FC<GeminiUploaderProps> = ({ section, onDataExtracted }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Check backend availability on mount\n  React.useEffect(() => {\n    checkBackendHealth();\n  }, []);\n\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      \n      // Validate file type\n      if (!file.type.includes('pdf')) {\n        setError(`‚ùå Apenas PDF √© suportado. Recebido: ${file.type || 'tipo desconhecido'}`);\n        return;\n      }\n\n      setLoading(true);\n      setError(null);\n\n      try {\n        console.log(`[GeminiUploader] Enviando PDF para backend: ${file.name}`);\n        \n        // Use Python backend OCR service\n        const extractedData = await extractBlockData(file, 'general');\n        \n        console.log(`[GeminiUploader] Dados extra√≠dos com sucesso:`, extractedData);\n        onDataExtracted(extractedData);\n      } catch (err: any) {\n        console.error(`[GeminiUploader] Erro ao processar arquivo:`, err);\n        const errorMsg = err?.message || \"Erro ao processar PDF\";\n        setError(errorMsg);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"mb-6 p-4 bg-indigo-50 border border-indigo-200 rounded-lg shadow-sm\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n            <h3 className=\"text-sm font-bold text-indigo-800 flex items-center gap-2\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\" clipRule=\"evenodd\" />\n                </svg>\n                OCR Inteligente (Gemini 2.0)\n            </h3>\n            <p className=\"text-xs text-indigo-600 mt-1\">\n                Extra√ß√£o autom√°tica para se√ß√£o: <strong>{section}</strong>\n            </p>\n        </div>\n        <div className=\"relative\">\n             <input\n                type=\"file\"\n                accept=\"application/pdf\"\n                onChange={handleFileChange}\n                disabled={loading}\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                title=\"Selecione um arquivo PDF\"\n            />\n            <button disabled={loading} className={`px-4 py-2 rounded text-sm font-medium shadow transition-colors ${loading ? 'bg-indigo-300' : 'bg-indigo-600 hover:bg-indigo-700'} text-white`}>\n                {loading ? 'Lendo Documento...' : 'Upload PDF/Imagem'}\n            </button>\n        </div>\n      </div>\n      {error && <p className=\"text-red-600 text-xs mt-2 font-medium\">{error}</p>}\n    </div>\n  );\n};\n","\nimport React from 'react';\nimport { PrestacaoContas } from '../schemas/type-definitions';\nimport { SectionStatus } from '../services/validationService';\nimport { CLS } from './ui/BlockBase';\n\ninterface DashboardProps {\n    data: PrestacaoContas;\n    sectionStatus: Record<string, SectionStatus>;\n    onNavigate: (sectionId: string) => void;\n}\n\nexport const Dashboard: React.FC<DashboardProps> = ({ data, sectionStatus, onNavigate }) => {\n    \n    // Calculate Financial Totals\n    const totalRepasses = data.receitas?.repasses_recebidos?.reduce((acc, cur) => acc + (cur.valor || 0), 0) || 0;\n    const totalOutrasReceitas = (data.receitas?.outras_receitas?.reduce((acc, cur) => acc + (cur.valor || 0), 0) || 0) +\n                                (data.receitas?.receitas_aplic_financ_repasses_publicos_municipais || 0) +\n                                (data.receitas?.receitas_aplic_financ_repasses_publicos_estaduais || 0) +\n                                (data.receitas?.receitas_aplic_financ_repasses_publicos_federais || 0);\n    \n    const totalReceitas = totalRepasses + totalOutrasReceitas;\n\n    const totalPagamentos = data.pagamentos?.reduce((acc, cur) => acc + (cur.pagamento_valor || 0), 0) || 0;\n    const totalDevolucoes = data.devolucoes?.reduce((acc, cur) => acc + (cur.valor || 0), 0) || 0;\n    const totalDespesas = totalPagamentos + totalDevolucoes;\n\n    const saldo = totalReceitas - totalDespesas;\n\n    // Calculate Completion\n    // Uses the semantic keys now\n    const sectionKeys = [\n        'descritor', 'codigo_ajuste', 'dados_gerais', 'responsaveis',\n        'empenhos', 'contratos', 'documentos_fiscais', 'pagamentos', 'repasses', 'receitas', 'glosas', 'ajustes_saldo', 'descontos', 'devolucoes', 'disponibilidades',\n        'relatorio_atividades', 'relatorio_gov',\n        'relacao_empregados', 'servidores_cedidos', 'relacao_bens',\n        'demonstracoes', 'publicacoes',\n        'declaracoes', 'transparencia', 'parecer'\n    ];\n    \n    const totalSections = sectionKeys.length;\n    const validSections = (Object.values(sectionStatus) as SectionStatus[]).filter(s => s.status === 'valid').length;\n    const progress = Math.round((validSections / totalSections) * 100);\n\n    return (\n        <div className=\"space-y-8 animate-in fade-in duration-500\">\n            {/* Header / Summary */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-slate-200\">\n                    <h3 className=\"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2\">Progresso do Preenchimento</h3>\n                    <div className=\"flex items-end gap-2\">\n                        <span className=\"text-3xl font-bold text-slate-800\">{progress}%</span>\n                        <span className=\"text-sm text-slate-500 mb-1\">{validSections}/{totalSections} Blocos</span>\n                    </div>\n                    <div className=\"w-full bg-slate-100 h-2 mt-3 rounded-full overflow-hidden\">\n                        <div className=\"bg-blue-600 h-full transition-all duration-1000\" style={{ width: `${progress}%` }}></div>\n                    </div>\n                </div>\n\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-slate-200\">\n                    <h3 className=\"text-xs font-bold text-emerald-600 uppercase tracking-wider mb-2\">Total Receitas</h3>\n                    <span className=\"text-2xl font-bold text-slate-800\">\n                        {totalReceitas.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}\n                    </span>\n                    <p className=\"text-[10px] text-slate-400 mt-1\">Repasses + Rendimentos</p>\n                </div>\n\n                <div className=\"bg-white p-6 rounded-lg shadow-sm border border-slate-200\">\n                    <h3 className=\"text-xs font-bold text-red-500 uppercase tracking-wider mb-2\">Total Despesas</h3>\n                    <span className=\"text-2xl font-bold text-slate-800\">\n                        {totalDespesas.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}\n                    </span>\n                    <p className=\"text-[10px] text-slate-400 mt-1\">Pagamentos + Devolu√ß√µes</p>\n                </div>\n\n                <div className={`p-6 rounded-lg shadow-sm border ${saldo >= 0 ? 'bg-blue-50 border-blue-200' : 'bg-red-50 border-red-200'}`}>\n                    <h3 className=\"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2\">Saldo Final Estimado</h3>\n                    <span className={`text-2xl font-bold ${saldo >= 0 ? 'text-blue-700' : 'text-red-700'}`}>\n                        {saldo.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}\n                    </span>\n                    <p className=\"text-[10px] text-slate-500 mt-1\">Calculado automaticamente</p>\n                </div>\n            </div>\n\n            {/* Sections Grid */}\n            <div className={CLS.SECTION}>\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h2 className={CLS.HEADER_TITLE}>Status dos Blocos</h2>\n                    <div className=\"flex gap-4 text-xs font-medium\">\n                        <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-green-500\"></span> Completo</span>\n                        <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-red-500\"></span> Inv√°lido/Pendente</span>\n                        <span className=\"flex items-center gap-1\"><span className=\"w-2 h-2 rounded-full bg-slate-300\"></span> Vazio (Opcional)</span>\n                    </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                    {sectionKeys.map(id => {\n                        const status = sectionStatus[id];\n                        let statusColor = 'bg-slate-50 border-slate-200 text-slate-400';\n                        let icon = '‚ö™';\n\n                        if (status?.status === 'valid') {\n                            statusColor = 'bg-green-50 border-green-200 text-green-800 hover:bg-green-100';\n                            icon = '‚úÖ';\n                        } else if (status?.status === 'invalid') {\n                            statusColor = 'bg-red-50 border-red-200 text-red-800 hover:bg-red-100';\n                            icon = '‚ö†Ô∏è';\n                        }\n\n                        // Human Readable Labels for Semantic Keys\n                        const labels: Record<string, string> = {\n                            'descritor': 'Descritor', 'codigo_ajuste': 'C√≥digo Ajuste', 'dados_gerais': 'Dados Gerais', 'responsaveis': 'Respons√°veis',\n                            'empenhos': 'Empenhos', 'contratos': 'Contratos', 'documentos_fiscais': 'Docs Fiscais', 'pagamentos': 'Pagamentos', 'repasses': 'Repasses', 'receitas': 'Receitas', 'glosas': 'Glosas', 'ajustes_saldo': 'Ajustes Saldo', 'descontos': 'Descontos', 'devolucoes': 'Devolu√ß√µes', 'disponibilidades': 'Disponibilidades',\n                            'relatorio_atividades': 'Rel. Atividades', 'relatorio_gov': 'Rel. Governo',\n                            'relacao_empregados': 'Empregados', 'servidores_cedidos': 'Cedidos', 'relacao_bens': 'Bens',\n                            'demonstracoes': 'Dem. Cont√°beis', 'publicacoes': 'Publica√ß√µes',\n                            'declaracoes': 'Declara√ß√µes', 'transparencia': 'Transpar√™ncia', 'parecer': 'Parecer'\n                        };\n\n                        return (\n                            <button \n                                key={id}\n                                onClick={() => onNavigate(id)}\n                                className={`p-3 rounded border text-left transition-all ${statusColor} relative group`}\n                            >\n                                <div className=\"flex justify-between items-start\">\n                                    <span className=\"font-bold text-xs uppercase tracking-wide opacity-70\">Se√ß√£o</span>\n                                    <span>{icon}</span>\n                                </div>\n                                <div className=\"font-semibold text-sm mt-1 truncate\">\n                                    {labels[id] || id}\n                                </div>\n                                {status?.errors.length > 0 && (\n                                    <div className=\"hidden group-hover:block absolute bottom-full left-0 w-full bg-slate-800 text-white text-[10px] p-2 rounded mb-2 z-10 shadow-lg\">\n                                        {status.errors[0]} {status.errors.length > 1 && `(+${status.errors.length - 1})`}\n                                    </div>\n                                )}\n                            </button>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":["CLS","INPUT","CHECKBOX","LABEL","SECTION","BTN_ADD","BTN_REMOVE","BTN_SUB","HEADER_TITLE","HEADER_DIVIDER","GRID_CONTAINER","FLEX_ROW_CENTER","SectionHeader","_ref","title","children","_jsxs","className","_jsx","InputGroup","_ref2","label","error","ArrayBlock","_ref3","items","newItemTemplate","onAdd","onRemove","onUpdate","renderItem","ocrSection","onOcrData","onClick","GeminiUploader","section","onDataExtracted","data","empregados","Array","isArray","forEach","emp","_objectSpread","length","map","item","idx","field","val","Field","_ref4","value","onChange","type","options","e","target","opt","Number","step","undefined","API_BASE","process","loading","setLoading","useState","setError","React","async","fetch","concat","ok","console","warn","checkBackendHealth","xmlns","viewBox","fill","fillRule","d","clipRule","accept","files","file","includes","log","name","extractedData","blockType","arguments","Error","formData","FormData","append","response","method","body","errorData","json","detail","status","patterns","mappedData","cnpj","cpf","dates","phones","emails","currency","currencyMatch","match","percentages","mapExtractedDataToForm","errorMsg","message","extractBlockData","err","disabled","Dashboard","_data$receitas","_data$receitas$repass","_data$receitas2","_data$receitas2$outra","_data$receitas3","_data$receitas4","_data$receitas5","_data$pagamentos","_data$devolucoes","sectionStatus","onNavigate","totalReceitas","receitas","repasses_recebidos","reduce","acc","cur","valor","outras_receitas","receitas_aplic_financ_repasses_publicos_municipais","receitas_aplic_financ_repasses_publicos_estaduais","receitas_aplic_financ_repasses_publicos_federais","totalDespesas","pagamentos","pagamento_valor","devolucoes","saldo","sectionKeys","totalSections","validSections","Object","values","filter","s","progress","Math","round","style","width","toLocaleString","id","statusColor","icon","errors"],"ignoreList":[],"sourceRoot":""}